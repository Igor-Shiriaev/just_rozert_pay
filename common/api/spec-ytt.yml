#@ load("@ytt:data", "data")
#@ load("@ytt:template", "template")
#@ load("@ytt:yaml", "yaml")
#@ load("@ytt:overlay", "overlay")
#@ load("spec-partner_program.lib.yml", "partner_program_paths", "partner_program_components")
#@ load("spec-payment.lib.yml", "payment_paths", "payment_components")
#@ load("spec-payment.autogenerate.lib.yml", "extra_spec_definitions")
#@ load("spec-promotion.lib.yml", "promotion_paths", "promotion_components")

#@ def get_challenges_headers():
#@ for/end h in data.values.challenges_headers:
  - #@ h
#@ end
---


openapi: 3.0.3
info:
  title: Betmaster API
  version: '1.0'
  description: |-
    Welcome to Betmaster API documentation.
    The API documentation provides requests to build the SportsSportradar, casino page and get information about marketing offers.
    We use built-in HTTP features, such as HTTP authentication and HTTP terminology, which can be understood by HTTP clients.
    JSON will be returned in all responses from the API, including errors.
  contact:
    name: Betmaster
    url: 'https://betmaster.bet'
    email: info@betmaster.bet
servers:
  - url: 'http://localhost:5000/api'
  - url: 'https://betmaster.bet/api'
tags:
  - name: agreements
  - name: auth
  - name: betting
  - name: cashout
  - name: casino
  - name: casino/casino-block-games
  - name: challenges
  - name: contacts
  - name: crypto_address
  - name: eesti
  - name: evolution
  - name: foreigns
  - name: info
  - name: init
  - name: live
  - name: logged_in
  - name: loyalty_program
  - name: marketing
  - name: mini games
  - name: payment
  - name: page_data
  - name: partner_program
  - name: pragmaticplay bingo
  - name: promotion
  - name: responsible_gambling
  - name: rewards
  - name: rewind
  - name: search
  - name: sports
  - name: sports/oddin
  - name: sports/pinnacle
  - name: sports/sportradar
  - name: sumsub

paths:

  /search/search:
    post:
      summary: Cross product POST search
      description: Search across specified entities with specified filters in mind
      tags:
        - search
      operationId: search.search
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.search.search_request'
      responses:
        '200':
          description: Found results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.search.search_result'

  /search/search-nofilter:
    get:
      summary: Cross product GET search
      description: GET Search across specified entities (no filters)
      tags:
        - search
      operationId: search.search_no_filters
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: query
          description: User search query
          in: query
          required: true
          schema:
            type: string
            minLength: 2
            maxLength: 100
      responses:
        '200':
          description: Found results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.search.search_result'

  /search/meta:
    get:
      summary: Metadata required for searching
      description: Metadata required for searching
      tags:
        - search
      operationId: search.get_meta
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
      responses:
        '200':
          description: Found results
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.search.meta'

  /challenges/totp/devices:
    get:
      summary: Get confirmed TOTP devices
      tags:
        - challenges
        - logged_in
      operationId: challenges.totp.devices
      description: Get confirmed TOTP devices
      responses:
        '200':
          description: All confirmed TOTP devices
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.totp.confirmed_devices'
    post:
      summary: Create new TOTP device
      tags:
        - challenges
        - logged_in
      operationId: challenges.totp.devices.create
      description: Resend resendable challenge (via email or phone).
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.challenges.totp.create_device'
      responses:
        '200':
          description: Created unconfirmed device along with challenge to confirm it
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.totp.device_with_challenges'

  /challenges/totp/devices/{device_id}/confirm:
    parameters: #@ get_challenges_headers()
    post:
      summary: Create new TOTP device
      tags:
        - challenges
        - logged_in
      operationId: challenges.totp.devices.confirm
      description: Confirm previously created TOTP device by solving challenge
      parameters:
        - name: device_id
          description: Device public id (uuid).
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Confirmed TOTP device
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/challenges.totp.device'
        '401':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /challenges/totp/devices/{device_id}/deactivate:
    parameters: #@ get_challenges_headers()
    post:
      summary: Deactivate TOTP device (descructive operation, it's impossible to activate device again).
      tags:
        - challenges
        - logged_in
      operationId: challenges.totp.devices.deactivate
      description: Deactivate TOTP device
      parameters:
        - name: device_id
          description: Device public id (uuid).
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Deactivated TOTP device
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/challenges.totp.device'
        '401':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /challenges/pkcs/public-key:
    post:
      summary: Register user's Public Key
      tags:
        - challenges
        - logged_in
      operationId: challenges.pkcs.register_public_key
      description: Register user's Public Key
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.challenges.pkcs.register_public_key'
      responses:
        '200':
          description: Registered Public Key structure
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.pkcs.public_key'

  /challenges/skid/auth/{session_id}/initiate:
    post:
      description: Initiate previously created SmartID | MobileID auth session (there are also "sign" sessions which are not supported by us).
      parameters:
        - name: session_id
          description: Auth session identifier
          in: path
          required: true
          schema:
            type: string
        - in: header
          name: VND-bmt-challenges-auth-token
          description: |-
            Challenges token granting an access to this session
            This token can be received after signup/signin with estonian ID (or any other ID supporting SmartID auth flow).
          schema:
            type: string
          required: true
      tags:
        - skid
      operationId: challenges.skid.auth.session_initiate
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.skid.auth.initiated_session'

  /challenges/skid/auth/{session_id}/status:
    get:
      description: Get status of SmartID | MobileID auth session
      tags:
        - skid
      parameters:
        - name: session_id
          description: Auth session identifier
          in: path
          required: true
          schema:
            type: string
        - in: header
          name: VND-bmt-challenges-auth-token
          description: |-
            Challenges token granting an access to this session
            This token can be received after signup/signin with estonian ID (or any other ID supporting SKID auth flow).
          schema:
            type: string
          required: true
      operationId: challenges.skid.auth.session_status
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.skid.auth.session_status'

  /challenges/challenges/{challenge_id}/resend:
    post:
      summary: Resend challenge
      tags:
        - challenges
      operationId: challenges.resend
      description: Resend resendable challenge (via email or phone).
      parameters:
        - name: challenge_id
          description: Challenge public id (uuid).
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - in: header
          name: VND-bmt-challenges-auth-token
          schema:
            type: string
          required: true
      responses:
        '200':
          description: Empty object
          content:
            application/json:
              schema:
                type: object

  /bet/sr/{bet_id}:
    get:
      summary: Bet info
      tags:
        - sports
        - betting
      operationId: bet.info
      description: Get bet info by public id (uuid)
      parameters:
        - name: bet_id
          description: Bet's public id (uuid).
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Bet status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sports.bet'

  /bet/sr/{bet_id}/cashout:
    post:
      summary: Cashout bet
      tags:
        - sports
        - betting
        - cashout
      operationId: bet.cashout
      description: Cashout bet
      parameters:
        - name: bet_id
          description: Bet's public id (uuid).
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.sports.betting.cashout'
      responses:
        '200':
          description: Returns updated (cashed out) bet.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sports.betting.cashout'
        '409':
          description: Returns new cashout context instead of outdated one.
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/core.http_error'
                  - $ref: '#/components/schemas/response.sports.betting.cashout_context_error.error'

  /bet/sr/{bet_id}/cashout/v2:
    post:
      summary: Cashout bet v2 (with delay)
      tags:
        - sports
        - betting
        - cashout
      operationId: bet.cashout_v2
      description: Cashout bet in background with requested context (amount)
      parameters:
        - name: bet_id
          description: Bet's public id (uuid).
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.sports.betting.cashout'
      responses:
        '200':
          description: Pending cashout request status
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sports.betting.cashout_request_status'

  /casino/catalog/v3:
    get:
      description: Fetch casino catalog. Should only be used for prerender.
      operationId: casino.catalog.v3
      tags:
        - casino
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: is_exempted_from_location_limits
          description: |-
            Whether user has this feature flag in his profile.
            Used as part of url cache key.
          in: query
          required: true
          schema:
            type: boolean
      responses:
        '200':
          description: Casino catalog v3
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.games_selection'

  /casino/catalog/v4:
    get:
      description: Fetch casino catalog. No private games are returned.
      operationId: casino.catalog.v4
      tags:
        - casino
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: is_exempted_from_location_limits
          description: |-
            Whether user has this feature flag in his profile.
            Used as part of url cache key.
          in: query
          required: true
          schema:
            type: boolean
        - name: only_meta
          description: return only meta information without games
          in: query
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Casino catalog v4
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.games_short_selection'

  /casino/games:
    get:
      description: >-
        Casino games by id with the same criteria as `casino.catalog.v4` but private games are returned.
      operationId: casino.games
      tags:
        - casino
      parameters:
        - name: id
          description: List of IDs
          in: query
          required: true
          schema:
            type: array
            items:
              type: integer
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: is_exempted_from_location_limits
          description: |-
            Whether user has this feature flag in his profile.
            Used as part of url cache key.
          in: query
          required: true
          schema:
            type: boolean
      responses:
        '200':
          description: Casino games
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.games_full_by_id'

  /casino/auth/anonymous/v2:
    post:
      description: Initialize a process of getting a demo game url for anonymous user.
      operationId: casino.auth.anonymous.get_request_token
      tags:
        - casino
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.casino.auth.anonymous.get_request_token'
      responses:
        '200':
          description: New request token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.auth.anonymous.get_request_token'

  /casino/auth/v2:
    post:
      description: Initialize a process of getting a game url V2.
      operationId: casino.auth.request_launch_url_v2
      tags:
        - casino
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.casino.auth.request_launch_url_v2'
      responses:
        '200':
          description: Requests a new game launch url for a logged in user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.auth.request_launch_url_v2'

  /casino/auth/v2/{launch_id}:
    get:
      description: Casino session by launch id
      tags:
        - casino
      operationId: casino.auth.session.get
      parameters:
        - name: launch_id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Casino session by launch id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.last_opened_session_response'

  /casino/auth/anonymous/v2/{request_token}:
    get:
      description: Get a demo game url for anonymous user by request token returned by casino.auth.anonymous.get_request_token
      tags:
        - casino
      operationId: casino.auth.anonymous.get_demo_game_url
      parameters:
        - name: request_token
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Demo game url for anonymous user.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.auth.anonymous.get_demo_game_url'

  /casino/winners-live-stream/v2:
    get:
      description: Top of recent casino wins for specified parameters v2.
      tags:
        - casino
      operationId: casino.winners_live_stream.winners_live_stream_v2
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: currency
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.currency'
        - name: country
          in: query
          required: true
          schema:
            type: string
        - name: is_exempted_from_location_limits
          in: query
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: Top of recent casino wins for specified market, country and currency
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.winners_live_stream.winners_live_stream_v2'

  /casino/recently-played-games:
    get:
      description: Top of recent casino games the user launched
      tags:
        - casino
      operationId: casino.recently_played_games
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
      responses:
        '200':
          description: Last games the user launched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.games_selection'

  /casino/last-opened-session:
    get:
      description: Last game session the user launched
      tags:
        - casino
      operationId: casino.last_opened_session
      responses:
        '200':
          description: Last game session the user launched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.last_opened_session_response'


  /casino/session/{session_token}/close:
    post:
      description: Closes game session by token.
      operationId: casino.session.close
      tags:
        - casino
      parameters:
        - name: session_token
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Session is closed

  /evolution/live-casino-info:
    get:
      description: Returns info about Evolution games for live casino.
      tags:
        - casino
        - evolution
        - live
      operationId: api.evolution.live_casino_info
      responses:
        '200':
          description: Returns live information.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.live_games_info'

  /casino/live-games-info:
    get:
      description: Returns live games info.
      deprecated: true
      tags:
        - casino
        - live
      operationId: casino.live_games_info
      parameters:
        - name: system
          description: Casino provider type
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/casino.provider_type'
      responses:
        '200':
          description: Returns live games info.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.live_games_info'

  /casino/live-games-info/v2:
    get:
      description: Returns live games info for all providers.
      deprecated: true
      tags:
        - casino
        - live
      operationId: casino.live_games_info_v2
      responses:
        '200':
          description: Returns live games info for all providers.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.live_games_info_v2'

  /casino/live-games-info/v3:
    get:
      description: Returns live games info for all providers.
      tags:
        - casino
        - live
      operationId: casino.live_games_info_v3
      parameters:
        - name: license_id
          description: License id
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.licenseId'
        - name: domain_group_id
          description: Domain group id
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.domainGroupId'
      responses:
        '200':
          description: Returns live games info for all providers.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.live_games_info_v3'

  /casino/bingo-rooms-info/pragmaticplay:
    get:
      description: Returns bingo rooms info.
      tags:
        - casino
      operationId: casino.bingo_rooms_info
      parameters:
        - name: currency
          description: User currency
          in: query
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Returns bingo rooms info.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.bingo_rooms_info'

  /casino/bets:
    get:
      description: Fetch user casino bets.
      tags:
        - casino
      operationId: casino.bets
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
        - name: offset_id
          in: query
          required: false
          schema:
            type: integer
            description: Timestamp to paginate results
        - name: game_type
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/casino.game_type'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                type: object
                required:
                  - history_items
                  - paginator
                properties:
                  history_items:
                    type: array
                    items:
                      $ref: '#/components/schemas/casino.history_item'
                  paginator:
                    $ref: '#/components/schemas/core.paginator'

  /stats/user-ggr:
    get:
      description: Fetch user ggr stats.
      tags:
        - casino
      operationId: stats.user-ggr
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.stats.user_ggr'

  /auth/oauth/initiate:
    post:
      description: Initiate OAuth flow
      operationId: auth.oauth.initiate
      tags:
        - auth
        - oauth
      parameters:
        - in: query
          name: provider
          required: true
          schema:
            type: string
            enum:
              - google
              - facebook
              - apple
              - twitter
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.oauth.flow'

  /auth/oauth/exchange-code:
    post:
      description: Exchange OAuth code for user's data and prepare flow for finalization
      operationId: auth.oauth.exchange_code
      tags:
        - auth
        - oauth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.oauth.exchange_code'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.oauth.flow'

  /auth/oauth/finalize:
    post:
      description: |-
        Finalize OAuth flow. Repeat every second until status = "completed" or "awaiting_registration" or "error".
        If user is returned it means he is already confirmed and signed in (and status is "completed").
      operationId: auth.oauth.finalize
      tags:
        - auth
        - oauth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.oauth.finalize'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.oauth.flow_and_maybe_user'

  /auth/oauth/register:
    post:
      description: Register with OAuth flow (only if /finalize api returned status "awaiting_registration").
      operationId: auth.oauth.register
      tags:
        - auth
        - oauth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.oauth.register'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.oauth.flow_and_maybe_user'

  /auth/email/register/v2:
    parameters:
      - in: header
        name: VND-bmt-challenges-supported
        schema:
          type: string
    post:
      description: Register user
      operationId: auth.register_v2.email
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.register_v2.email'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.register_v2'

  /auth/account_id/register/v2:
    post:
      description: Register user
      operationId: auth.register_v2.account_id
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.register_v2.account_id'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.register_v2'

  /auth/estonian-id/register/v2:
    parameters:
      - in: header
        name: VND-bmt-challenges-supported
        schema:
          type: string
    post:
      description: Register user with estonian personal code
      operationId: auth.register_v2.estonian_id
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.register_v2.estonian_id'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.register_v2'

  /auth/pkcs/signin:
    parameters: #@ get_challenges_headers()
    post:
      description: Signin with RSA-Signature challenge answer
      operationId: auth.pkcs.signin
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.pkcs.signin'
      responses:
        '200':
          description: Signed in response with user app object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.signin_app'
        '409':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/core.http_error'
                  - $ref: '#/components/schemas/response.challenges.challenges_incorrect_answers_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_are_invalid_error.error'


  /auth/email/signin:
    parameters: #@ get_challenges_headers()
    post:
      description: Signin with email and password pair
      operationId: auth.email.signin
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.email.signin'
      responses:
        '200':
          description: Signed in response with user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.signin'
        '409':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/core.http_error'
                  - $ref: '#/components/schemas/response.challenges.challenges_required_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_incorrect_answers_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_are_invalid_error.error'

  /auth/estonian-id/signin:
    parameters: #@ get_challenges_headers()
    post:
      description: Signin via estonian ID.
      operationId: auth.estonian_id.signin
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.estonian_id.signin'
      responses:
        '200':
          description: Signed in response with user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.signin'
        '409':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/core.http_error'
                  - $ref: '#/components/schemas/response.challenges.challenges_required_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_incorrect_answers_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_are_invalid_error.error'

  /auth/account_id/signin:
    post:
      description: Signin with account_id and password pair
      operationId: auth.account_id.signin
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.account_id.signin'
      responses:
        '200':
          description: Signed in response with user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.signin'
        '409':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                anyOf:
                  - $ref: '#/components/schemas/core.http_error'
                  - $ref: '#/components/schemas/response.challenges.challenges_required_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_incorrect_answers_error.error'
                  - $ref: '#/components/schemas/response.challenges.challenges_are_invalid_error.error'

  /auth/email/password/change:
    post:
      description: Change user password
      operationId: auth.email.password.change
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.email.password.change'
      responses:
        '200':
          description: Empty response.
          content:
            application/json:
              schema:
                type: object
                properties: {}

  /auth/email/password/reset/v2:
    post:
      description: First request in "password reset" flow.
      operationId: auth.email.password.reset_v2
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.email.password.reset_v2'
      responses:
        '200':
          description: Empty successful response, confirming that password has been reset.
          content:
            application/json:
              schema:
                type: object
        '401':
          description: Challenges error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /auth/phone/register/v2:
    parameters:
      - in: header
        name: VND-bmt-challenges-supported
        schema:
          type: string
    post:
      description: Register user
      operationId: auth.register_v2.phone
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.register_v2.phone'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.register_v2'

  /auth/phone/signin:
    parameters: #@ get_challenges_headers()
    post:
      description: Signin with phone and challenges
      operationId: auth.signin.phone
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.phone.signin'
      responses:
        '200':
          description: Signed in response with user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.signin'
        '401':
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /auth/whatsapp/register/v2:
    parameters:
      - in: header
        name: VND-bmt-challenges-supported
        schema:
          type: string
    post:
      description: Register user
      operationId: auth.register_v2.whatsapp
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.register_v2.phone'
      responses:
        '200':
          description: Ok
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.register_v2'

  /auth/whatsapp/signin:
    parameters: #@ get_challenges_headers()
    post:
      description: Signin with phone via whatsap and challenges
      operationId: auth.signin.whatsapp
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.phone.signin'
      responses:
        '200':
          description: Signed in response with user object
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.signin'
        '401':
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /auth/crypto-address/signin:
    parameters: #@ get_challenges_headers()
    post:
      description: Signin with confirmed crypto address and solved crypto challenge.
      operationId: auth.signin.crypto_address
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.crypto_address.signin'
      responses:
        '200':
          description: Signed in user structure.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/user.user'
        '401':
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /auth/crypto-addresses:
    get:
      description: Get all user crypto addresses
      tags:
        - logged_in
        - auth
        - crypto_address
      operationId: auth.crypto_address.get
      responses:
        '200':
          description: List of all user crypto addresses
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.crypto_address.addresses_list'
    post:
      description: Create unconfirmed crypto address.
      operationId: auth.crypto_address.create
      tags:
        - auth
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.crypto_address.create'
      responses:
        '200':
          description: Created unconfirmed crypto address along with confirmation challenge.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.crypto_address.address_with_challenges'

  /auth/crypto-addresses/{crypto_address_id}/confirm:
    parameters:
      #@ for h in data.values.challenges_headers:
        - #@ h
      #@ end
        - in: path
          name: crypto_address_id
          description: Crypto address public id
          schema:
            type: string
            format: uuid
          required: true
    post:
      description: Finalize crypto address binding by solving confirmation challenge.
      operationId: auth.crypto_address.confirm
      tags:
        - auth
        - logged_in
      responses:
        '200':
          description: Contains crypto address with proved ownership.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/crypto_address.address'
        '401':
          description: Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /auth/promotion-group-type:
    post:
      description: Sets promotion group type for user
      operationId: auth.promotion_group_type.set
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.promotion_group_type.set'
      responses:
        '200':
          description: Confirms that promotion group type was set.
        '400':
          description: Invalid promotion group type or promotion group type is already set.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/core.http_error'

  /auth/subscription:
    get:
      description: Get subscription channels and products
      operationId: auth.subscription.get
      tags:
        - auth
        - logged_in
      responses:
        '200':
          description: Subscription channels and products
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/request.auth.subscription.create'

    post:
      description: Sets subscription channels.
      operationId: auth.subscription.create
      tags:
        - auth
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.subscription.create'
      responses:
        '201':
          description: Confirms that subscription was set.
    put:
      description: Update subscription channels.
      operationId: auth.subscription.update
      tags:
        - auth
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.subscription.create'
      responses:
        '200':
          description: Confirms that subscription was updated.

  /auth/billing-addresses/create:
    post:
      description: Create user's billing addresses.
      operationId: auth.billing_addresses.create_new_and_maybe_deactivate
      tags:
        - auth
        - pid
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.billing_addresses.create_and_deactivate'
      responses:
        '200':
          description: Contains user's billing addresses.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_addresses'

  /auth/billing-addresses/list:
    parameters:
      - name: payment_system
        in: query
        required: true
        schema:
          type: string
    get:
      description: |-
        Returns user's billing addresses for payment system and whether we need a new one.
        Zero billing addresses in response doesn't mean automatically that we need a new one,
        because some payment systems do not require data from billing address, and some
        require only some fraction of the billing address's fields that we have already collected
        during registration and saved them to user's personal data.
      operationId: auth.billing_addresses.get
      tags:
        - auth
        - logged_in
        - pid
      responses:
        '200':
          description: Contains user's billing addresses.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_addresses_v3'

  /auth/billing-addresses/suggestions:
    get:
      operationId: auth.billing_addresses.suggestions
      tags:
        - auth
        - logged_in
        - pid
      responses:
        '200':
          description: Suggestions for billing address values
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_address_suggestions'

  /auth/billing-addresses/v2:
    parameters:
      - name: payment_system
        in: query
        required: false
        schema:
          type: string
    post:
      description: Create user's billing addresses.
      operationId: auth.billing_addresses.create
      deprecated: true
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.billing_addresses.billing_address'
      responses:
        '200':
          description: Contains user's billing addresses.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_addresses'

  /auth/billing-addresses/v3:
    parameters:
      - name: payment_system
        in: query
        required: true
        schema:
          type: string
    get:
      description: |-
        Returns user's billing addresses for payment system and whether we need a new one.
        Zero billing addresses in response doesn't mean automatically that we need a new one,
        because some payment systems do not require data from billing address, and some
        require only some fraction of the billing address's fields that we have already collected
        during registration and saved them to user's personal data.
      operationId: auth.billing_addresses.get_v3
      deprecated: true
      tags:
        - auth
        - logged_in
        - pid
      responses:
        '200':
          description: Contains user's billing addresses.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_addresses_v3'

  /auth/billing-addresses/{billing_address_id}:
    parameters:
      - name: billing_address_id
        in: path
        required: true
        schema:
          type: string
          #! format: uuid
      - name: payment_system
        in: query
        required: false
        schema:
          type: string
    get:
      description: Return user's billing address with specified id.
      operationId: auth.billing_address.get
      deprecated: true
      tags:
        - auth
      responses:
        '200':
          description: Contains user's billing address.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_address'
    put:
      description: Updates user's billing address with specified id.
      operationId: auth.billing_address.update
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.billing_address._update'
      responses:
        '200':
          description: Contains updated user's billing address.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.billing_address'
    delete:
      description: Deletes user's billing address with specified id
      operationId: auth.billing_address.delete
      tags:
        - auth
      responses:
        '200':
          description: Confirms successful deletion.

  /auth/contacts:
    post:
      description: Create user contact
      tags:
        - logged_in
        - auth
        - contacts
      operationId: auth.contacts.create
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.contacts.create'
      responses:
        '200':
          description: Contains unconfirmed user address along with requested challenges
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.contacts.contact_with_challenges'
    get:
      description: Get all user contacts
      tags:
        - logged_in
        - auth
        - contacts
      operationId: auth.contacts.get
      responses:
        '200':
          description: List of all user contacts
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.contacts.contacts_list'

  /auth/contacts/{contact_id}/confirm:
    parameters:
      - name: contact_id
        in: path
        required: true
        schema:
          type: string
          format: uuid
      - in: header
        name: VND-bmt-challenges-auth-token
        schema:
          type: string
        required: false
      - in: header
        name: VND-bmt-challenges-answers
        schema:
          type: string
        required: false
    post:
      description: Confirm user contact with challenges
      tags:
        - logged_in
        - auth
        - contacts
      operationId: auth.contacts.confirm
      responses:
        '200':
          description: Confirmed user contact
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/contacts.contact'
        '401':
          description: Http error which requires user to solve challenges
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.challenges.any_error.error'

  /auth/contacts/{contact_id}:
    parameters:
      - name: contact_id
        in: path
        required: true
        schema:
          type: string
          format: uuid
    put:
      description: Update user contact
      tags:
        - logged_in
        - auth
        - contacts
      operationId: auth.contacts.update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.contacts.update'
      responses:
        '200':
          description: Updated user contact
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/contacts.contact'

  /auth/magic_link/signin:
    get:
      summary: Make sigin with magic link
      description: User receives a magic link to one of his channel and clicks on it to sign in
      tags:
        - auth
      operationId: auth.signin.magic_link
      parameters:
        - name: token
          description: |-
            Challenge token contains challenge token + challenge answer because
            user gains the link in an outer channel and signs in by clicking
            the link without coming to the intermediate pages on our site.
            And that's why we don't use the headers to provide challenge and answer as usual.
          in: query
          required: true
          schema:
            type: string
      responses:
        '302':
          description: In case of success redirect to action url with session cookie, otherwise to /auth/sign-in without session cookie

  /auth/signout:
    post:
      description: Sign out.
      operationId: auth.signout
      tags:
        - auth
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.signout'
      responses:
        '200':
          description: Empty response.
  /auth/generate-auth-token:
    post:
      description: Generates auth token.
      operationId: auth.generate_auth_token
      tags:
        - auth
      responses:
        '200':
          description: Contains a token and a token expiration timestamp.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.generate_auth_token'

  /auth/auth-and-redirect:
    get:
      description: Authenticates user by token and redirects to specified url.
      operationId: auth.auth_and_redirect
      tags:
        - auth
      parameters:
        - name: token
          in: query
          schema:
            type: string
          required: true
        - name: to
          in: query
          schema:
            type: string
          required: true
        - name: user_timezone
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
          in: query
          schema:
            type: string
          required: false
        #@yaml/text-templated-strings
        #@ for m in data.values.marketing_param:
        - name: (@= m @)
          description: "User (@= m @) parameter"
          in: query
          required: false
          schema:
            type: string
        #@ end

      responses:
        '302':
          description: Redirect to specified url with session cookie

  /auth/sessions/list:
    get:
      description: Returns list of all user sessions
      operationId: auth.sessions.list
      tags:
        - auth
      parameters:
        - name: is_active
          in: query
          schema:
            type: boolean
          required: false
        - name: offset
          in: query
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: per_page
          in: query
          schema:
            type: integer
            default: 10
      responses:
        '200':
          description: Contains list of sessions
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.session_list'

  /auth/sessions/{session_id}/close:
    post:
      description: Closes user session
      operationId: auth.sessions.close
      tags:
        - auth
      parameters:
        - name: session_id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: session was closed
          content:
            application/json:
              schema:
                type: object
                properties: {}

  /auth/info:
    get:
      description: Returns user's info.
      operationId: auth.info
      tags:
        - auth
      responses:
        '200':
          description: Contains user's info.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/user.user'
    put:
      description: Updates user's info.
      operationId: auth.update_info
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.update_info'
      responses:
        '200':
          description: Contains updated user's info.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.info'

  /auth/unsubscribe/v2:
    post:
      description: Unsubscribes an user from SMS and Email messages (emails moved from v1 to v2)
      operationId: auth.unsubscribe_from_sms
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.unsubscribe_from_sms'
      responses:
        '200':
          description: Operation result.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.unsubscribe_from_sms'
        '404':
          description: User not found.
        '410':
          description: Invalid token.

  /auth/deactivate:
    post:
      description: Deactivates user (self-exclusion)
      operationId: auth.deactivate
      tags:
        - auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.deactivate'
      responses:
        '200':
          description: Contains user's deactivation status.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.deactivate'

  /auth/bets/unsettled:
    get:
      description: Returns only unsettled bets.
      operationId: auth.bets_unsettled
      tags:
        - sports
        - betting
        - logged_in
      responses:
        '200':
          description: Returns only unsettled bets.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.bets_unsettled'

  /auth/bets/unsettled/counter:
    get:
      description: Returns unsettled bets counter.
      operationId: auth.bets_unsettled_counter
      tags:
        - sports
        - betting
        - logged_in
      parameters:
        - name: provider
          in: query
          schema:
            $ref: '#/components/schemas/sports.provider'
          required: false
      responses:
        '200':
          description: Returns unsettled bets counter for specifier provider
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.auth.bets_unsettled_counter'

  /auth/favorites/casino_game:
    get:
      description: Returns user's favorite casino games.
      operationId: auth.favorites.casino_game
      tags:
        - casino
        - logged_in
      responses:
        '200':
          description: Returns user's favorite casino games.
          content:
            application/json:
              schema:
                type: object
                required:
                  - favorites
                properties:
                  favorites:
                    $ref: '#/components/schemas/favorites.casino_game'
    post:
      description: Adds casino game to user's favorites.
      operationId: auth.favorites.casino_game.add
      tags:
        - casino
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/favorites.favorite_casino_game'
                - type: object
                  required:
                    - state
                  properties:
                    state:
                      type: boolean
                      default: true
      responses:
        '200':
          description: Returns user's favorite casino games.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.casino_game'

  /auth/favorites/sport:
    get:
      description: Returns user's favorite sports.
      operationId: auth.favorites.sport
      tags:
        - sports
        - logged_in
      responses:
        '200':
          description: Returns user's favorite sports.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.sport'
    post:
      description: Adds sport to user's favorites.
      operationId: auth.favorites.sport.add
      tags:
        - sports
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/favorites.favorite_sport'
                - type: object
                  required:
                    - state
                  properties:
                    state:
                      type: boolean
                      default: true
      responses:
        '200':
          description: Returns user's favorite sports.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.sport'

  /auth/favorites/sport_market:
    get:
      description: Returns user's favorite sport markts.
      operationId: auth.favorites.sport_market
      tags:
        - sports
        - logged_in
      responses:
        '200':
          description: Returns user's favorite sport markets.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.sport_market'
    post:
      description: Adds sport market to user's favorites.
      operationId: auth.favorites.sport_market.add
      tags:
        - sports
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/favorites.favorite_sport_market'
                - type: object
                  required:
                    - state
                  properties:
                    state:
                      type: boolean
                      default: true
      responses:
        '200':
          description: Returns user's favorite sport markets.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.sport_market'

  /auth/favorites/match:
    get:
      description: Returns user's favorite matches.
      operationId: auth.favorites.match
      tags:
        - sports
        - logged_in
      responses:
        '200':
          description: Returns user's favorite matches.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.match'
    post:
      description: Adds match to user's favorites.
      operationId: auth.favorites.match.add
      tags:
        - sports
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/favorites.favorite_match'
                - type: object
                  required:
                    - state
                  properties:
                    state:
                      type: boolean
                      default: true
      responses:
        '200':
          description: Returns user's favorite matches.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/favorites.match'

  /auth/user/additional-registration-data:
    post:
      description: |-
        Collect more data from the user (registration step 2) in case he used
        multistep registration flow (Peru, pay and play, oauth, etc).
      operationId: auth.additional_registration_data
      deprecated: true
      tags:
        - auth
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.auth.user_additional_registration_data'
      responses:
        '201':
          description: Empty response.

  /init/a:
    get:
      summary: Init A (more important than B)
      tags:
        - init
      operationId: init.a
      description: Init A (more important than B)
      parameters:
        - name: phone
          description: Phone forced by client
          in: query
          schema:
            type: string
        - name: market
          description: Product market forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: country
          description: Country forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.country'
      responses:
        '200':
          description: Returns complete amount of minimum data required for client initialization.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.init.a'

  /init/b:
    get:
      summary: Init B (less important than A)
      tags:
        - init
      operationId: init.b
      description: Init B (less important than A)
      responses:
        '200':
          description: Returns server time and sets CSRF token
          content:
            application/json:
              schema:
                properties:
                  time:
                    type: number

  /init/app:
    get:
      summary: Init App (for native apps only)
      tags:
        - init
      operationId: init.app
      description: Init App (for native apps only)
      parameters:
        - name: market
          description: Product market forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: country
          description: Country forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.country'
      responses:
        '200':
          description: Returns complete amount of minimum data required for client initialization.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.init.app'

  /get-flags:
    get:
      summary: Returns A/B flags for user (anonym)
      operationId: get.flags
      description: Returns A/B flags for user (anonym)
      responses:
        '200':
          description: Returns server time and sets CSRF token
          content:
            application/json:
              schema:
                properties:
                  ab_flags:
                    type: object
                    format: bm.core.API_ABFlags

  /exchange-rates:
    get:
      summary: Get most up to date exchange rates
      description: Get most up to date exchange rates
      tags:
        - logged_in
      operationId: get_exchange_rates
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/core.exchange_rates'

  /info/v2/stats:
    get:
      description: Returns user's financial stats stats
      tags:
        - info
      operationId: info.stats
      responses:
        '200':
          description: Returns info stats result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.info.stats_full'

  /successful-deposits-payment-systems:
    get:
      description: Returns payment systems of an user successful deposits
      operationId: user.successful_deposits_payment_systems
      responses:
        '200':
          description: Payment systems. First system is a system of the last sucessful deposit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.user.successful_deposits_payment_systems'

  /loyalty_program/switch/check:
    post:
      description: Switch loyalty program
      tags:
          - loyalty_program
          - logged_in
      operationId: loyalty_program.switch.check
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.switch'
      responses:
        '200':
          description: Returns loyalty program switch result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.program_status'

  /loyalty_program/switch:
    post:
      description: Switch loyalty program
      tags:
          - loyalty_program
          - logged_in
      operationId: loyalty_program.switch
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.switch'
      responses:
        '200':
          description: Returns loyalty program switch result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.program_status'

  /loyalty_program/cancel_switch:
    post:
      description: Cancel program switch
      tags:
        - loyalty_program
        - logged_in
      operationId: loyalty_program.cancel_switch
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.cancel_switch'
      responses:
        '200':
          description: Returns loyalty program switch result
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.program_status'

  /responsible-gambling/requests:
    get:
      description: Get pending responsible gambling limit update requests
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.requests
      responses:
        '200':
          description: Returns list of requests that awaits execution
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.limit_update.requests_list'

  /responsible-gambling/requests/approve:
    post:
      description: Approve pending responsible gambling limit update request
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.requests.approve
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.limit_update.request_approve'
      responses:
        '200':
          description: Returns list of requests that awaits execution
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.limit_update.requests_list'

  /responsible-gambling/requests/cancel:
    post:
      description: Cancel pending responsible gambling limit update request
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.requests.cancel
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.limit_update.request_cancel'
      responses:
        '200':
          description: Returns list of requests that awaits execution
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.limit_update.requests_list'

  /responsible-gambling/timeouts/set:
    post:
      summary: Create new responsible gambling timeout
      description: Create new responsible gambling timeout for specified product (if no timeouts exist)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.requests.set
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.timeouts.set'
      responses:
        '200':
          description: Returns newly created timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.timeouts.timeout_with_product'
  /responsible-gambling/timeouts/set-period:
    post:
      summary: Set new timeout period for product
      description: Set new timeout period for product (if timeout already exists and if it's modifiable)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.timeouts.set-period
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.timeouts.set_period'
      responses:
        '200':
          description: Returns modified timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.timeouts.timeout_with_product'
  /responsible-gambling/timeouts/cancel:
    post:
      summary: Cancel timeout for product
      description: Cancel timeout for product (if it exists already and if it's cancellable)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.timeouts.cancel
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.timeouts.cancel'
      responses:
        '200':
          description: Returns cancelled timeout
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.timeouts.timeout_with_product'
  /responsible-gambling/timeouts/active:
    get:
      summary: Get active timeout per product
      description: Get active timeout per product
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.timeouts.active
      responses:
        '200':
          description: Returns active timeout per product
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.timeouts.active'

  /responsible-gambling/deposit-limits/v2/set:
    post:
      summary: Create new responsible gambling deposit limit for period
      description: Create new responsible gambling deposit limit for specified period (if no limits exist)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.deposit-limits.set
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.deposit_limits.set'
      responses:
        '200':
          description: Returns newly created deposit limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responsible_gambling.deposit_limits.deposit_limits'

  /responsible-gambling/deposit-limits/v2/set-amount:
    post:
      summary: Set new amount for existing deposit limit for period
      description: Set new amount for deposit limit for period (if it already exists and if it's modifiable)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.deposit-limits.set-amount
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.deposit_limits.set_amount'
      responses:
        '200':
          description: Returns modified deposit limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responsible_gambling.deposit_limits.deposit_limits'

  /responsible-gambling/deposit-limits/v2/cancel:
    post:
      summary: Cancel deposit limit for period
      description: Cancel deposit limit for period (if it already exists and if it's cancellable)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.deposit-limits.cancel
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.deposit_limits.cancel'
      responses:
        '200':
          description: Returns cancelled deposit limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responsible_gambling.deposit_limits.deposit_limits'

  /responsible-gambling/deposit-limits/v2/active:
    get:
      summary: Get active deposit limits
      description: Get active deposit limits
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.deposit-limits.active
      responses:
        '200':
          description: Returns active deposit limit per period
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/responsible_gambling.deposit_limits.deposit_limits'

  /responsible-gambling/activity-limits/set:
    post:
      summary: Create new responsible gambling activity limit for period
      description: Create new responsible gambling activity limit for specified period (if no limits exist)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.activity-limits.set
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.activity_limits.set'
      responses:
        '200':
          description: Returns newly created activity limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.activity_limits.activity_limits'

  /responsible-gambling/activity-limits/update:
    post:
      summary: Set new amount for existing activity limit for period
      description: Set new amount for activity limit for period (if it already exists and if it's modifiable)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.activity-limits.update
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.activity_limits.update'
      responses:
        '200':
          description: Returns modified activity limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.activity_limits.activity_limits'

  /responsible-gambling/activity-limits/cancel:
    post:
      summary: Cancel activity limit for period
      description: Cancel activity limit for period (if it already exists and if it's cancellable)
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.activity-limits.cancel
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.activity_limits.cancel'
      responses:
        '200':
          description: Returns cancelled activity limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.activity_limits.activity_limits'

  /responsible-gambling/activity-limits/active:
    get:
      summary: Get active activity limits
      description: Get active activity limits
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.activity-limits.active
      responses:
        '200':
          description: Returns active activity limits per period
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.activity_limits.activity_limits'

  /responsible-gambling/wager-limits/set:
    post:
      summary: Create new responsible gambling activity limit for period
      description: Create new responsible gambling activity limit for specified period (if no limits exist)
      tags:
        - responsible_gambling
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.amount_limits.set'
      responses:
        '200':
          description: Returns active wager limit per period with newly created limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.amount_limits'

  /responsible-gambling/wager-limits/update:
    post:
      summary: Set new amount for existing activity limit for period
      description: Set new amount for activity limit for period (if it already exists and if it's modifiable)
      tags:
        - responsible_gambling
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.amount_limits.set_amount'
      responses:
        '200':
          description: Returns active wager limit per period with newly modified limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.amount_limits'

  /responsible-gambling/wager-limits/cancel:
    post:
      summary: Cancel activity limit for period
      description: Cancel activity limit for period (if it already exists and if it's cancellable)
      tags:
        - responsible_gambling
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.responsible_gambling.amount_limits.cancel'
      responses:
        '200':
          description: Returns active wager limit per period with newly cancelled limit
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.amount_limits'

  /responsible-gambling/wager-limits/active:
    get:
      summary: Get active wager limits
      description: Get active wager limits
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.wager-limits.active
      responses:
        '200':
          description: Returns active wager limits per period
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.responsible_gambling.amount_limits'

  /responsible-gambling/system-net-deposit-limits/request-increase:
    post:
      summary: Request increase of system net deposit limit
      description: Request increase of system net deposit limit
      tags:
        - responsible_gambling
        - logged_in
      operationId: responsible-gambling.system-net-deposit-limits.request-increase
      responses:
        '201':
          description: Request accepted

  /compliance-message:
    get:
      summary: Get user's unresolved compliance messages
      description: Get user's unresolved compliance messages
      tags:
        - compliance
        - logged_in
      operationId: compliance-message.unresolved-message-list
      responses:
        '200':
          description: Returns unresolved compliance messages
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.compliance-message.unresolved-message-list'

  /compliance-message/{public_id}/read:
    post:
      summary: Set user compliance message as read
      description: Set user compliance message as read
      tags:
        - compliance
        - logged_in
      operationId: compliance-message.mark-as-read
      parameters:
        - name: public_id
          description: A message public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Message marked as read
        '400':
          description: Message is already read
        '404':
          description: Message not found

  /compliance-message/{public_id}/resolve:
    post:
      summary: Set user compliance message as resolved
      description: Set user compliance message as resolved
      tags:
        - compliance
        - logged_in
      operationId: compliance-message.mark-as-resolved
      parameters:
        - name: public_id
          description: A message public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.compliance_message.resolve'
      responses:
        '200':
          description: Message marked as resolved
        '400':
          description: Message can not be resolved by user or already resolved
        '404':
          description: Message not found

  /compliance-message/{public_id}/appeal:
    post:
      summary: Submit user compliance message appeal
      description: Submit user compliance message appeal
      tags:
        - compliance
        - logged_in
      operationId: compliance-message.submit-appeal
      parameters:
        - name: public_id
          description: A message public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.compliance_message.appeal'
      responses:
        '201':
          description: Appeal accepted
        '400':
          description: Message can not be appealed or already appealed
        '404':
          description: Message not found

  /questionnaires/{questionnaire_public_id}/questions/current:
    get:
      summary: Get current questionnaire question
      description: Get current questionnaire question
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.current_question
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns current questionnaire question
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.question'
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'


  /questionnaires/{questionnaire_public_id}/questions/{question_public_id}:
    get:
      summary: Get questionnaire question by public id
      description: Get questionnaire question by public id
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.question_by_id
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: question_public_id
          description: Question public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns questionnaire question by public id
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.question'
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'

  /questionnaires/{questionnaire_public_id}/questions/{question_public_id}/next:
    get:
      summary: Get next questionnaire question
      description: Get next questionnaire question
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.next_question
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: question_public_id
          description: Current question public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns next questionnaire question
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.question'
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'

  /questionnaires/{questionnaire_public_id}/questions/{question_public_id}/previous:
    get:
      summary: Get previous questionnaire question
      description: Get previous questionnaire question
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.previous_question
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: question_public_id
          description: Current question public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Returns previous questionnaire question
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.question'
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'

  /questionnaires/{questionnaire_public_id}/questions/{question_public_id}/answer:
    post:
      summary: Submit answer for questionnaire question
      description: Submit answer for questionnaire question
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.submit_answer
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: question_public_id
          description: Question public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.questionnaires.answer'
      responses:
        '200':
          description: Answer submitted. A requested question is returned if question_to_get was set in the request
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                  - $ref: '#/components/schemas/response.questionnaires.question'
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'

  /questionnaires/{questionnaire_public_id}/submit:
    post:
      summary: Submit questionnaire
      description: Submit questionnaire
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.submit
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Questionnaire submitted
          content:
            application/json:
              schema:
                type: object
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'

  /questionnaires/{questionnaire_public_id}/close:
    post:
      summary: Close questionnaire
      description: Close questionnaire
      tags:
        - questionnaires
        - logged_in
      operationId: questionnaires.close
      parameters:
        - name: questionnaire_public_id
          description: Questionnaire public id
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: Questionnaire closed
          content:
            application/json:
              schema:
                type: object
        '400':
          description: Incorrect data in request. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'
        '404':
          description: Requested object not found. See message for details.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.questionnaires.error'

  /verification/v1/active:
    get:
      summary: Get active user verification
      description: Get active user verification
      tags:
        - verification
        - logged_in
      operationId: verification.v1.get_active
      responses:
        '200':
          description: Returns active verification
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.verification.v1.active_verification'

  /rewards/offline/{reward_identifier}:
    get:
      summary: Get offline reward
      description: Get offline reward
      tags:
        - rewards
      operationId: rewards.offline.details
      responses:
        '200':
          description: Returns offline reward
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.rewards.offline.reward_offline_details'
      parameters:
        - name: reward_identifier
          in: path
          description: Reward identifier
          required: true
          schema:
            type: string
  /rewards/offline/{reward_identifier}/apply:
    post:
      summary: Apply offline reward
      description: Apply offline reward
      tags:
        - rewards
      operationId: rewards.offline.apply
      parameters:
        - name: reward_identifier
          in: path
          description: Reward identifier
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Returns applied offline reward
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.rewards.offline.reward_offline_apply'

  /rewards:
    get:
      summary: Rewards list
      description: Rewards list
      tags:
        - rewards
      operationId: rewards.list
      responses:
        '200':
          description: Returns rewards list
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.rewards.list'

  /rewards/{public_reward_id}/cancel:
    post:
      summary: Reward cancel
      tags:
        - rewards
      operationId: rewards.reward.cancel
      parameters:
        - name: public_reward_id
          in: path
          description: Reward public id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Reward cancel
          content:
            application/json:
              schema:
                required:
                  - success
                properties:
                  success:
                    type: boolean

  /rewards/{public_reward_id}/accept:
    post:
      summary: Reward accept
      tags:
        - rewards
      operationId: rewards.reward.accept
      parameters:
        - name: public_reward_id
          in: path
          description: Reward public id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Reward accept
          content:
            application/json:
              schema:
                required:
                  - reward
                  - balance_v2
                properties:
                  reward:
                    $ref: '#/components/schemas/rewards.reward'
                  balance_v2:
                    $ref: '#/components/schemas/user.balance_v2'

  /feed/sr/matches/{id}:
    get:
      summary: Get match info by ID
      description: Get match info by ID
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.match'
      operationId: feed.sr.match
      parameters:
        - name: id
          description: Match ID
          in: path
          required: true
          schema:
            type: number

  /feed/sr/matches/{id}/video-streaming:
    get:
      summary: Get match video streadming info by match ID
      description: |-
        Get match video streadming info by match ID.
        This API can be polled periodically (once a minute) to get updated stream url.
      tags:
        - sports/sportradar
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.video_stream'
      operationId: feed.sr.match_video_stream
      parameters:
        - name: id
          description: Match ID
          in: path
          required: true
          schema:
            type: number

  /feed/sr/matches/counters:
    get:
      summary: Get the number of matches for each Sport ID.
      description: Get match counters by sport ID for specified product market.
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sportradar.match_counter_by_sport'
      operationId: feed.sr.matches_counters
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
  /feed/sr/matches/main/{list_type}:
    get:
      summary: Get matches for main page
      description: Get matches for main page
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_main
      parameters:
        - name: list_type
          description: Type of matches list
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/sports.match_list_type'
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.sportId'
  /feed/sr/seasons/{season_id}:
    get:
      summary: Get season full info
      description: Get season full info
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - season
                  - markets
                  - outcomes
                  - groups
                properties:
                  season:
                    $ref: '#/components/schemas/sportradar.season_full'
                  markets:
                    type: object
                    description: Key is market id
                    additionalProperties:
                      $ref: '#/components/schemas/sportradar.market_metadata'
                  outcomes:
                    type: object
                    description: Key is outcome id
                    additionalProperties:
                      $ref: '#/components/schemas/sportradar.outcome_metadata'
                  groups:
                    type: object
                    description: Key is group id
                    additionalProperties:
                      $ref: '#/components/schemas/sportradar.marketgroup_metadata'
      operationId: feed.sr.season_full
      parameters:
        - name: season_id
          description: Season id
          in: path
          required: true
          schema:
            type: number
  /feed/sr/matches/sport/top:
    get:
      summary: Get top matches for sport
      description: Get top matches for sport
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_sport_top
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.sportId'
  /feed/sr/matches/sport/live:
    get:
      summary: Get live matches for sport
      description: Get live matches for sport
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_sport_live
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.sportId'
  /feed/sr/matches/sport/upcoming:
    get:
      summary: Get upcoming matches for sport
      description: Get upcoming matches for sport
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_sport_upcoming
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.sportId'
        - name: start_time_from
          description: Return matches with start time >= specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: start_time_to
          description: Return matches with start time < specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: top
          description: Return only top matches?
          in: query
          deprecated: true
          schema:
            type: boolean
            default: false
  /feed/sr/matches/sport/in-tournament:
    get:
      summary: Get matches within tournament
      description: Get matches within tournament
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_sport_in_tournament
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.markets_set'
        - name: tournament_id
          description: Tournament id
          in: query
          required: true
          schema:
            type: integer
            minimum: 0
  /feed/sr/matches/sport/in-category:
    get:
      summary: Get matches within category
      description: Get matches within category
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_sport_in_category
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.markets_set'
        - name: category_id
          description: Category id
          in: query
          required: true
          schema:
            type: string
  /feed/sr/matches/favorites:
    get:
      summary: Get favorite matches
      description: Get favorite matches
      tags:
        - sports/sportradar
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_favorites
      parameters:
        - in: cookie
          description: Session cookie
          name: bmt_sid
          schema:
            type: string
  /feed/sr/catalog/tree:
    get:
      summary: Get categories/tournaments catalogue
      description: Get categories/tournaments catalogue
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - categories
                  - tournaments
                properties:
                  categories:
                    type: object
                    description: Key is category id
                    additionalProperties:
                      $ref: '#/components/schemas/sportradar.category'
                  tournaments:
                    type: object
                    description: Key is `sportradar.tournament` id
                    additionalProperties:
                      $ref: '#/components/schemas/sportradar.tournament_with_season'
      operationId: feed.sr.catalog_tree
      parameters:
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sportradar.sportId'
  /feed/sr/matches/blurb:
    get:
      summary: Get matches' blurbs
      description: Get matches' blurbs. Either sport_id or sport_group is required
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.matchlist'
      operationId: feed.sr.matches_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: sport_group
          description: Sport group
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sports.sport_group'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'

  /racing/pythia/matches/{id}:
    get:
      summary: Get match info by ID
      description: Get match info by ID
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.match'
      operationId: racing.pythia.match
      parameters:
        - name: id
          description: Match ID
          in: path
          required: true
          schema:
            type: number

  /racing/pythia/matches/{id}/video-streaming:
    get:
      summary: Get match video streaming info by match ID
      description: |-
        Get match video streaming info by match ID.
        Available only for logged in and GEO-verified users.
        This API can be polled periodically (once a minute) to check if the video stream is available.
      tags:
        - racing/pythia
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.video_stream'
      operationId: racing.pythia.video_streaming
      parameters:
        - name: id
          description: Match ID
          in: path
          required: true
          schema:
            type: number

  /racing/pythia/matches:
    get:
      summary: Get matches info by list of ID
      description: Get matches info by list of ID
      tags:
        - racing/pythia
      operationId: racing.pythia.matches
      parameters:
        - name: id
          description: List of IDs
          in: query
          required: true
          schema:
            type: array
            items:
              type: integer
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matches'

  /racing/pythia/matches/counters:
    get:
      summary: Get the number of matches for each Sport ID.
      description: Get match counters by sport ID for specified product market.
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/racing.pythia.match_counter_by_sport'
      operationId: racing.pythia.matches_counters
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
  /racing/pythia/matches/main/{list_type}:
    get:
      summary: Get matches for main page
      description: Get matches for main page
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_main
      parameters:
        - name: list_type
          description: Type of matches list
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/sports.match_list_type'
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.sportIdStr'
  /racing/pythia/matches/sport/top:
    get:
      summary: Get top matches for sport
      description: Get top matches for sport
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_sport_top
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.sportIdStr'
  /racing/pythia/matches/sport/live:
    get:
      summary: Get live matches for sport
      description: Get live matches for sport
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_sport_live
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.sportIdStr'
  /racing/pythia/matches/sport/upcoming:
    get:
      summary: Get upcoming matches for sport
      description: Get upcoming matches for sport
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_sport_upcoming
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.sportIdStr'
        - name: start_time_from
          description: Return matches with start time >= specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: start_time_to
          description: Return matches with start time < specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: top
          description: Return only top matches?
          in: query
          deprecated: true
          schema:
            type: boolean
            default: false
  /racing/pythia/matches/sport/all:
    get:
      summary: Get all matches for sport
      description: Get all matches for sport
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_sport_all
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.sportIdStr'
        - name: start_time_from
          description: Return matches with start time >= specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: start_time_to
          description: Return matches with start time < specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
  /racing/pythia/matches/sport/in-tournament:
    get:
      summary: Get matches within tournament
      description: Get matches within tournament
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_sport_in_tournament
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: tournament_id
          description: Tournament id
          in: query
          required: true
          schema:
            type: integer
            minimum: 0
  /racing/pythia/matches/sport/in-category:
    get:
      summary: Get matches within category
      description: Get matches within category
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_sport_in_category
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.markets_set'
        - name: category_id
          description: Category id
          in: query
          required: true
          schema:
            type: integer
  /racing/pythia/matches/favorites:
    get:
      summary: Get favorite racing matches
      description: Get favorite racing matches
      tags:
        - racing/pythia
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.matchlist'
      operationId: racing.pythia.matches_favorites
      parameters:
        - in: cookie
          description: Session cookie
          name: bmt_sid
          schema:
            type: string
  /racing/pythia/catalog/tree:
    get:
      summary: Get categories/tournaments catalogue
      description: Get categories/tournaments catalogue
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - categories
                  - tournaments
                properties:
                  categories:
                    type: object
                    description: Key is `pythia.racing.category` id
                    additionalProperties:
                      $ref: '#/components/schemas/racing.pythia.category'
                  tournaments:
                    type: object
                    description: Key is `pythia.racing.tournament` id
                    additionalProperties:
                      $ref: '#/components/schemas/racing.pythia.tournament'
      operationId: racing.pythia.catalog_tree
      parameters:
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/racing.pythia.sportIdStr'
  /racing/pythia/tournaments/blurb:
    get:
      summary: Get tournaments' blurbs
      description: Get tournaments' blurbs
      tags:
        - racing/pythia
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/racing.pythia.tournament'
      operationId: racing.pythia.tournaments_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'

  /racing/pythia/bets/place-batch:
    post:
      summary: Place Pythia racing bets batch. Each bet can bet either accepted or rejected.
      description: Place Pythia racing bet batch. Each bet can bet either accepted or rejected.
      tags:
        - racing/pythia
        - logged_in
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.racing.pythia.bets_batch_place'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.bets_batch_placed'
      operationId: racing.pythia.bets_batch_place

  /racing/pythia/bets/info:
    get:
      summary: Get info for several Pythia racing bets
      description: Get info for several Pythia racing bets
      tags:
        - racing/pythia
        - logged_in
      parameters:
        - name: id
          description: List of bet IDs
          in: query
          required: true
          schema:
            type: array
            items:
              type: string
              format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.bets_info'
      operationId: racing.pythia.bets_batch_info

  /racing/pythia/bets/unsettled:
    get:
      summary: Get all unsettled Pythia racing bets
      description: Get all unsettled Pythia racing bets
      tags:
        - racing/pythia
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.bets_info'
      operationId: racing.pythia.bets_unsettled_info

  /racing/pythia/bets/unsettled/counter:
    get:
      summary: Get all unsettled Pythia bets counter
      description: Get all unsettled Pythia bets counter
      tags:
        - racing/pythia
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.bets_unsettled_counter'
      operationId: racing.pythia.bets_unsettled_counter

  /racing/pythia/bets/history:
    get:
      summary: Get all accepted Pythia racing bets
      description: Get all accepted Pythia racing bets
      tags:
        - racing/pythia
        - logged_in
      parameters:
        - name: offset_id
          description: Offset ID
          in: query
          required: false
          schema:
            type: number
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.racing.pythia.bets_history'
      operationId: racing.pythia.bets_history


  /feed/od/matches/{id}:
    get:
      summary: Get match info by ID
      description: Get match info by ID
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.match'
      operationId: feed.od.match
      parameters:
        - name: id
          description: Match ID
          in: path
          required: true
          schema:
            type: number

  /feed/od/matches/counters:
    get:
      summary: Get the number of matches for each Sport ID.
      description: Get match counters by sport ID for specified product market.
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/oddin.match_counter_by_sport'
      operationId: feed.od.matches_counters
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
  /feed/od/matches/main/{list_type}:
    get:
      summary: Get matches for main page
      description: Get matches for main page
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_main
      parameters:
        - name: list_type
          description: Type of matches list
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/sports.match_list_type'
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.sportId'

  /feed/od/matches/sport/top:
    get:
      summary: Get top matches for sport
      description: Get top matches for sport
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_sport_top
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.sportId'
  /feed/od/matches/sport/live:
    get:
      summary: Get live matches for sport
      description: Get live matches for sport
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_sport_live
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.sportId'
  /feed/od/matches/sport/upcoming:
    get:
      summary: Get upcoming matches for sport
      description: Get upcoming matches for sport
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_sport_upcoming
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.sportId'
        - name: start_time_from
          description: Return matches with start time >= specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: start_time_to
          description: Return matches with start time < specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: top
          description: Return only top matches?
          in: query
          deprecated: true
          schema:
            type: boolean
            default: false
  /feed/od/matches/sport/in-tournament:
    get:
      summary: Get matches within tournament
      description: Get matches within tournament
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_sport_in_tournament
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.markets_set'
        - name: tournament_id
          description: Tournament id
          in: query
          required: true
          schema:
            type: integer
            minimum: 0

  /feed/od/matches/favorites:
    get:
      summary: Get favorite matches
      description: Get favorite matches
      tags:
        - sports/oddin
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_favorites
      parameters:
        - in: cookie
          description: Session cookie
          name: bmt_sid
          schema:
            type: string
  /feed/od/catalog/tree:
    get:
      summary: Get tournaments catalogue
      description: Get tournaments catalogue
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - tournaments
                properties:
                  tournaments:
                    type: object
                    description: Key is `oddin.tournament` id
                    additionalProperties:
                      $ref: '#/components/schemas/oddin.tournament'
      operationId: feed.od.catalog_tree
      parameters:
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/oddin.sportId'
  /feed/od/matches/blurb:
    get:
      summary: Get matches' blurbs
      description: Get matches' blurbs.
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.oddin.matchlist'
      operationId: feed.od.matches_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: sport_group
          description: Sport group
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sports.sport_group'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'

  /feed/od/tournaments/blurb:
    get:
      summary: Get tournaments' blurbs
      description: Get tournaments' blurbs
      tags:
        - sports/oddin
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/oddin.tournament'
      operationId: feed.od.tournaments_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'

  /casino/casino-block-games/v2:
    get:
      summary: Get casino block games v2
      description: Get casino block games v2
      operationId: casino.block_games
      tags:
        - casino/casino-block-games
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: is_casino_geo_restrictions_exempted
          description: Whether user has this feature flag in their profile.
          in: query
          required: false
          schema:
            type: boolean
        - name: block_name
          description: Block name
          in: query
          required: false
          schema:
            oneOf:
              - type: string
              - type: array
                items:
                  type: string
        - name: is_exempted_from_location_limits
          description: Whether user has this feature flag in their profile.
          in: query
          required: false
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.casino.block_games'

  /pragmaticplay-bingo/mini-games:
    get:
      summary: Returns mini games for Pragmaticplay bingo
      description: Returns mini games for Pragmaticplay bingo
      tags:
        - casino
        - mini games
        - pragmaticplay bingo
      operationId: casino.pragmaticplay_bingo.mini_games
      parameters:
        - name: HTTP_X_COUNTRY_CODE
          description: country code
          in: header
          schema:
            type: string
        - name: session_token
          description: Mini games session token
          in: query
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/casino.pragmaticplay_bingo.mini_games'


  /feed/sr/tournaments/blurb:
    get:
      summary: Get tournaments' blurbs
      description: Get tournaments' blurbs
      tags:
        - sports/sportradar
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/sportradar.tournament'
      operationId: feed.sr.tournaments_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'

  /feed/sr/categories/blurb:
    get:
      summary: Get categories blurbs
      description: Get categories blurbs
      tags:
        - sports/sportradar
      operationId: feed.sr.categories_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sportradar.category_list'

  /feed/pn/matches/{id}:
    get:
      summary: Get match info by ID
      description: Get match info by ID
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.match'
      operationId: feed.pn.match
      parameters:
        - name: id
          description: Match ID
          in: path
          required: true
          schema:
            type: number

  /feed/pn/matches/counters:
    get:
      summary: Get the number of matches for each Sport ID.
      description: Get match counters by sport ID for specified product market.
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pinnacle.match_counter_by_sport'
      operationId: feed.pn.matches_counters
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'

  /feed/pn/matches/main/{list_type}:
    get:
      summary: Get matches for main page
      description: Get matches for main page
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_main
      parameters:
        - name: list_type
          description: Type of matches list
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/sports.match_list_type'
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.sportIdInt'
  /feed/pn/matches/sport/top:
    get:
      summary: Get top matches for sport
      description: Get top matches for sport
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_sport_top
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.sportIdInt'
  /feed/pn/matches/sport/live:
    get:
      summary: Get live matches for sport
      description: Get live matches for sport
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_sport_live
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.sportIdInt'
  /feed/pn/matches/sport/upcoming:
    get:
      summary: Get upcoming matches for sport
      description: Get upcoming matches for sport
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_sport_upcoming
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.markets_set'
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.sportIdInt'
        - name: start_time_from
          description: Return matches with start time >= specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: start_time_to
          description: Return matches with start time < specified
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.timestamp_millis'
        - name: top
          description: Return only top matches?
          in: query
          deprecated: true
          schema:
            type: boolean
            default: false
  /feed/pn/matches/sport/in-category:
    get:
      summary: Get matches within category
      description: Get matches within category
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_sport_in_category
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.markets_set'
        - name: category_id
          description: Category id
          in: query
          required: true
          schema:
            type: string
  /feed/pn/matches/sport/in-tournament:
    get:
      summary: Get matches within tournament
      description: Get matches within tournament
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_sport_in_tournament
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: markets_set
          description: Sport markets set to return
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.markets_set'
        - name: tournament_id
          description: Tournament id
          in: query
          required: true
          schema:
            type: integer
            minimum: 0
  /feed/pn/matches/favorites:
    get:
      summary: Get favorite matches
      description: Get favorite matches
      tags:
        - sports/pinnacle
        - logged_in
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_favorites
      parameters:
        - in: cookie
          name: bmt_sid
          description: Session cookie
          schema:
            type: string
  /feed/pn/catalog/tree:
    get:
      summary: Get categories/tournaments catalogue
      description: Get categories/tournaments catalogue
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                required:
                  - categories
                  - tournaments
                properties:
                  categories:
                    type: object
                    description: Key is category id
                    additionalProperties:
                      $ref: '#/components/schemas/pinnacle.category'
                  tournaments:
                    type: object
                    description: Key is `pinnacle.tournament` id
                    additionalProperties:
                      $ref: '#/components/schemas/pinnacle.tournament'
      operationId: feed.pn.catalog_tree
      parameters:
        - name: sport_id
          description: Sport ID
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/pinnacle.sportIdInt'
  /feed/pn/matches/blurb:
    get:
      summary: Get matches' blurbs
      description: Get matches' blurbs. Either sport_id or sport_group is required
      tags:
        - sports/pinnacle
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.matchlist'
      operationId: feed.pn.matches_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: sport_group
          description: Sport group
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/sports.sport_group'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'
  /feed/pn/tournaments/blurb:
    get:
      summary: Get tournaments blurbs
      description: Get tournaments blurbs.
      tags:
        - sports/pinnacle
      operationId: feed.pn.tournaments_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/pinnacle.tournament'

  /feed/pn/categories/blurb:
    get:
      summary: Get categories blurbs
      description: Get categories blurbs
      tags:
        - sports/pinnacle
      operationId: feed.pn.categories_blurb
      parameters:
        - name: product_market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: language
          description: Language forced by client
          in: query
          schema:
            $ref: '#/components/schemas/core.language_code'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.pinnacle.category_list'

  /foreigns/landings/{landing_id}:
    get:
      summary: Get landing
      description: Get landing
      tags:
        - foreigns
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.foreigns.landing_by_id'
      operationId: foreigns.landings.get_landing_by_id
      parameters:
        - name: landing_id
          description: Public landing identifier
          in: path
          required: true
          schema:
            type: string
            format: uuid
        - name: language
          description: Language
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: limit
          description: Max matches number in response
          in: query
          required: false
          schema:
            type: integer
            minimum: 0
            exclusiveMinimum: true

  /marketing/offers:
    get:
      summary: Get list of marketing offers
      description: Get list of marketing offers
      tags:
        - marketing
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.marketing.offers.list'
      operationId: marketing.offers.offers_list
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: currency
          description: User currency
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.currency'
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: level
          description: User level
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.user_level'
        - name: partner_code
          description: User partner code
          in: query
          required: false
          schema:
            type: string
        - name: include_promotion_campaigns
          description: Promotion campaigns ids to force include
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
        #@yaml/text-templated-strings
        #@ for m in data.values.offer_marketing_param:
        - name: (@= m @)
          description: "User (@= m @) parameter"
          in: query
          required: false
          schema:
            type: string
        #@ end

  /marketing/carousel_offers:
    get:
      summary: Get list of marketing offers for carousel
      description: Get list of marketing offers for carousel
      tags:
        - marketing
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.marketing.offers.list'
      operationId: marketing.offers.offers_list_carousel
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: currency
          description: User currency
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.currency'
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: level
          description: User level
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.user_level'

  /marketing/offers/{offer_id}:
    get:
      summary: Get detailed marketing offer
      description: Get detailed marketing offer
      tags:
        - marketing
      operationId: marketing.offers.offer_details
      parameters:
        - name: offer_id
          description: Offer's id (uuid)
          in: path
          required: true
          schema:
            type: string
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: currency
          description: User currency
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.currency'
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: level
          description: User level
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.user_level'
        - name: partner_code
          description: User partner code
          in: query
          required: false
          schema:
            type: string
        #@yaml/text-templated-strings
        #@ for m in data.values.offer_marketing_param:
        - name: (@= m @)
          description: "User (@= m @) parameter"
          in: query
          required: false
          schema:
            type: string
        #@ end
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.marketing.offer'

  /marketing/multistage_offers:
    get:
      summary: Get available multistage offers
      description: Get available multistage offers
      tags:
        - marketing
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.marketing.offers.multistage_offers'
      operationId: marketing.offers.multistage_offers
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: currency
          description: User currency
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.currency'
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: level
          description: User level
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.user_level'
        #@yaml/text-templated-strings
        #@ for m in data.values.offer_marketing_param:
        - name: (@= m @)
          description: "User (@= m @) parameter"
          in: query
          required: false
          schema:
            type: string
        #@ end

  /marketing/regular_bonus_offers:
    get:
      summary: Get available regular bonus offers
      description: Get available regular bonus offers
      tags:
        - marketing
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.marketing.offers.regular_bonus_offers'
      operationId: marketing.offers.regular_bonus_offers
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: currency
          description: User currency
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.currency'
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: level
          description: User level
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.user_level'
        - name: include_metadata
          description: Includes bound offer
          in: query
          required: false
          schema:
            type: boolean
            default: false
        #@yaml/text-templated-strings
        #@ for m in data.values.offer_marketing_param:
        - name: (@= m @)
          description: "User (@= m @) parameter"
          in: query
          required: false
          schema:
            type: string
        #@ end

  /messaging-api/messaging/pulls/get:
    get:
      summary: Get messages from channel
      description: Get messages from channel
      tags:
        - messaging
      operationId: messaging.pulls.get
      parameters:
        - name: channel
          description: Technical channel
          in: query
          required: false
          schema:
            $ref: '#/components/schemas/messaging.channel'
        - name: is_read
          description: Read state of the message
          in: query
          required: false
          schema:
            type: boolean
        - name: per_page
          description: Number of messages per page. Maximum 500.
          in: query
          required: false
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.messaging.message.page'

  /messaging-api/messaging/pulls/read:
    post:
      summary: Marks message as read
      description: Marks message as read
      tags:
        - messaging
      operationId: messaging.pulls.read
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.messaging.message.read'
      responses:
        '200':
          description: Empty object
          content:
            application/json:
              schema:
                type: object


  /agreements:
    get:
      summary: Get list of agreements
      description: Get list of agreements
      tags:
        - agreements
      operationId: agreements.list
      parameters:
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
        - name: license_id
          description: License ID (either generic or user specific)
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.licenseId'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.agreements.list'
  /agreements/{version_id}:
    post:
      summary: Apply agreement by version_id
      description: Apply agreement by version_id
      tags:
        - agreements
      operationId: agreements.detail
      parameters:
        - name: version_id
          description: Agreement identifier
          in: path
          required: true
          schema:
            $ref: '#/components/schemas/agreements.version_id'
        - name: language
          description: User language
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.language_code'
      responses:
        '200':
          description: Returns applied agreement
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.agreements.detail'

  /eesti/isikukood-verification/smartid:
    get:
      description: Get status of verification
      tags:
        - eesti
      operationId: eesti.isikukood-verification.smartid.status
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.eesti.isikukood_verification.status'
    post:
      description: Init verification
      tags:
        - eesti
      operationId: eesti.isikukood-verification.smartid.init
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.eesti.isikukood_verification.init'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.eesti.isikukood_verification.init'

  /payment/fees/coin-network:
    get:
      summary: Get network fee of a coin
      description: Get network fee of a coin
      operationId: payment.fees.coin-network
      tags:
        - payment
        - cryptocurrency
        - fee
      parameters:
        - name: currency
          in: query
          schema:
            type: string
          required: true
        - name: output_currency
          in: query
          schema:
            oneOf:
              - type: array
                items:
                  type: string
              - type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.fees.coin_network'

  /payment/systems/info:
    get:
      summary: Get all info about available payment systems for all available currencies.
      description: |-
        Get all info about available payment systems for all available currencues.
        Works both for anonymous request and for logged in request.
        If `country` param is specified then market is determined based on this
        country, all the other logic is the same.
      operationId: payment.systems.info
      tags:
        - payment
      parameters:
        - name: country
          in: query
          schema:
            type: string
          required: false
        - name: market
          in: query
          schema:
            $ref: '#/components/schemas/core.market'
          required: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/payment.payment_systems_info'

  /payment/currencies/secondary:
    get:
      summary: Get list of available currencies
      description: Get list of available currencies
      tags:
        - payment
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.currencies.currency_secondary'
      operationId: payment.currencies.secondary

  /payment/cryptocurrencies/deposit:
    post:
      summary: Get deposit address for cryptocurrency
      description: Get deposit address for cryptocurrency
      operationId: payment.cryptocurrencies.deposit
      tags:
        - payment
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.payment.cryptocurrencies.deposit'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.cryptocurrencies.deposit'

  /payment/{payment_system}/status:
    get:
      description: Method for getting transaction status
      operationId: payment_transaction_status_v1
      tags:
        - payment
      parameters:
        - in: path
          name: payment_system
          description: Payment system name
          required: true
          schema:
            type: string
            format: bm.models.PAYMENT_SYSTEM
        - in: query
          name: transaction_id
          description: Transaction id
          required: true
          schema:
            type: string
        - in: query
          name: subsystem
          schema:
            type: string
            format: bm.models.PaymentSubsystem
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.payment_system.status'

  /payment/v2/cardpay_openbanking/deposit/extra_data:
    get:
      description: Returns extra data for cardpay openbanking
      operationId: payment.v2.cardpay_openbanking.deposit.extra_data
      tags:
        - payment
      parameters:
        - in: query
          name: currency_face
          description: Currncy face
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.v2.cardpay_openbanking.deposit.extra_data'

  /payment/v2/cards/deposit/extra_data:
    get:
      description: Returns extra data for card payment systems
      operationId: payment.v2.cards.deposit.extra_data
      tags:
        - payment
      parameters:
        - in: query
          name: bin
          description: card bin
          required: true
          schema:
            type: string
            pattern: ^(\d{8}|\d{6})$
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.v2.cards.deposit.extra_data'

  /payment/v2/card-linking/create:
    post:
      description: Create a linked card for user withdrawals
      tags:
        - payment
      operationId: payment.v2.card_linking.create
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.payment.v2.card_linking.create'
      responses:
        '200':
          description: LinkedCard created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.v2.card_linking.status'
        '400':
          description: Bad request
        '501':
          description: Not implemented

  /payment/v2/card-linking/status/{card_uuid}:
    get:
      description: Get linked card status
      tags:
        - payment
      operationId: payment.v2.card_linking.status
      parameters:
        - in: path
          name: card_uuid
          description: LinkedCard UUID
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: LinkedCard status retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.v2.card_linking.status'
        '404':
          description: LinkedCard not found

  /payment/v2/card-linking/list:
    get:
      description: List user's linked cards
      tags:
        - payment
      operationId: payment.v2.card_linking.list
      responses:
        '200':
          description: LinkedCards list retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.v2.card_linking.list'

  /payment/v2/card-linking/latest:
    get:
      description: Get latest linked card for user
      tags:
        - payment
      operationId: payment.v2.card_linking.latest
      responses:
        '200':
          description: Latest linked card retrieved
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.payment.v2.card_linking.latest'
        '404':
          description: No linked card found

  /promotion-codes:
    get:
      summary: Get promotion codes
      description: Get promotion codes
      tags:
        - promotion
      operationId: promotion.codes
      parameters:
        - name: market
          description: Product market
          in: query
          required: true
          schema:
            $ref: '#/components/schemas/core.market'
        - name: partner_code
          description: Bound partner code of Welcome offer
          in: query
          required: false
          schema:
            type: string
        - name: include_legal_texts
          description: Includes legal and policy if True
          in: query
          required: false
          deprecated: true
          schema:
            type: boolean
            default: false
        - name: include_metadata
          description: Includes bound offer
          in: query
          required: false
          schema:
            type: boolean
            default: false
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.promotion.codes'

  /user-deposit-promo-campaign-id:
    get:
      summary: Get user deposit promo campaign id
      description: Get user deposit promo campaign id
      tags:
        - promotion
        - logged_in
      operationId: promotion.user_deposit_promo_campaign_id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.promotion.user_deposit_promo_campaign_id'
    post:
      summary: Set user deposit promo campaign id
      description: Set user deposit promo campaign id
      tags:
        - promotion
        - logged_in
      operationId: promotion.set_user_deposit_promo_campaign_id
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.promotion.set_user_deposit_promo_campaign_id'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object

  /user-betting-block-promo-money-public-reward-id:
    get:
      summary: Get user betting block promo money public reward id
      description: Get user betting block promo money public reward id
      tags:
        - user
        - logged_in
      operationId: user.betting_block_promo_money_public_reward_id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.user.betting_block_promo_money_public_reward_id'

  /sumsub/websdk/params/v2:
    get:
      summary: Get params to init SumSub WebSDK
      description: Get params to init SumSub WebSDK
      tags:
        - sumsub
      operationId: sumsub.websdk.params
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.sumsub.websdk.params'

  /page_data:
    get:
      summary: Get page data
      description: Get page data
      tags:
        - page_data
      operationId: seo_data.seo_page_data
      parameters:
        - name: page_id
          description: Page id
          in: query
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.seo_data.seo_page_data'

  /loyalty_program/rewind/exchange-rate:
    get:
      summary: Get Rewind FWD_PN1/USDT exchange rate
      description: Get Rewind FWD_PN1/USDT exchange rate
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.exchange_rate
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.exchange_rate'

  /loyalty_program/rewind/balance:
    get:
      summary: Get Rewind balance
      description: Get Rewind balance
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.balance
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.balance'

  /loyalty_program/rewind/stake/check:
    post:
      summary: Check how many jackpot tickets will be debited (eventually) after stake.
      description: Check how many jackpot tickets will be debited (eventually) after stake.
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.stake_check
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.rewind.stake_unstake'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake_check'

  /loyalty_program/rewind/stake/check/{id}/status:
    get:
      summary: Result of stake check denoted by request ID returned from /stake/check api.
      description: Result of stake check denoted by request ID returned from /stake/check api.
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.stake_check_status
      parameters:
        - name: id
          description: Request ID
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake_check_result'
                nullable: true

  /loyalty_program/rewind/stake:
    post:
      summary: Stake money for Rewind
      description: Stake money for Rewind
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.stake
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.rewind.stake_unstake'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake'

  /loyalty_program/rewind/unstake/pending-status:
    get:
      summary: Get pending unstake requests summary
      description: Get pending unstake requests summary - total amount and due datatime
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.unstake_pending_status
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/response.loyalty_program.rewind.unstake_pending_status'
                nullable: true

  /loyalty_program/rewind/unstake/check:
    post:
      summary: Check how many jackpot tickets will be lost immediately after unstake.
      description: Check how many jackpot tickets will be lost immediately after unstake.
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.unstake_check
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.rewind.stake_unstake'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake_check'

  /loyalty_program/rewind/unstake/check/{id}/status:
    get:
      summary: Result of unstake check denoted by request ID returned from /unstake/check api.
      description: Result of unstake check denoted by request ID returned from /unstake/check api.
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.unstake_check_status
      parameters:
        - name: id
          description: Request ID
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake_check_result'
                nullable: true

  /loyalty_program/rewind/unstake:
    post:
      summary: Register unstake money request from Rewind
      description: Register unstake money request from Rewind. Money will be unstaked automatically after 24 hours.
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.unstake
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.rewind.stake_unstake'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake'

  /loyalty_program/rewind/unstake/force:
    post:
      summary: Confirm all currently active unstake requests.
      description: |-
        Confirm all currently active unstake requests.
        Amount in request equals total amount from /unstake/pending-status api response and
        serves as a confirmation that user is aware of the amount that will be unstaked.
        20% fee will be applied.
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.unstake_confirm
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.rewind.stake_unstake'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.stake_unstake'

  /loyalty_program/rewind/unstake/force/{id}/status:
    get:
      summary: Get force unstake transaction status
      description: Get force unstake transaction status
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.unstake_force_status
      parameters:
        - name: id
          description: Transaction ID
          in: path
          required: true
          schema:
            type: string
            format: uuid
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/response.loyalty_program.rewind.unstake_force_status'
                nullable: true
                description: Null if transaction is not finished yet

  /loyalty_program/rewind/swap:
    post:
      summary: Swap Rewind FWD_PN1 to USDT
      description: Swap Rewind FWD_PN1 to USDT
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.swap
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/request.loyalty_program.rewind.swap'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.swap'

  /loyalty_program/rewind/offers:
    get:
      summary: Get Rewind offers
      description: Get Rewind offers
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.offers
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/loyalty_program.rewind.offer'

  /loyalty_program/rewind/offers/{offer_id}/buy:
    post:
      summary: Buy rewind offer using FWD_PN1
      description: Buy rewind offer using FWD_PN1
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.buy_offer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: '#/components/schemas/request.loyalty_program.rewind.freespin_buy_offer'
                - $ref: '#/components/schemas/request.loyalty_program.rewind.freebet_buy_offer'
      parameters:
        - name: offer_id
          description: Offer ID
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.balance'

  /loyalty_program/rewind/jackpot/current:
    get:
      summary: Get current jackpot info
      description: Get current jackpot info
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.jackpot.current
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.jackpot.info'

  /loyalty_program/rewind/jackpot/previous:
    get:
      summary: Get previous jackpot info
      description: Get previous jackpot info
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.jackpot.previous
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/response.loyalty_program.rewind.jackpot.info'
                nullable: true

  /loyalty_program/rewind/jackpot/user-history:
    get:
      summary: Get user jackpot winnings history
      description: Get user jackpot winnings history
      tags:
        - loyalty_program
        - rewind
        - logged_in
      operationId: loyalty_program.rewind.jackpot.user_history
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/response.loyalty_program.rewind.jackpot.user_history'

  _: #@ template.replace(partner_program_paths())
  _: #@ template.replace(payment_paths())
  _: #@ template.replace(promotion_paths())


components:
  schemas:

    request.loyalty_program.rewind.swap:
      type: object
      required:
        - amount_sell
        - amount_buy
      properties:
        amount_sell:
          $ref: '#/components/schemas/core.money'
        amount_buy:
          $ref: '#/components/schemas/core.money'

    response.loyalty_program.rewind.swap:
      type: object
      required:
        - balance_v2
      properties:
        balance_v2:
          $ref: '#/components/schemas/user.balance_v2'

    loyalty_program.rewind.offer:
      type: object
      required:
        - id
        - offer_type
        - game
        - options
      properties:
        id:
          type: integer
        offer_type:
          type: string
          enum:
            - FREESPIN
            - CASINO_FREEBET
            - SPORT_FREEBET
            - ESPORT_FREEBET
        game:
          type: object
          nullable: true
          required:
            - id
            - name
            - thumbnail_url
            - game_type
          properties:
            id:
              type: integer
            name:
              type: string
            game_type:
              $ref: '#/components/schemas/casino.game_type'
            thumbnail_url:
              type: string
        options:
          oneOf:
            - $ref: '#/components/schemas/loyalty_program.rewind.offer_option_freespin'
            - $ref: '#/components/schemas/loyalty_program.rewind.offer_option_freebet'

    loyalty_program.rewind.offer_option_freespin:
      type: object
      required:
        - quantities
        - spin_amounts
      properties:
        quantities:
          type: array
          items:
            type: integer
        spin_amounts:
          type: array
          items:
            $ref: '#/components/schemas/core.money'
        spin_amounts_fwd:
          type: array
          items:
            $ref: '#/components/schemas/core.money'

    loyalty_program.rewind.offer_option_freebet:
      type: object
      required:
        - amounts
      properties:
        amounts:
          type: array
          items:
            $ref: '#/components/schemas/core.money'
        amounts_fwd:
          type: array
          items:
            $ref: '#/components/schemas/core.money'

    request.loyalty_program.rewind.freespin_buy_offer:
      type: object
      required:
        - quantity
        - spin_amount
      properties:
        quantity:
          type: integer
        spin_amount:
          $ref: '#/components/schemas/core.money'

    request.loyalty_program.rewind.freebet_buy_offer:
      type: object
      required:
        - amount
      properties:
        amount:
          $ref: '#/components/schemas/core.money'

    response.loyalty_program.rewind.buy_promo:
      #! TODO: Add response schema (merge somehow with promotion service spec?)
      type: object

    request.loyalty_program.rewind.stake_unstake:
      type: object
      required:
        - amount
      properties:
        amount:
          $ref: '#/components/schemas/core.money'

    response.loyalty_program.rewind.stake_unstake:
      type: object
      required:
        - balance
        - transaction_id
      properties:
        balance:
          $ref: '#/components/schemas/loyalty_program.rewind.balance'
        transaction_id:
          type: string
          format: uuid
          description: Will be non-null only in case of force unstake request.
          nullable: true

    response.loyalty_program.rewind.stake_unstake_check_result:
      type: object
      required:
        - request_id
        - amount
        - tickets
      properties:
        request_id:
          type: string
          format: uuid
        amount:
          $ref: '#/components/schemas/core.money'
        tickets:
          type: integer
          description: Amount of tickets that will be deducted for this stake

    response.loyalty_program.rewind.stake_unstake_check:
      type: object
      required:
        - request_id
      properties:
        request_id:
          type: string
          format: uuid

    response.loyalty_program.rewind.unstake_force_status:
      type: object
      required:
        - transaction_id
        - balance
        - jackpot
      properties:
        transaction_id:
          type: string
          format: uuid
        balance:
          $ref: '#/components/schemas/loyalty_program.rewind.balance'
        jackpot:
          $ref: '#/components/schemas/loyalty_program.rewind.jackpot.info'

    response.loyalty_program.rewind.unstake_pending_status:
      type: object
      required:
        - amount
        - due_at
      properties:
        amount:
          $ref: '#/components/schemas/core.money'
        due_at:
          $ref: '#/components/schemas/core.timestamp_millis'

    response.loyalty_program.rewind.exchange_rate:
      type: object
      required:
        - exchange_rate
        - base
        - currency
        - change_percent
      properties:
        exchange_rate:
          type: string
          description: Exchange rate USDT/FWD_PN1. "0.25" means 1 USDT = 0.25 FWD_PN1
        base:
          $ref: '#/components/schemas/core.currency'
        currency:
          $ref: '#/components/schemas/core.currency'
        change_percent:
          type: string
          description: 0.25 means +0.25% change. Special note - this is FWD_PN1/USDT change, not USDT/FWD_PN1 (ready to be used in UI as is).

    response.loyalty_program.rewind.balance:
      type: object
      required:
        - balance
      properties:
        balance:
          $ref: '#/components/schemas/loyalty_program.rewind.balance'

    loyalty_program.rewind.balance:
      type: object
      required:
        - amount_available
        - amount_staked
      properties:
        amount_available:
          $ref: '#/components/schemas/core.money'
        amount_staked:
          $ref: '#/components/schemas/core.money'

    response.loyalty_program.rewind.jackpot.info:
      type: object
      required:
        - jackpot
      properties:
        jackpot:
          $ref: '#/components/schemas/loyalty_program.rewind.jackpot.info'

    loyalty_program.rewind.jackpot.info_short:
      type: object
      required:
        - id
        - name
        - amount
        - start_at
        - ends_at
        - is_finished
        - is_settled
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        amount:
          $ref: '#/components/schemas/core.money'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        is_finished:
          type: boolean
        is_settled:
          type: boolean
          description: Only finished jackpot can be settled.

    loyalty_program.rewind.jackpot.info:
      allOf:
        - $ref: '#/components/schemas/loyalty_program.rewind.jackpot.info_short'
        - type: object
          required:
            - prizes
            - tickets
            - top_results
            - winners_cnt
          properties:
            prizes:
              description: Jackpot amount distribution across participants (1st, 2nd, 3rd, etc. prizes). First element corresponds to the 1st prize, second to the 2nd prize, etc.
              type: array
              items:
                $ref: '#/components/schemas/loyalty_program.rewind.jackpot.prize'
            tickets:
              $ref: '#/components/schemas/loyalty_program.rewind.jackpot.tickets'
            winners_cnt:
              type: integer
              description: Total number of winners in this jackpot. 0 if jackpot is not finished yet.
            results:
              description: Full list of winners (sorted) with amount only. Empty array in case jackpot is not finished yet.
              type: array
              items:
                $ref: '#/components/schemas/loyalty_program.rewind.jackpot.result'
            top_results:
              description: Top 10 winners (sorted) with extra info per winner. Empty array in case jackpot is not finished yet.
              type: array
              items:
                $ref: '#/components/schemas/loyalty_program.rewind.jackpot.top_result'
            losers:
              description: Empty array in case jackpot is not finished yet
              type: array
              items:
                $ref: '#/components/schemas/loyalty_program.rewind.jackpot.loser'

    loyalty_program.rewind.jackpot.prize:
      type: object
      required:
        - amount
      properties:
        amount:
          $ref: '#/components/schemas/core.money'

    loyalty_program.rewind.jackpot.tickets:
      type: object
      required:
        - tickets_all
        - tickets_user
      properties:
        tickets_all:
          type: array
          items:
            type: integer
          description: Sorted array of all tickets, from the highest to the lowest
        tickets_user:
          type: integer
          description: Current user's tickets count (user's position can be calculated as index of this value in "tickets_all" key)

    loyalty_program.rewind.jackpot.loser:
      type: object
      required:
        - login_masked
      properties:
        login_masked:
          type: string

    loyalty_program.rewind.jackpot.result:
      type: object
      required:
        - amount
      properties:
        amount:
          $ref: '#/components/schemas/core.money'

    loyalty_program.rewind.jackpot.top_result:
      type: object
      required:
        - login_masked
        - amount
      properties:
        login_masked:
          type: string
        amount:
          $ref: '#/components/schemas/core.money'

    response.loyalty_program.rewind.jackpot.user_history:
      type: object
      required:
        - user_id
        - history
      properties:
        user_id:
          type: string
          format: uuid
        history:
          type: array
          items:
            $ref: '#/components/schemas/loyalty_program.rewind.jackpot.history_element'

    loyalty_program.rewind.jackpot.history_element:
      type: object
      required:
        - amount
        - jackpot
        - rank
      properties:
        user_id:
          type: string
          format: uuid
        amount:
          $ref: '#/components/schemas/core.money'
        jackpot:
          $ref: '#/components/schemas/loyalty_program.rewind.jackpot.info_short'
        rank:
          type: integer

    challenges.type:
      type: string
      enum:
        - OTP
        - TOTP
        - CRYPTO_ADDRESS
        - SKID
        - RSA_SIGNATURE

    challenges.target_type:
      type: string
      description: PHONE target type is used for SKID MobileID flow + OTP
      enum:
        - TOTP
        - EMAIL
        - PHONE
        - CRYPTO_ADDRESS
        - SMART_ID
        - DEVICE_ID         #! used in case of RSA-Signature challenge
        - WHATSAPP

    challenges.challenge:
      type: object
      required:
        - id
        - type
        - target
        - target_type
        - question
        - is_deliverable
      properties:
        id:
          description: challenge public id
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/challenges.type'
        question:
          type: string
          description: Challenge question. For now used only for challenge type=CRYPTO_ADDRESS and RSA_SIGNATURE
          nullable: true
        is_deliverable:
          type: boolean
          description: true for challenge type=OTP (sent over email/phone)
        target:
          type: string
          description: phone, email, TOTP device name or crypto address. empty string for RSA-Signature challenge
        target_type:
          $ref: '#/components/schemas/challenges.target_type'

    challenges.challenges_requested:
      type: object
      required:
        - token
        - challenges
      properties:
        token:
          type: string
          description: challenges jwt token used to authenticate user as an owner of the challenges
          format: password
        challenges:
          type: array
          items:
            $ref: '#/components/schemas/challenges.challenge'

    challenges.totp.device:
      type: object
      required:
        - id
        - name
        - is_confirmed
        - is_active
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        is_confirmed:
          type: boolean
        is_active:
          type: boolean
        provisioning_uri:
          description: Present only if device is being confirmed and challenges were requested
          type: string

    challenges.pkcs.public_key:
      type: object
      required:
        - key_type
        - device_id
        - created_at
      properties:
        id:
          type: string
          format: uuid
        key_type:
          type: string
          enum:
            - RSA
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'

    challenges.skid.verificator_type:
      type: string
      enum:
        - smart_id
        - mobile_id

    challenges.skid.verification_status:
      type: string
      enum:
        - NOT_STARTED
        - PENDING
        - VERIFIED
        - FAILED

    challenges.skid.verification_error_code:
      type: string
      enum:
        - TIMEOUT
        - CANCELED
        - OTHER

    auth.password:
      type: string
      minLength: 8
      maxLength: 50
      format: password
    core.language_code:
      description: |-
        ISO 639-1
        https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes
        in case of complex per-country languages we use
        ISO 3166-2
        https://en.wikipedia.org/wiki/ISO_3166-2
        for the country part
      type: string
      enum:
      #@yaml/text-templated-strings
      #@ for val in data.values.languageCodes:
        - (@= val @)
      #@ end
    core.localized_dict:
      type: object
      description: |-
        Common object containing language related texts.
        Might contain 1 or more of supported languages.
        Should use OAS 3.1 `propertyNames` prop instead of direct copying of `Locale`
      properties:
        #@yaml/text-templated-strings
        #@ for val in data.values.languageCodes:
        (@= val @):
          type: string
        #@ end
    core.brandId:
      type: integer
      enum:
        #@ for name in data.values.coreBrands:
        - #@ data.values.coreBrands[name]
        #@ end
    core.market:
      type: string
      enum:
        #@ for name in data.values.coreMarkets:
        - #@ name
        #@ end
    core.marketId:
      type: integer
      enum:
        #@ for name in data.values.coreMarkets:
        - #@ data.values.coreMarkets[name]
        #@ end
    core.domainGroup:
      type: string
      enum:
        #@ for name in data.values.coreDomainGroups:
        - #@ name
        #@ end
    core.domainGroupId:
      type: integer
      enum:
        #@ for name in data.values.coreDomainGroups:
        - #@ data.values.coreDomainGroups[name]
        #@ end
    core.licenseId:
      type: integer
      description: #@ ",\n".join(["{} - {}".format(data.values.coreLicenses[name], name) for name in data.values.coreLicenses])
      enum:
        #@ for name in data.values.coreLicenses:
        - #@ data.values.coreLicenses[name]
        #@ end
    core.sort_index:
      type: integer
      nullable: true
    core.sort_index_non_nullable:
      type: integer
    core.timestamp_millis:
      type: integer
    core.timestamp_seconds:
      type: integer
    core.money_amount:
      type: string
      example: '0.00'
    core.money_lookup:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for currency in data.values.currencies:
        (@= currency["name"] @):
          $ref: '#/components/schemas/core.money_amount'
        #@ end
    core.user_level:
      type: string
      enum:
        #@ for name in data.values.userLevel:
        - #@ name
        #@ end
    core.sex:
      type: string
      enum:
        #@ for sex in data.values.sex:
        - #@ sex
        #@ end

    core.crypto_address_currency:
      type: string
      enum:
        - ETH

    core.currency_fiat:
      type: string
      enum:
        #@ for currency in data.values.currencies:
          #@ if currency["crypto"] == False and currency["is_natively_supported"] == True:
        - #@ currency["name"]
          #@ end
        #@ end
    core.currency_crypto:
      type: string
      enum:
        #@ for currency in data.values.currencies:
          #@ if currency["crypto"] == True and currency["is_natively_supported"] == True:
        - #@ currency["name"]
          #@ end
        #@ end
    core.currency:
      type: string
      enum:
        #@ for currency in data.values.currencies:
          #@ if currency["is_natively_supported"] == True:
        - #@ currency["name"]
          #@ end
        #@ end
    core.money:
      type: object
      required:
        - value
        - currency
      properties:
        value:
          type: string
          example: '0.00'
        currency:
          $ref: '#/components/schemas/core.currency'

    core.decimal_value:
      type: string
      example: '10.5'

    core.exchange_rates:
      type: object
      required:
        - base
        - rates
      properties:
        base:
          type: string
          enum:
            - USD
        rates:
          type: object
          example: {'MXN': '19.4', 'XBT_PN6': '0.001'}

    core._http_error_base:
      required:
        - reason
        - message
      properties:
        reason:
          type: string
          description: top level error description in english
        message:
          $ref: '#/components/schemas/core.localized_dict'

    core.http_error:
      allOf:
        - $ref: '#/components/schemas/core._http_error_base'
        - type: object
          required:
            - code
            - reason_data
          properties:
            code:
              type: integer
              description: internal error code
              #! TODO generate this from data-values and reuse within backend?
              format: bm.core.SERVER_CODES
            reason_data:
              type: object

    core.templated_http_error:
      allOf:
        - $ref: '#/components/schemas/core.http_error'
        - type: object
          required:
            - message_template
            - message_template_data
          properties:
            message_template:
              $ref: '#/components/schemas/core.localized_dict'
            message_template_data:
              type: object
              description: data for template

    core.loyalty_program_type:
      type: string
      enum:
        - cashback
        - rewind
        - custom

    core.auth_type:
      type: string
      enum:
        - email
        - phone

    core.country:
      type: string
      enum:
        #@ for country in data.values.countries:
        - #@ country
        #@ end

    core.page_data_id:
      type: string

    core.image_size:
      type: string
      enum:
        #@ for size in data.values.imageSize:
        - #@ size
        #@ end

    core.image_theme:
      type: string
      enum:
        #@ for theme in data.values.imageTheme:
        - #@ theme
        #@ end

    sports.home_away:
      type: string
      enum:
        - h
        - a

    core.environmentId:
      type: integer
      description: #@ ",\n".join(data.values.environments)
      enum:
        #@ for name in data.values.environments:
        - #@ data.values.environments[name]
        #@ end

    core.product:
      type: string
      enum:
        #@ for product in data.values.coreProduct:
        - #@ product
        #@ end

    core.paginator:
      type: object
      required:
        - has_more
        - next_page_offset_id
      properties:
        has_more:
          type: boolean
        next_page_offset_id:
          description: will be null if `has_more` is false
          type: number
          nullable: true

    core.actionRejectionId:
      type: integer
      enum:
        #@ for name in data.values.actionsRejectionCode:
        - #@ data.values.actionsRejectionCode[name]
        #@ end

    sports.home_away_count_tuple:
      type: object
      required:
        - a
        - h
      properties:
        h:
          type: number
        a:
          type: number

    sports.market_counter:
      type: object
      required:
        - active_counter
      properties:
        active_counter:
          type: integer
    sports.missing_specifiers:
      type: string
      enum:
        - _
    sports.market_layout_type:
      type: string
      enum:
        - twoWay
        - drawNoBet
        - threeWay
        - total
        - totalAlike
        - exactScore
        - nextGoal
        - scoreFirstLast
        - doubleChance
        - oddEven
        - exactNumberOf
        - goalNogoal
        - highScoringHalf
        - yesNo
        - asianHandicap
        - asianTotal
        - europeanHandicap
        - oneInARow
        - twoInARow
        - threeInARow
        - fourInARow
    sports.provider:
      type: string
      enum:
        - sr
        - pn
        - od
    sports.provider_sr:
      enum:
        - sr
    sports.provider_pn:
      enum:
        - pn
    sports.provider_od:
      enum:
        - od

    sports.sport_group:
      type: string
      enum:
        - sports    #! traditional sports
        - esports
    sports.sport_group_sports:
      type: string
      enum:
        - sports
    sports.sport_group_esports:
      type: string
      enum:
        - esports

    sports.sport:
      type: object
      required:
        - id
        - provider
        - name
      properties:
        id:
          $ref: '#/components/schemas/sports.sport_id'
        provider:
          $ref: '#/components/schemas/sports.provider'
        name:
          $ref: '#/components/schemas/core.localized_dict'

    sports.info_dynamic_extra:
      type: object
      properties:
        game_score:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        current_server:
          $ref: '#/components/schemas/sports.home_away'

    sports.sportradar_sportId:
      type: string
      description: the same scheme as `sportradar.sportId` (generated from the same data) but in "sports." namespace.
      enum:
      #@yaml/text-templated-strings
      #@ for sport_id in data.values.sportradarSportIds:
        - (@= sport_id @)
      #@ end
    sports.pinnacle_sportIdInt:
      type: integer
      description: the same scheme as `pinnacle.sportIdInt` (generated from the same data) but in "sports." namespace.
      enum:
      #@ for sport_item in data.values.pinnacleSportsData:
        - #@ sport_item["id"]
      #@ end
    sports.oddin_sportId:
      type: string
      description: the same scheme as `oddin.sportId` (generated from the same data) but in "sports." namespace.
      enum:
      #@yaml/text-templated-strings
      #@ for sport_id in data.values.oddinSportIds:
        - (@= sport_id @)
      #@ end

    sports.sport_id:
      anyOf:
        - $ref: '#/components/schemas/sports.sportradar_sportId'
        - $ref: '#/components/schemas/sports.pinnacle_sportIdInt'
        - $ref: '#/components/schemas/sports.oddin_sportId'

    sports.sport_id_with_provider:
      type: object
      required:
        - id
        - provider
      properties:
        id:
          $ref: '#/components/schemas/sports.sport_id'
        provider:
          $ref: '#/components/schemas/sports.provider'

    sports.category_id_with_provider:
      type: object
      required:
        - id
        - provider
      properties:
        id:
          type: string
        provider:
          $ref: '#/components/schemas/sports.provider'

    sports.category:
      type: object
      required:
        - id
        - provider
        - name
        - country_code
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
      properties:
        id:
          type: string
        provider:
          $ref: '#/components/schemas/sports.provider'
        name:
          $ref: '#/components/schemas/core.localized_dict'
        country_code:
          type: string
          nullable: true
          description: Null when category does not represent country (World, International, etc). Currently is not used.
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          #! TODO: openapi. market ids as enum? it's static data.
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/sports.sport_id'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true

    sports.match_list_type:
      type: string
      enum:
        - live
        - upcoming
    sports.match_counter:
      type: object
      description: Number of different types of matches.
      required:
        - live
        - upcoming_top
        - upcoming_by_day
      properties:
        live:
          type: number
        upcoming_top:
          description: Number of top matches in the next 30 days.
          type: number
        upcoming_by_day:
          description: |-
            Element with index 0 describes the number of upcoming matches today.
            Element with index 1 describes the number of upcoming matches tommorrow.
            And so on (up to 30 days).
          type: array
          items:
            type: number

    sports.bet:
      #! TODO: implement bet structure specification
      type: object
      required:
        - cashout_context
      properties:
        cashout_context:
          $ref: '#/components/schemas/sports.cashout_context'
        display_exchange_rates:
          $ref: '#/components/schemas/core.exchange_rates'

    sports.cashout_context:
      type: object
      required:
        - is_eligible
        - reason
        - cashout_amount
      properties:
        is_eligible:
          type: boolean
          description: Whether bet is eligible for cashout
        reason:
          type: string
        cashout_amount:
          nullable: true
          description: |-
            Null in case bet is not eligible for cashout.
            Currency is the same as bet's currency.
          allOf:
            - $ref: '#/components/schemas/core.money_amount'

    #! TODO: openapi. is it the only category shape that is used in the project?
    sportradar.category:
      type: object
      required:
        - id
        - name
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
        - tags
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        country_code:
          type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          #! TODO: openapi. market ids as enum? it's static data.
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/sportradar.sportId'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        tags:
          type: array
          deprecated: true
          items:
            type: string
    sportradar.clock:
      type: object
      required:
        - is_stopped
        - event_time
        - updated_at
      properties:
        is_stopped:
          type: boolean
        event_time:
          type: string
        updated_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        stoppage_time:
          description: Soccer only?
          type: string
        stoppage_time_announced:
          description: Soccer only?
          type: string
        remaining_time:
          description: Must present at least in hockey and basketball?
          type: string
        remaining_time_in_period:
          description: Must present at least in hockey and basketball?
          type: string
    sportradar.collection:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          description: Internal ID
        name:
          $ref: '#/components/schemas/core.localized_dict'
    sportradar.competition_status:
      allOf:
        - $ref: '#/components/schemas/sportradar.competition_status_realtime'
        - type: object
          required:
            - name
          properties:
            name:
              $ref: '#/components/schemas/core.localized_dict'
    sportradar.competition_status_realtime:
      type: object
      required:
        - id
      properties:
        id:
          type: number
    sportradar.competitor:
      type: object
      description: Competitor of a sport event.
      required:
        - id
        - sr_id
        - is_top
        - logo_url
        - name
      properties:
        id:
          type: number
          description: Internal ID
        sr_id:
          $ref: '#/components/schemas/sportradar.srId'
        is_top:
          type: boolean
          description: Description
        logo_url:
          type: string
          description: Description
          nullable: true
        name:
          $ref: '#/components/schemas/core.localized_dict'
    sportradar.market_stats:
      type: object
      properties:
        sr1:
          type: object
          properties:
            '1':
              $ref: '#/components/schemas/sports.market_counter'
            '3':
              $ref: '#/components/schemas/sports.market_counter'
            '5':
              $ref: '#/components/schemas/sports.market_counter'
    sportradar.info_dynamic_base:
      type: object
      required:
        - event_status
      properties:
        event_status:
          type: number
          format: bm.sports.sportradar.EVENT_STATUS
        clock:
          allOf:
            - $ref: '#/components/schemas/sportradar.clock'
          nullable: true
        score:
          allOf:
            - $ref: '#/components/schemas/sports.home_away_count_tuple'
          nullable: true
        markets_stats:
          allOf:
            - $ref: '#/components/schemas/sportradar.market_stats'
          nullable: true
        extra:
          $ref: '#/components/schemas/sports.info_dynamic_extra'
    sportradar.info_dynamic_api:
      allOf:
        - $ref: '#/components/schemas/sportradar.info_dynamic_base'
        - type: object
          required:
            - competition_status
          properties:
            competition_status:
              $ref: '#/components/schemas/sportradar.competition_status'
            period_scores:
              type: object
              nullable: true
              description: Key is period number
              additionalProperties:
                $ref: '#/components/schemas/sportradar.period_score_api'
            video_streaming_meta:
              $ref: '#/components/schemas/sportradar.video_streaming_meta'

    sportradar.video_streaming_meta:
      type: object
      required:
        - provider
        - is_available_geo
        - is_available_general
      properties:
        provider:
          type: string
          enum:
            - bet-broadcast
        is_available_geo:
          type: boolean
          description: Whether stream is available for current's request country/region.
        is_available_general:
          type: boolean
          description: Whether stream is available in general (e.g. match has already finished -> stream not available)

    sportradar.video_stream:
      type: object
      required:
        - provider
        - stream_type
        - stream_url
      properties:
        provider:
          type: string
          enum:
            - bet-broadcast
        stream_type:
          type: string
          enum:
            - hls
        stream_url:
          type: string

    sportradar.info_dynamic_realtime:
      allOf:
        - $ref: '#/components/schemas/sportradar.info_dynamic_base'
        - type: object
          required:
            - competition_status
          properties:
            competition_status:
              $ref: '#/components/schemas/sportradar.competition_status_realtime'
            period_scores:
              type: object
              description: Key is period number
              additionalProperties:
                $ref: '#/components/schemas/sportradar.period_score_realtime'
    sportradar.market:
      type: object
      required:
        - id
        - sp
      properties:
        id:
          type: string
        sp:
          type: object
          description: Short for "specifiers". Key is specifiers. (defaults to '#/components/schemas/sports.missing_specifiers')
          additionalProperties:
            type: object
            required:
              - st
            properties:
              st:
                $ref: '#/components/schemas/sportradar.market_status'
              out:
                $ref: '#/components/schemas/sportradar.market_outcomes'
    sportradar.market_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - group_ids
        - layout
        - sort_index
        - sp
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/sportradar.name_per_sport'
        name_per_variant:
          type: object
          description: Present only in outright markets. Key is "pre:markettext" prefixed variant.
          additionalProperties:
            $ref: '#/components/schemas/core.localized_dict'
        group_ids:
          type: array
          items:
            type: string
        layout:
          allOf:
            - $ref: '#/components/schemas/sports.market_layout_type'
          nullable: true
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sp:
          oneOf:
            - type: array
              items:
                $ref: '#/components/schemas/sportradar.specifier_key'
            - type: array
              items:
                $ref: '#/components/schemas/sports.missing_specifiers'
              minItems: 1
              maxItems: 1
    sportradar.market_outcomes:
      type: object
      description: Key is outcome id
      additionalProperties:
        $ref: '#/components/schemas/sportradar.outcome'
    sportradar.market_status:
      type: number
      description: |-
        1 - ACTIVE
        2 - SUSPENDED
        3 - DEACTIVATED
        4 - SETTLED
        5 - CANCELLED
        6 - HANDED_OVER
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6
    sportradar.marketgroup_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - sort_index
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/sportradar.name_per_sport'
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
    sportradar.markets_set:
      type: string
      enum:
        - main
        - main_extended
    sportradar.match:
      type: object
      required:
        - id
        - sr_id
        - info_static
        - info_dynamic
        - odds
      properties:
        id:
          type: number
          description: Internal match ID
        sr_id:
          type: string
          example: 'sr:match:23058545'
          description: Sportradar match ID, starts with `sr:match`
        info_static:
          type: object
          description: Static match information that should not change
          required:
            - competitor_home
            - competitor_away
            - round
            - season
            - tournament
            - category
            - sport
            - start_time
            - extra
            - is_featured
            - is_featured_by_market_id
          properties:
            competitor_home:
              $ref: '#/components/schemas/sportradar.competitor'
            competitor_away:
              $ref: '#/components/schemas/sportradar.competitor'
            round:
              allOf:
                - $ref: '#/components/schemas/sportradar.round'
              nullable: true
            season:
              allOf:
                - $ref: '#/components/schemas/sportradar.season'
              nullable: true
            tournament:
              allOf:
                - $ref: '#/components/schemas/sportradar.tournament'
              nullable: true
            category:
              allOf:
                - $ref: '#/components/schemas/sportradar.category'
              nullable: true
            sport:
              $ref: '#/components/schemas/sportradar.sport'
            start_time:
              $ref: '#/components/schemas/core.timestamp_millis'
            extra:
              type: object
              description: TODO what is the real shape of extra? do we know?
              properties:
                coverage_source:
                  type: string
                extended_live_markets_source:
                  type: boolean
                neutral_ground:
                  type: boolean
                overtime_length:
                  type: number
                period_length:
                  type: number
            is_featured:
              type: boolean
            is_featured_by_market_id:
              type: object
              description: Key is product market ID.
              additionalProperties:
                type: boolean
        info_dynamic:
          $ref: '#/components/schemas/sportradar.info_dynamic_api'
        odds:
          $ref: '#/components/schemas/sportradar.odds'
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'
    sportradar.match_counter_by_sport:
      type: object
      required:
        - by_sport_id
      properties:
        by_sport_id:
          required:
          #@yaml/text-templated-strings
          #@ for sport_id in data.values.sportradarSportIds:
          - "(@= sport_id @)"
          #@ end
          properties:
            #@yaml/text-templated-strings
            #@ for sport_id in data.values.sportradarSportIds:
            (@= sport_id @):
              $ref: '#/components/schemas/sports.match_counter'
            #@ end
    sportradar.name_per_sport:
      type: object
      description: Key is sportradar.sport
      nullable: true
      properties:
        #@yaml/text-templated-strings
        #@ for sport_id in data.values.sportradarSportIds:
        (@= sport_id @):
          $ref: '#/components/schemas/core.localized_dict'
        #@ end
    sportradar.odds:
      type: object
      required:
        - sr1
      properties:
        sr1:
          type: object
          description: |-
            "sr1" is id of main sportradar feedfetcher (for now it's the only one).
            Key is sportradar producer id.
            1 - live
            3 - prematch
            5 - premium cricket
          properties:
            '1':
              $ref: '#/components/schemas/sportradar.odds_by_market'
            '3':
              $ref: '#/components/schemas/sportradar.odds_by_market'
            '5':
              $ref: '#/components/schemas/sportradar.odds_by_market'
    sportradar.odds_by_market:
      type: object
      description: Key is market id.
      additionalProperties:
        $ref: '#/components/schemas/sportradar.market'
    sportradar.outcome:
      type: object
      required:
        - id
        - st
        - o
      properties:
        id:
          type: string
        st:
          $ref: '#/components/schemas/sportradar.outcome_status'
        o:
          type: string
          description: Short for "odds". String representation of decimal odds value.
          nullable: true
    sportradar.outcome_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/sportradar.name_per_sport'
    sportradar.outcome_status:
      type: number
      description: |-
        0 - inactive
        1 - active
      enum:
        - 0
        - 1
    sportradar.period_score_api:
      allOf:
        - $ref: '#/components/schemas/sports.home_away_count_tuple'
        - type: object
          required:
            - competition_status
            - period_number
            - period_type
          properties:
            competition_status:
              $ref: '#/components/schemas/sportradar.competition_status'
            period_type:
              $ref: '#/components/schemas/sportradar.period_score_type'
            period_number:
              type: number
    sportradar.period_score_realtime:
      allOf:
        - $ref: '#/components/schemas/sports.home_away_count_tuple'
        - type: object
          required:
            - competition_status
            - period_number
            - period_type
          properties:
            competition_status:
              $ref: '#/components/schemas/sportradar.competition_status_realtime'
            period_type:
              $ref: '#/components/schemas/sportradar.period_score_type'
            period_number:
              type: number
    sportradar.period_score_type:
      type: number
      description: |-
        1 - RegularPeriod
        2 - Overtime
        3 - Penalties
        4 - Other
      enum:
        - 1
        - 2
        - 3
        - 4
    sportradar.player:
      type: object
      description: Player within a competitor of a sport event.
      required:
        - id
        - name
      properties:
        id:
          type: number
          description: Internal ID
        name:
          $ref: '#/components/schemas/core.localized_dict'
    sportradar.round:
      type: object
      required:
        - id
        - name
        - logo_url
      properties:
        id:
          type: number
        name:
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
          nullable: true
        logo_url:
          type: string
          nullable: true
    sportradar.season:
      type: object
      required:
        - id
        - name
        - logo_url
      properties:
        id:
          type: number
        name:
          $ref: '#/components/schemas/core.localized_dict'
        logo_url:
          type: string
          nullable: true
    sportradar.season_with_outrights:
      allOf:
        - $ref: '#/components/schemas/sportradar.season'
        - type: object
          required:
            - has_outrights
          properties:
            has_outrights:
              type: boolean
    sportradar.season_full:
      allOf:
        - $ref: '#/components/schemas/sportradar.season_with_outrights'
        - type: object
          required:
            - info_static
            - info_dynamic
            - odds
          properties:
            info_static:
              type: object
              required:
                - tournament
                - category
                - sport
                - extra
              properties:
                tournament:
                  $ref: '#/components/schemas/sportradar.tournament'
                category:
                  $ref: '#/components/schemas/sportradar.category'
                sport:
                  $ref: '#/components/schemas/sportradar.sport'
                extra:
                  type: object
            info_dynamic:
              properties:
                markets_stats:
                  allOf:
                    - $ref: '#/components/schemas/sportradar.market_stats'
                  nullable: true
            odds:
              $ref: '#/components/schemas/sportradar.odds'
    sportradar.specifier_key:
      type: string
      enum:
        - appearancenr
        - bookingnr
        - c1goalnr
        - c1scorenr
        - c2goalnr
        - c2scorenr
        - challengenr
        - competitor
        - competitor1
        - competitor2
        - cornernr
        - daynr
        - deliverynr
        - dismissalnr
        - drivenr
        - endnr
        - fieldgoalnr
        - framenr
        - frames
        - freethrownr
        - from
        - fromframe
        - gamenr
        - gamenrX
        - gamenrY
        - games
        - goalnr
        - goals
        - group
        - hcp
        - hitnr
        - holenr
        - id
        - inningnr
        - innings
        - killnr
        - legnr
        - mapnr
        - matchday
        - maxovers
        - milestone
        - minute
        - overnr
        - overnrX
        - overnrY
        - penaltynr
        - periodnr
        - pitchnr
        - player
        - player1
        - player2
        - player3
        - playnr
        - pointnr
        - points
        - pos
        - quarternr
        - roundnr
        - runnr
        - score
        - scorenr
        - scores
        - server
        - sessionnr
        - setnr
        - timeoutnr
        - to
        - toframe
        - total
        - touchdownnr
        - turnovernr
        - type
        - upsnr
        - variant
        - version
        - visitnr
        - winners
        - xth
    sportradar.sportId:
      type: string
      enum:
      #@yaml/text-templated-strings
      #@ for sport_id in data.values.sportradarSportIds:
        - (@= sport_id @)
      #@ end
    sportradar.sport:
      type: object
      required:
        - id
        - name
      properties:
        id:
          $ref: '#/components/schemas/sportradar.sportId'
        name:
          $ref: '#/components/schemas/core.localized_dict'
    sportradar.srId:
      type: string
      minLength: 4
      description: Sportradar ID
    sportradar.tournament:
      type: object
      required:
        - id
        - name
        - category_id
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
        - start_time
        - tags
        - page_data_id
      properties:
        id:
          type: number
        name:
          $ref: '#/components/schemas/core.localized_dict'
        category_id:
          type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/sportradar.sportId'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        background_logo_url:
          type: string
          nullable: true
        start_time:
          type: number
          nullable: true
        tags:
          type: array
          deprecated: true
          items:
            type: string
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'
    sportradar.tournament_with_season:
      allOf:
        - $ref: '#/components/schemas/sportradar.tournament'
        - type: object
          required:
            - season
          properties:
            season:
              allOf:
                - $ref: '#/components/schemas/sportradar.season_with_outrights'
              nullable: true

    oddin.clock:
      type: object
      required:
        - is_stopped
        - event_time
        - updated_at
      properties:
        is_stopped:
          type: boolean
        event_time:
          type: string
        updated_at:
          $ref: '#/components/schemas/core.timestamp_millis'

    oddin.collection:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          description: Internal ID
        name:
          $ref: '#/components/schemas/core.localized_dict'

    oddin.competition_status:
      allOf:
        - $ref: '#/components/schemas/oddin.competition_status_realtime'
        - type: object
          required:
            - name
          properties:
            name:
              $ref: '#/components/schemas/core.localized_dict'

    oddin.competition_status_realtime:
      type: object
      required:
        - id
      properties:
        id:
          type: number

    oddin.competitor:
      type: object
      description: Competitor of a sport event.
      required:
        - id
        - od_id
        - is_top
        - logo_url
        - name
      properties:
        id:
          type: number
          description: Internal ID
        od_id:
          $ref: '#/components/schemas/oddin.odId'
        is_top:
          type: boolean
          description: Description
        logo_url:
          type: string
          description: Description
          nullable: true
        name:
          $ref: '#/components/schemas/core.localized_dict'

    oddin.specifier_key:
      type: string
      description: TODO add as enum

    oddin.sportId:
      type: string
      enum:
      #@yaml/text-templated-strings
      #@ for sport_id in data.values.oddinSportIds:
        - (@= sport_id @)
      #@ end

    oddin.market:
      type: object
      required:
        - id
        - sp
      properties:
        id:
          type: string
        sp:
          type: object
          description: Short for "specifiers". Key is specifiers. (defaults to '#/components/schemas/sports.missing_specifiers')
          additionalProperties:
            type: object
            required:
              - st
            properties:
              st:
                $ref: '#/components/schemas/oddin.market_status'
              out:
                $ref: '#/components/schemas/oddin.market_outcomes'

    oddin.market_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - group_ids
        - layout
        - sort_index
        - sp
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/oddin.name_per_sport'
        name_per_variant:
          type: object
          description: Present only in outright markets. Key is "pre:markettext" prefixed variant.
          additionalProperties:
            $ref: '#/components/schemas/core.localized_dict'
        group_ids:
          type: array
          items:
            type: string
        layout:
          allOf:
            - $ref: '#/components/schemas/sports.market_layout_type'
          nullable: true
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sp:
          oneOf:
            - type: array
              items:
                $ref: '#/components/schemas/oddin.specifier_key'
            - type: array
              items:
                $ref: '#/components/schemas/sports.missing_specifiers'
              minItems: 1
              maxItems: 1

    oddin.market_outcomes:
      type: object
      description: Key is outcome id
      additionalProperties:
        $ref: '#/components/schemas/oddin.outcome'

    oddin.market_status:
      type: number
      description: |-
        1 - ACTIVE
        2 - SUSPENDED
        3 - DEACTIVATED
        4 - SETTLED
        5 - CANCELLED
        6 - HANDED_OVER
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6

    oddin.marketgroup_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - sort_index
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/oddin.name_per_sport'
        sort_index:
          $ref: '#/components/schemas/core.sort_index'

    oddin.markets_set:
      type: string
      enum:
        - main
        - main_extended

    oddin.match_counter_by_sport:
      type: object
      required:
        - by_sport_id
      properties:
        by_sport_id:
          required:
            #@yaml/text-templated-strings
            #@ for sport_id in data.values.oddinSportIds:
            - "(@= sport_id @)"
            #@ end
          properties:
            #@yaml/text-templated-strings
            #@ for sport_id in data.values.oddinSportIds:
            (@= sport_id @):
              $ref: '#/components/schemas/sports.match_counter'
            #@ end

    oddin.name_per_sport:
      type: object
      description: Key is oddin.sport
      nullable: true
      properties:
        #@yaml/text-templated-strings
        #@ for sport_id in data.values.oddinSportIds:
        (@= sport_id @):
          $ref: '#/components/schemas/core.localized_dict'
        #@ end

    oddin.odds:
      type: object
      required:
        - od1
      properties:
        od1:
          type: object
          description: |-
            "od1" is id of main oddin feedfetcher (for now it's the only one).
            Key is oddin producer id.
            1 - live
            3 - prematch
          properties:
            '1':
              $ref: '#/components/schemas/oddin.odds_by_market'
            '3':
              $ref: '#/components/schemas/oddin.odds_by_market'

    oddin.odds_by_market:
      type: object
      description: Key is market id.
      additionalProperties:
        $ref: '#/components/schemas/oddin.market'

    oddin.odId:
      type: string
      minLength: 4
      description: Oddin ID

    oddin.outcome:
      type: object
      required:
        - id
        - st
        - o
      properties:
        id:
          type: string
        st:
          $ref: '#/components/schemas/oddin.outcome_status'
        o:
          type: string
          description: Short for "odds". String representation of decimal odds value.
          nullable: true

    oddin.outcome_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/oddin.name_per_sport'

    oddin.outcome_status:
      type: number
      description: |-
        0 - inactive
        1 - active
      enum:
        - 0
        - 1

    oddin.tournament:
      type: object
      required:
        - id
        - name
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
        - start_time
        - tags
        - page_data_id
      properties:
        id:
          type: number
        name:
          $ref: '#/components/schemas/core.localized_dict'
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/oddin.sportId'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        background_logo_url:
          type: string
          nullable: true
        start_time:
          type: number
          nullable: true
        tags:
          type: array
          deprecated: true
          items:
            type: string
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'

    marketing.offer_banner_layout:
      type: string
      enum:
        - casino
        - sports
        - esports
        - racing
        - bingo
    marketing.offer_unauthorized_redirect:
      type: string
      description: Where to redirect anonymous/unauthorized user
      enum:
        - 'sign_up'
        - 'sign_in'
    marketing.offer_button_mode:
      type: string
      enum:
      - 'redirect'
      - 'accept_promo'
      - 'accept_promo_single'
      - 'accept_promotion'
      - 'accept_promotion_multiple'
      - 'accept_participant'
      - 'accept_participant_by_group'
    marketing.offer_button_config:
      type: object
      properties:
        hide_button:
          type: boolean
        hide_countdown:
          type: boolean
        promotion_id:
          type: integer
        participant_id:
          type: integer
        code:
          type: string
        url:
          type: string
    marketing.offer_context:
      type: object
      description: Map of context values separated by type
      required:
        - amounts
      properties:
        simple:
          type: object
          additionalProperties:
            type: string
          description: String values. Used as is. Have prefix 'simple:'
        amounts:
          type: object
          additionalProperties:
            type: string
          description: Amounts values. Used for money formatting. Have prefix 'amount:'
        links:
          type: object
          additionalProperties:
            type: string
          description: Links values. Used for building links. Have prefix 'url:'

    marketing.offer_content_tab:
      type: object
      required:
        - content
        - order
        - slug
      properties:
        content:
          $ref: '#/components/schemas/core.localized_dict'
        order:
          type: integer
        slug:
          type: string

    marketing.multistage_offer_stage:
      type: object
      required:
        - promotion_id
        - ordering
        - main_text
        - secondary_text
      properties:
        promotion_id:
          type: integer
        ordering:
          type: integer
        main_text:
          $ref: '#/components/schemas/core.localized_dict'
        secondary_text:
          $ref: '#/components/schemas/core.localized_dict'
        label_text:
          $ref: '#/components/schemas/core.localized_dict'
        button_text:
          type: object
          properties:
            completed_button_text:
              $ref: '#/components/schemas/core.localized_dict'
            active_button_text:
              $ref: '#/components/schemas/core.localized_dict'
            available_button_text:
              $ref: '#/components/schemas/core.localized_dict'
            unavailable_button_text:
              $ref: '#/components/schemas/core.localized_dict'

    marketing.offer:
      type: object
      required:
        - promo_id
        - start_datetime
        - end_datetime
        - prize_datetime
        - show_places
        - ordering
        - is_weekly
        - is_welcome
        - partner_code
        - link_only
        - show_in_carousel
        - show_in_list
        - legal
        - currency
        - unauthorized_redirect_to
        - banner_redirect_url
        - banner_image
        - context

      properties:
        promo_id:
          type: string
          description: ID of promo offer. Use to get details
        start_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        end_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        prize_datetime:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'
        show_places:
          type: array
          items:
            description: Specifies in which sections to show the offer
            allOf:
              - $ref: '#/components/schemas/marketing.offer_banner_layout'
        ordering:
          type: object
          description: Ordering in places from show_places
          required:
            - sportsbook_sort_index
            - casino_sort_index
            - esports_sort_index
            - racing_sort_index
            - bingo_sort_index
          properties:
            sportsbook_sort_index:
              type: integer
              nullable: true
            casino_sort_index:
              type: integer
              nullable: true
            esports_sort_index:
              type: integer
              nullable: true
            racing_sort_index:
              type: integer
              nullable: true
            bingo_sort_index:
              type: integer
              nullable: true
        is_weekly:
          type: boolean
        is_welcome:
          type: boolean
        partner_code:
          type: string
          nullable: true
          description: Bound partner code of Welcome offer
        link_only:
          type: boolean
          description: If yes, this offer should not be shown in a list, only by direct link
        show_in_carousel:
          type: boolean
          description: If yes, this offer should be shown in a carousel
        show_in_list:
          type: boolean
          description: If yes, this offer should be shown in a list
        legal:
          nullable: true
          description: Legal text
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
        currency:
          description: Currency of all amounts in offer
          allOf:
            - $ref: '#/components/schemas/core.currency'
        unauthorized_redirect_to:
          $ref: '#/components/schemas/marketing.offer_unauthorized_redirect'
        banner_redirect_url:
          type: string
          nullable: true
          description: Where to redirect user on click on banner
        title:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
        subtitle:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
        card_background_style:
          nullable: true
          type: string
          description: CSS style of banner
        banner_image:
          type: string
          description: Banner image url
        title_image:
          type: string
        label_image:
          type: string
        page_background_image:
          type: string
        button:
          type: object
          nullable: true
          required:
            - mode
          properties:
            mode:
              $ref: '#/components/schemas/marketing.offer_button_mode'
            texts:
              type: object
              properties:
                button_text:
                  nullable: true
                  allOf:
                  - $ref: '#/components/schemas/core.localized_dict'
                used_button_text:
                  nullable: true
                  allOf:
                  - $ref: '#/components/schemas/core.localized_dict'
                unauthorized_button_text:
                  nullable: true
                  allOf:
                  - $ref: '#/components/schemas/core.localized_dict'
            config:
              nullable: true
              allOf:
              - $ref: '#/components/schemas/marketing.offer_button_config'
          description: Button config
        tournament_id:
          type: string
          nullable: true
          description: ID of bound points tournament
        content:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/marketing.offer_content_tab'
          description: Content of offer
        context:
          $ref: '#/components/schemas/marketing.offer_context'
        prizes:
          type: object
          nullable: true
          description: Prizes of offer
          required:
            - prize_pool
          properties:
            prize_pool:
              description: Total prize pool. Will be shown anyway, if set
              allOf:
              - $ref: '#/components/schemas/core.localized_dict'
            prize_list:
              type: array
              description: List of prizes. Will be shown in a detailed view
              nullable: true
              items:
                allOf:
                - $ref: '#/components/schemas/core.localized_dict'
            tournament_type:
              type: string
              description: Type of tournament
              enum:
                - ratio_tournament
                - points_tournament

    marketing.multistage_offer:
      type: object
      required:
        - promo_id
        - start_datetime
        - end_datetime
        - show_places
        - legal
        - currency
        - content
        - context
        - stages
      properties:
        promo_id:
          type: string
          description: ID of promo offer. Use to get details
        start_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        end_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        show_places:
          type: array
          items:
            description: Specifies in which sections to show the offer
            allOf:
              - $ref: '#/components/schemas/marketing.offer_banner_layout'
        legal:
          nullable: true
          description: Legal text
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
        currency:
          description: Currency of all amounts in offer
          allOf:
            - $ref: '#/components/schemas/core.currency'
        content:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/marketing.offer_content_tab'
          description: Content of offer
        context:
          $ref: '#/components/schemas/marketing.offer_context'
        stages:
          type: array
          items:
            $ref: '#/components/schemas/marketing.multistage_offer_stage'
          description: List of elements of multistage offer

    marketing.regular_bonus_offer_section:
      type: string
      enum:
        - monday
        - tuesday
        - wednesday
        - thursday
        - friday
        - weekend
        - special
    marketing.regular_bonus_offer_day:
      type: string
      enum:
        - monday
        - tuesday
        - wednesday
        - thursday
        - friday
        - weekend
    marketing.regular_bonus_offer_state:
      type: string
      enum:
        - claimable
        - optinable
        - playable
        - depositable
        - inactive

    marketing.regular_bonus_offer:
      type: object
      required:
        - promo_id
        - start_datetime
        - end_datetime
        - section
        - offer
        - campaigns
        - type
        - active_days
        - title_text
        - state_texts
        - context
      properties:
        promo_id:
          type: string
        start_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        end_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        section:
          $ref: '#/components/schemas/marketing.regular_bonus_offer_section'
        offer:
          type: string
          description: Related Marketing offer promo_id
        campaigns:
          type: array
          items:
            type: string
          description: Related Promotion campaign ids
        type:
          type: string
          enum:
            - weekly_cashback
            - live_casino
            - freespins
            - casino_deposit_bonus
            - tournament
            - sports_deposit_bonus
            - bingo_deposit_bonus
            - bingo_tickets
            - freebets
        products:
          type: array
          items:
            type: string
            enum:
              - sports
              - casino
              - esports
              - bingo
              - racing
        active_days:
          type: array
          items:
            $ref: '#/components/schemas/marketing.regular_bonus_offer_day'
          description: Days when offer is active
        title_text:
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
        bound_offer:
          $ref: '#/components/schemas/marketing.offer'
        state_texts:
          type: object
          properties:
            claimable:
              $ref: '#/components/schemas/core.localized_dict'
            optinable:
              $ref: '#/components/schemas/core.localized_dict'
            playable:
              $ref: '#/components/schemas/core.localized_dict'
            depositable:
              $ref: '#/components/schemas/core.localized_dict'
            inactive:
              $ref: '#/components/schemas/core.localized_dict'
        context:
          $ref: '#/components/schemas/marketing.offer_context'
        content:
          type: array
          nullable: true
          items:
            $ref: '#/components/schemas/marketing.offer_content_tab'
          description: Content of offer

    marketing.user_marketing_param:
      type: string
      enum:
        #@yaml/text-templated-strings
        #@ for m in data.values.offer_marketing_param:
        - (@= m @)
        #@ end

    agreements.agreement:
      type: object
      required:
        - title
        - agreement_type
        - version_id
        - version_number
        - created_at
        - language
        - is_acceptance_required
        - is_acceptance_control_required
        - is_accepted
        - file_url
      properties:
        title:
          type: string
        agreement_type:
          $ref: '#/components/schemas/agreements.agreement_type'
        version_id:
          $ref: '#/components/schemas/agreements.version_id'
        version_number:
          type: number
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        language:
          $ref: '#/components/schemas/core.language_code'
        is_acceptance_required:
          type: boolean
        is_accepted:
          type: boolean
        file_url:
          type: string
        is_acceptance_control_required:
          type: boolean
        description:
          type: string
          nullable: true

    agreements.agreement_type:
      type: string
      enum:
        #@ for name in data.values.agreementType:
        - #@ name
        #@ end
    agreements.version_id:
      type: number

    response.sportradar.video_stream:
      type: object
      required:
        - stream
      properties:
        stream:
          oneOf:
            - $ref: '#/components/schemas/sportradar.video_stream'
          nullable: true

    response.sportradar.tournamentlist:
      title: Sportradar tournaments list response
      description: Contains list of tournaments along with necessary metadata like categories and sports.
      required:
        - tournaments
        - categories
        - sports
      properties:
        tournaments:
          type: array
          items:
            $ref: '#/components/schemas/sportradar.tournament'
        categories:
          type: object
          description: Key is category id
          additionalProperties:
            $ref: '#/components/schemas/sportradar.category'
        sports:
          type: object
          description: Key is sport id
          additionalProperties:
            $ref: '#/components/schemas/sportradar.sport'

    response.casino.block_games:
      title: Casino block games response
      required:
        - blocks
      properties:
        blocks:
          type: object
          additionalProperties:
            type: array
            description: Contains list of block games. A key is a block name.
            items:
              $ref: '#/components/schemas/casino.game'

    response.sportradar.match:
      title: Sportradar match response
      description: Contains a match along with necessary metadata like markets, outcomes, etc.
      type: object
      required:
        - match
        - markets
        - outcomes
        - groups
      properties:
        match:
          $ref: '#/components/schemas/sportradar.match'
        markets:
          type: object
          description: Key is market id
        outcomes:
          type: object
          description: Key is outcome id
        groups:
          type: object
          description: Key is group id.

    response.sportradar.matchlist:
      title: Sportradar match list response
      description: Contains list of matches along with necessary metadata like markets, outcomes, etc.
      type: object
      required:
        - matches
        - markets
        - outcomes
        - groups
      properties:
        matches:
          type: array
          items:
            $ref: '#/components/schemas/sportradar.match'
        markets:
          type: object
          description: Key is market id
          additionalProperties:
            $ref: '#/components/schemas/sportradar.market_metadata'
        outcomes:
          type: object
          description: Key is outcome id
          additionalProperties:
            $ref: '#/components/schemas/sportradar.outcome_metadata'
        groups:
          type: object
          description: Key is group id
          additionalProperties:
            $ref: '#/components/schemas/sportradar.marketgroup_metadata'

    response.sportradar.category_list:
      title: Sportradar category list response
      description: Contains list of categories along with necessary data
      type: object
      required:
        - categories
      properties:
        categories:
          type: array
          items:
            $ref: '#/components/schemas/sportradar.category'

    oddin.sport:
      type: object
      required:
        - id
        - name
      properties:
        id:
          $ref: '#/components/schemas/oddin.sportId'
        name:
          $ref: '#/components/schemas/core.localized_dict'

    oddin.info_dynamic_base:
      type: object
      required:
        - event_status
        - scoreboard
      properties:
        event_status:
          type: number
          format: bm.sports.oddin.EVENT_STATUS
        clock:
          allOf:
            - $ref: '#/components/schemas/oddin.clock'
          nullable: true
        score:
          allOf:
            - $ref: '#/components/schemas/sports.home_away_count_tuple'
          nullable: true
        markets_stats:
          allOf:
            - $ref: '#/components/schemas/oddin.market_stats'
          nullable: true
        extra:
          $ref: '#/components/schemas/sports.info_dynamic_extra'
        scoreboard:
          allOf:
            - $ref: '#/components/schemas/oddin.scoreboard'
          nullable: true
    oddin.info_dynamic_api:
      allOf:
        - $ref: '#/components/schemas/oddin.info_dynamic_base'
        - type: object
          required:
            - competition_status
          properties:
            competition_status:
              $ref: '#/components/schemas/oddin.competition_status'
            period_scores:
              type: object
              nullable: true
              description: Key is period number
              additionalProperties:
                $ref: '#/components/schemas/oddin.period_score_api'
    oddin.info_dynamic_realtime:
      allOf:
        - $ref: '#/components/schemas/oddin.info_dynamic_base'
        - type: object
          required:
            - competition_status
          properties:
            competition_status:
              $ref: '#/components/schemas/oddin.competition_status_realtime'
            period_scores:
              type: object
              description: Key is period number
              additionalProperties:
                $ref: '#/components/schemas/oddin.period_score_realtime'

    oddin.market_stats:
      type: object
      properties:
        od1:
          type: object
          properties:
            '1':
              $ref: '#/components/schemas/sports.market_counter'
            '3':
              $ref: '#/components/schemas/sports.market_counter'

    oddin.match:
      type: object
      required:
        - id
        - od_id
        - info_static
        - info_dynamic
        - odds
      properties:
        id:
          type: number
          description: Internal match ID
        od_id:
          type: string
          example: 'od:match:23058545'
          description: Oddin match ID, starts with `od:match`
        info_static:
          type: object
          description: Static match information that should not change
          required:
            - competitor_home
            - competitor_away
            - round
            - tournament
            - sport
            - start_time
            - extra
            - is_featured
            - is_featured_by_market_id
          properties:
            competitor_home:
              $ref: '#/components/schemas/oddin.competitor'
            competitor_away:
              $ref: '#/components/schemas/oddin.competitor'
            round:
              allOf:
                - $ref: '#/components/schemas/oddin.round'
              nullable: true
            tournament:
              allOf:
                - $ref: '#/components/schemas/oddin.tournament'
              nullable: true
            sport:
              $ref: '#/components/schemas/oddin.sport'
            start_time:
              $ref: '#/components/schemas/core.timestamp_millis'
            extra:
              type: object
              required:
                - video
              properties:
                video:
                  type: array
                  items:
                    type: object
                    required:
                      - name
                      - language
                      - stream_url
                    properties:
                      name:
                        type: string
                        enum:
                          - Twitch
                          - Gjirafa
                          - YouTube
                          - Huya
                          - Bilibili
                          - Phenix
                      language:
                        $ref: '#/components/schemas/core.language_code'
                      stream_url:
                        type: string
            is_featured:
              type: boolean
            is_featured_by_market_id:
              type: object
              description: Key is product market ID.
              additionalProperties:
                type: boolean
        info_dynamic:
          $ref: '#/components/schemas/oddin.info_dynamic_api'
        odds:
          $ref: '#/components/schemas/oddin.odds'
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'

    oddin.period_scores_stats:
      type: object
      description: Some extra scores data.
      required:
        - won_rounds
        - kills
        - goals
        - points
      properties:
        won_rounds:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        kills:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        goals:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        points:
          $ref: '#/components/schemas/sports.home_away_count_tuple'

    oddin.period_score_api:
      allOf:
        - $ref: '#/components/schemas/sports.home_away_count_tuple'
        - type: object
          required:
            - competition_status
            - period_number
            - period_type
            - stats
          properties:
            competition_status:
              $ref: '#/components/schemas/oddin.competition_status'
            period_type:
              $ref: '#/components/schemas/oddin.period_score_type'
            period_number:
              type: number
            stats:
              allOf:
                - $ref: '#/components/schemas/oddin.period_scores_stats'
              nullable: true

    oddin.period_score_realtime:
      allOf:
        - $ref: '#/components/schemas/sports.home_away_count_tuple'
        - type: object
          required:
            - competition_status
            - period_number
            - period_type
          properties:
            competition_status:
              $ref: '#/components/schemas/oddin.competition_status_realtime'
            period_type:
              $ref: '#/components/schemas/oddin.period_score_type'
            period_number:
              type: number
            stats:
              allOf:
                - $ref: '#/components/schemas/oddin.period_scores_stats'
              nullable: true

    oddin.period_score_type:
      type: number
      description: |-
        1 - map
        2 - half
        3 - quarter
      enum:
        - 1
        - 2
        - 3

    oddin.player:
      type: object
      description: Player within a competitor of a sport event.
      required:
        - id
        - name
      properties:
        id:
          type: number
          description: Internal ID
        name:
          $ref: '#/components/schemas/core.localized_dict'

    oddin.round:
      type: object
      required:
        - id
        - name
        - logo_url
      properties:
        id:
          type: number
        name:
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
          nullable: true
        logo_url:
          type: string
          nullable: true

    oddin.scoreboard:
      type: object
      properties:
        current_ct_team:
          $ref: '#/components/schemas/sports.home_away'
        current_def_team:
          $ref: '#/components/schemas/sports.home_away'
        current_round:
          type: number
        won_rounds:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        kills:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        goals:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        points:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        gold:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        destroyed_turrets:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        destroyed_towers:
          $ref: '#/components/schemas/sports.home_away_count_tuple'
        time:
          type: number
        game_time:
          type: number
        remaining_game_time:
          type: number

    racing.provider:
      type: string
      enum:
        - pythia

    racing.pythia.sportId:
      type: integer
      enum:
      #@yaml/text-templated-strings
      #@ for sport_id in data.values.pythiaSportIds:
        - #@ int(sport_id)
      #@ end

    racing.pythia.sportIdStr:
      enum:
      #@ for sport_id in data.values.pythiaSportIds:
        - #@ sport_id
      #@ end

    racing.pythia.markets_set:
      type: string
      enum:
        - main
        - empty

    racing.pythia.match_counter_by_sport:
      type: object
      required:
        - by_sport_id
      properties:
        by_sport_id:
          required:
            #@yaml/text-templated-strings
            #@ for sport_id in data.values.pythiaSportIds:
            - "(@= sport_id @)"
            #@ end
          properties:
            #@yaml/text-templated-strings
            #@ for sport_id in data.values.pythiaSportIds:
            (@= sport_id @):
              $ref: '#/components/schemas/sports.match_counter'
            #@ end

    racing.pythia.market_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - group_ids
        - layout
        - sort_index
        - sp
      properties:
        id:
          $ref: '#/components/schemas/racing.pythia.market_type'
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/racing.pythia.name_per_sport'
        group_ids:
          type: array
          items:
            type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sp:
          oneOf:
            - type: array
              items:
                $ref: '#/components/schemas/racing.pythia.specifier_key'
            - type: array
              items:
                $ref: '#/components/schemas/sports.missing_specifiers'
              minItems: 1
              maxItems: 1

    racing.pythia.market_status:
      type: number
      description: |-
        1 - UNKNOWN
        2 - PREMATCH
        3 - LIVE
        4 - SUSPENDED
        5 - FINISHED
        6 - CANCELLED
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5
        - 6

    racing.pythia.name_per_sport:
      type: object
      description: Key is racing.pythia.sport
      nullable: true
      properties:
        #@yaml/text-templated-strings
        #@ for sport_id in data.values.pythiaSportIds:
        (@= sport_id @):
          $ref: '#/components/schemas/core.localized_dict'
        #@ end

    racing.pythia.specifier_key:
      type: string
      enum:
        - runner_foreign_id
        - runner_foreign_id1
        - runner_foreign_id2
        - num_places
        - lower_boundary
        - mid_boundary
        - upper_boundary
        - handicap_line

    racing.pythia.marketgroup_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - sort_index
      properties:
        id:
          $ref: '#/components/schemas/racing.pythia.market_group_type'
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/racing.pythia.name_per_sport'
        sort_index:
          $ref: '#/components/schemas/core.sort_index'

    racing.pythia.outcome_type_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - params
      properties:
        id:
          $ref: '#/components/schemas/racing.pythia.outcome_type'
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/racing.pythia.name_per_sport'
        params:
          type: array
          items:
            type: string
          nullable: true

    racing.pythia.match:
      type: object
      required:
        - id
        - foreign_id
        - info_static
        - info_dynamic
        - odds
        - page_data_id
      properties:
        id:
          type: integer
          description: Internal racing match ID
        foreign_id:
          type: integer
          example: 654745
          description: Pythia foreign racing match ID
        info_static:
          $ref: '#/components/schemas/racing.pythia.match_info_static'
        info_dynamic:
          $ref: '#/components/schemas/racing.pythia.match_info_dynamic'
        odds:
          $ref: '#/components/schemas/racing.pythia.odds'
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'

    racing.pythia.tournament:
      type: object
      required:
        - id
        - name
        - category_id
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
        - background_logo_url
        - start_time
        - page_data_id
      properties:
        id:
          type: number
        name:
          $ref: '#/components/schemas/core.localized_dict'
        category_id:
          type: integer
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/racing.pythia.sportId'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        background_logo_url:
          type: string
          nullable: true
        start_time:
          type: number
          nullable: true
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'

    racing.pythia.category:
      type: object
      required:
        - id
        - name
        - country_code
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
      properties:
        id:
          type: number
        name:
          $ref: '#/components/schemas/core.localized_dict'
        country_code:
          type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          #! TODO: openapi. market ids as enum? it's static data.
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/racing.pythia.sportId'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true

    racing.pythia.sport:
      type: object
      required:
        - id
        - name
      properties:
        id:
          $ref: '#/components/schemas/racing.pythia.sportId'
        name:
          $ref: '#/components/schemas/core.localized_dict'

    racing.pythia.race:
      type: object
      description: Detailed information about race format
      required:
        - title
        - foreign_id
        - order_number
        - runners_number
        - is_handicapped
        - type
        - track_type
        - going
        - distance_metres
        - distance_yards
        - race_class
      properties:
        title:
          type: string
        foreign_id:
          type: integer
        order_number:
          type: integer
          description: The sequential number of the race within a meeting
        order_number_corrected:
          type: integer
          description: The sequential number of the race within a meeting with pythia bugs correction
          deprecated: true
        runners_number:
          type: integer
        is_handicapped:
          type: boolean
        type:
          type: string
          enum:
            - CHASE
            - FLAT
            - HURDLE
            - NATIONAL_HUNT_FLAT
            - TROTTING
            - HARNESS
          nullable: true
        track_type:
          type: string
          enum:
            - ALL_WEATHER
            - DIRT
            - FIBRESAND
            - POLYTRACK
            - SAND
            - TURF
            - VARIOUS
          nullable: true
        going:
          type: string
          description: https://www.horseracingbettingsites.co.uk/articles/the-going/
          nullable: true
        distance_metres:
          type: integer
          nullable: true
        distance_yards:
          type: integer
          nullable: true
        race_class:
          type: string
          nullable: true

    racing.pythia.runner:
      type: object
      description: Represents horse + jockey within a racing match.
      required:
        - id
        - number
        - foreign_id
        - name
        - jockey_name
        - owner_name
        - logo_url
        - rating
        - age
        - form_figures
        - status
        - result
        - weight_pounds
        - colours
        - trainer_name
        - trap_number
        - position
        - withdrawn_time
      properties:
        id:
          type: integer
        number:
          type: integer
          nullable: true
        foreign_id:
          type: integer
        name:
          type: string
          nullable: true
        jockey_name:
          type: string
          nullable: true
        owner_name:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        rating:
          type: integer
          nullable: true
        age:
          type: integer
          nullable: true
        form_figures:
          description: Something like https://insights.matchbook.com/betting-strategy/horse-racing-read-form/
          type: string
          nullable: true
        status:
          type: string
          enum:
          - RUNNER
          - NON_RUNNER
          - WITHDRAWN
          - RESERVE
          - DOUBTFUL
          - VACANT
        result:
          type: object
          description: Result of the runner in the race.
          nullable: true
          required:
            - id
            - description
          properties:
            id:
              type: string
              enum:
                - BROUGHT_DOWN
                - CARRIED_OUT
                - DID_NOT_FINISH
                - FELL
                - HIT_RAILS
                - PULLED_UP
                - RAN_OUT
                - REFUSED
                - REFUSED_TO_RACE
                - SLIPPED_UP
                - UNSEATED_RIDER
            description:
              type: string
              nullable: true
        weight_pounds:
          type: number
          nullable: true
        colours:
          type: string
          nullable: true
        trainer_name:
          type: string
          nullable: true
        trap_number:
          type: integer
          nullable: true
        position:
          type: integer
          nullable: true
        withdrawn_time:
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'
          nullable: true

    racing.pythia.match_info_static:
      type: object
      description: Static race match information that should not change dynamically
      required:
        - race
        - tournament
        - category
        - sport
        - start_time
        - extra
        - is_featured
        - is_featured_by_market_id
      properties:
        race:
          $ref: '#/components/schemas/racing.pythia.race'
        tournament:
          $ref: '#/components/schemas/racing.pythia.tournament'
        category:
          $ref: '#/components/schemas/racing.pythia.category'
        sport:
          $ref: '#/components/schemas/racing.pythia.sport'
        start_time:
          $ref: '#/components/schemas/core.timestamp_millis'
        extra:
          type: object
        is_featured:
          type: boolean
        is_featured_by_market_id:
          type: object
          description: Key is product market ID.
          additionalProperties:
            type: boolean

    racing.pythia.match_info_dynamic:
      type: object
      required:
        - event_status
        - competition_status
        - runners
        - markets_stats
        - video_streaming_meta
        - extra
      properties:
        event_status:
          $ref: '#/components/schemas/racing.pythia.event_status'
        competition_status:
          $ref: '#/components/schemas/racing.pythia.competition_status'
        runners:
          type: object
          description: Each runner represent race participant (horse + jockey or greyhound). Key is runner id.
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.runner'
        markets_stats:
          allOf:
            - $ref: '#/components/schemas/racing.pythia.market_stats'
          nullable: true
        video_streaming_meta:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.video_streaming_meta'
        has_boosted_odds:
          type: boolean
          description: It's not required because of backward compatibility
        extra:
          type: object

    racing.pythia.video_streaming_meta:
      type: object
      description: |-
        High-level info about match video streams.
        Stream is considered as available if both is_available_geo and is_available_general
        are true.
      required:
        - provider
        - is_available_geo
        - is_available_general
      properties:
        provider:
          type: string
          enum:
            - sms
            - rmg
        is_available_geo:
          type: boolean
          description: Whether stream is available for current's request country/region.
        is_available_general:
          type: boolean
          description: Whether stream is available in general (e.g. match has already finished - stream not available)

    racing.pythia.competition_status:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: integer
        name:
          $ref: '#/components/schemas/core.localized_dict'

    racing.pythia.market_stats:
      type: object
      properties:
        py1:
          type: object
          properties:
            '9':
              $ref: '#/components/schemas/sports.market_counter'

    racing.pythia.odds:
      type: object
      required:
        - py1
      properties:
        py1:
          type: object
          description: |-
            "py1" is id of main pythia feedfetcher (for now it's the only one).
            Key is racing producer id.
            9 - racing
          properties:
            '9':
              $ref: '#/components/schemas/racing.pythia.odds_by_market'

    racing.pythia.odds_by_market:
      type: object
      description: Key is market id.
      additionalProperties:
        $ref: '#/components/schemas/racing.pythia.market'

    racing.pythia.event_status:
      type: number
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4
        - 5
      description: |-
        NOT_STARTED = 0
        LIVE = 1
        SUSPENDED = 2
        ENDED = 3
        UNKNOWN = 4
        CANCELLED = 5

    racing.pythia.outcome_status:
      type: number
      description: |-
        0 - inactive
        1 - active
      enum:
        - 0
        - 1

    racing.pythia.outcome_result:
      type: string
      enum:
        - UNSETTLED
        - LOST
        - WON
        - PLACED
        - VOIDED

    racing.pythia.outcome_type:
      type: string
      enum:
        - BETWEEN
        - BLACK
        - EVEN
        - EXCLUDED
        - FAVOURITES
        - FIELD
        - ODD
        - OVER
        - RED
        - RUNNER
        - UNDER
        - UNNAMED_FAVOURITE_1
        - UNNAMED_FAVOURITE_2

    racing.pythia.market_type:
      type: string
      enum:
        - BETTING_WITHOUT
        - BLACK_OR_RED
        - FAVS_FIELD
        - H2H
        - NOT_TO_PLACE
        - NOT_TO_WIN
        - ODD_OR_EVEN
        - OVER_UNDER
        - PLACE
        - WIN_EACH_WAY
        - WINNING_DISTANCE_2W
        - WINNING_DISTANCE_3W

    racing.pythia.market_group_type:
      type: string
      enum:
        - BETTING_WITHOUT
        - BLACK_OR_RED
        - FAVS_FIELD
        - H2H
        - NOT_TO_PLACE
        - NOT_TO_WIN
        - ODD_OR_EVEN
        - OVER_UNDER
        - PLACE
        - WIN_EACH_WAY
        - WINNING_DISTANCE

    racing.pythia.market:
      type: object
      required:
        - id
        - sp
      properties:
        id:
          $ref: '#/components/schemas/racing.pythia.market_type'
        sp:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.market_specifier'

    racing.pythia.market_specifier:
      type: object
      description: Short for "specifiers". Key is specifiers. (defaults to '#/components/schemas/sports.missing_specifiers')
      required:
        - id
        - foreign_id
        - st
        - odds_methods
        - betting_methods
        - extra
      properties:
        id:
          type: string
        foreign_id:
          type: integer
        st:
          $ref: '#/components/schemas/racing.pythia.market_status'
        odds_methods:
          type: object
          required:
            - lp
            - sp
            - bog
          properties:
            lp:
              type: boolean
              description: Short for Live Price, enabling/disabling betting on known odds
            sp:
              type: boolean
              description: Short for Starting Price, enabling/disabling betting on not yet known odds
            bog:
              type: boolean
              description: Short for Best Odds Guarantee, enabling/disabling the guarantee that (when betting on known odds) if SP will be higher than LP then bet will be settled with this higher odds.
        betting_methods:
          type: object
          required:
            - forecast
            - tricast
            - each_way
          properties:
            forecast:
              type: boolean
              description:  Not supported currently. See https://risk.int.pythiarisk.com/integration-docs/risk-integration/bet-types#forecasts-and-tricasts
            tricast:
              type: boolean
              description:  Not supported currently. See https://risk.int.pythiarisk.com/integration-docs/risk-integration/bet-types#forecasts-and-tricasts
            each_way:
              type: boolean
              description: enables/disables Each Way betting for WIN_EACH_WAY market

        out:
          $ref: '#/components/schemas/racing.pythia.market_outcomes'
        extra:
          $ref: '#/components/schemas/racing.pythia.specifiers_extra'

    racing.pythia.market_outcomes:
      type: object
      description: Key is outcome id
      additionalProperties:
        $ref: '#/components/schemas/racing.pythia.outcome'

    racing.pythia.outcome:
      type: object
      required:
        - id
        - foreign_id
        - outcome_type_id
        - o
        - st
        - result
        - result_extra
        - runner_foreign_ids
      properties:
        id:
          type: integer
        foreign_id:
          type: integer
        outcome_type_id:
          $ref: '#/components/schemas/racing.pythia.outcome_type'
        st:
          description: Short for "status"
          oneOf:
            - $ref: '#/components/schemas/racing.pythia.outcome_status'
        o:
          description: Short for "odds". String representation of decimal odds value.
          type: string
          nullable: true
        ob:
          description: |-
            Short for "boosted odds". String representation of decimal boosted odds value.
            It is not required because of backward compatibility.
          type: string
          nullable: true
        result:
          $ref: '#/components/schemas/racing.pythia.outcome_result'
        result_extra:
          allOf:
            - $ref: '#/components/schemas/racing.pythia.outcome_result_extra'
          nullable: true
        runner_foreign_ids:
          type: array
          items:
            type: integer
          description: Outcome is bound to this group of runners (could be just 1 runner) (see runners in `#/components/schemas/racing.pythia.match_info_dynamic`)

    racing.pythia.outcome_result_extra:
      type: object
      required:
        - rule4_deduction
        - win_dead_heat_deduction
        - place_dead_heat_deduction
      properties:
        rule4_deduction:
          type: string
          example: 1/3
          nullable: true
        win_dead_heat_deduction:
          type: string
          example: 1/4
          nullable: true
        place_dead_heat_deduction:
          type: string
          example: 1/52
          nullable: true
        sp_final_odds:
          type: string
          example: "2.5"

    racing.pythia.rmg_video_stream:
      type: object
      required:
        - provider
        - user_id
        - event_foreign_id
        - stream_foreign_id
        - partner_id
        - access_token
      properties:
        provider:
          type: string
          enum:
            - rmg
        user_id:
          type: string
          description: End client id who will be watching the stream
        event_foreign_id:
          type: string
        stream_foreign_id:
          type: string
        partner_id:
          type: string
          description: Our merchant ID
        access_token:
          type: string
          description: Valid for about 60 seconds. Video player should be initialized within this time period.

    racing.pythia.sms_video_stream:
      type: object
      required:
        - provider
        - is_historical
        - stream_type
        - stream_url
        - stream_status
      properties:
        provider:
          type: string
          enum:
            - sms
        is_historical:
          type: boolean
          description: Whether the stream represents finished event
        stream_type:
          type: string
          enum:
            - iframe
            - hls
            - dash
        stream_url:
          type: string
        stream_status:
          type: string
          enum:
            - not_yet_available
            - available
            - finished

    response.racing.pythia.video_stream:
      type: object
      required:
        - stream
      properties:
        stream:
          oneOf:
            - $ref: '#/components/schemas/racing.pythia.sms_video_stream'
            - $ref: '#/components/schemas/racing.pythia.rmg_video_stream'
          nullable: true

    response.racing.pythia.bets_unsettled_counter:
      type: object
      required:
        - count
      properties:
        count:
          type: integer

    request.racing.pythia.bet_place:
      type: object
      required:
        - selections
        - bet_type
        - stake
      properties:
        selections:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet_selection'
        bet_type:
          $ref: '#/components/schemas/racing.pythia.bets.bet_type'
        stake:
          oneOf:
            - $ref: '#/components/schemas/core.money_stake'
            - $ref: '#/components/schemas/core.freebet_stake'

    core.freebet_stake:
      type: object
      required:
        - type
        - reward_id
      properties:
        type:
          type: string
          enum:
            - freebet
        reward_id:
          type: string
          format: uuid

    core.money_stake:
      type: object
      required:
        - type
        - amount
      properties:
        type:
          type: string
          enum:
            - cash
        amount:
          $ref: '#/components/schemas/core.money'

    request.racing.pythia.bets_batch_place:
      type: object
      required:
        - batch
      properties:
        batch:
          type: array
          items:
            $ref: '#/components/schemas/request.racing.pythia.bet_place'
        display_exchange_rates:
          #! For now should be present only for mexican instances and bet currencies other than MXN
          $ref: '#/components/schemas/core.exchange_rates'

    response.racing.pythia.bets_batch_placed:
      type: object
      required:
        - balance_v2
        - bets
      properties:
        balance_v2:
          $ref: '#/components/schemas/user.balance_v2'
        bets:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet'

    response.racing.pythia.bet_placed:
      type: object
      required:
        - balance_v2
        - bet
      properties:
        balance_v2:
          $ref: '#/components/schemas/user.balance_v2'
        bet:
          $ref: '#/components/schemas/racing.pythia.bets.bet'

    response.racing.pythia.bets_info:
      type: object
      required:
        - bets
      properties:
        bets:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet'

    response.racing.pythia.bets_history:
      type: object
      required:
      - items
      - paginator
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet'
        paginator:
          $ref: '#/components/schemas/core.paginator'

    racing.pythia.bets.bet:
      type: object
      required:
        - id
        - provider_id
        - selections
        - odds
        - stake
        - status
        - rm_code
        - result
        - created_at
        - tax_percent
        - odds_boosted_applied
        - type
      properties:
        id:
          type: string
        provider_id:
          type: integer
        selections:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet_placed_selection'
        odds:
          allOf:
            - $ref: '#/components/schemas/core.decimal_value'
          nullable: true
          description: Null in case of bet on SP or forecast/tricast.
        stake:
          type: object
          required:
            - type
            - amount
          properties:
            type:
              type: string
              enum:
                - cash
                - freebet
            amount:
              $ref: '#/components/schemas/core.money'
            reward_id:
              type: string
              format: uuid
              description: Present only in case of freebet
        status:
          type: string
          enum:
            - UNDEFINED
            - ACCEPTED
            - REJECTED
            - FAILED
            - CANCELLED_BY_PROVIDER
            - CANCELLED_MANUALLY
            - SETTLED
        rm_code:
          type: string
        stake_max_limit:
          #! description: In case of rm code STAKE_TOO_HIGH contains the max stake that could be accepted
          $ref: '#/components/schemas/core.money'
        result:
          type: object
          required:
            - primary
          properties:
            primary:
              type: object
              required:
                - payout
                - refund
                - push
              properties:
                payout:
                  $ref: '#/components/schemas/core.money'
                refund:
                  $ref: '#/components/schemas/core.money'
                push:
                  $ref: '#/components/schemas/core.money'
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        tax_percent:
          $ref: '#/components/schemas/core.decimal_value'
        type:
          $ref: '#/components/schemas/racing.pythia.bets.bet_type'
        display_exchange_rates:
          $ref: '#/components/schemas/core.exchange_rates'
        odds_boosted_applied:
          type: boolean
          description: Whether boosted odds were applied for this bet
        odds_not_boosted:
          allOf:
            - $ref: '#/components/schemas/core.decimal_value'
          nullable: true
          description: Original odds before applying boosted odds. Nullable in case it was complex bet where at least one selection had boosted odds and at least one had SP

    racing.pythia.bets.bet_placed_selection:
      type: object
      required:
        - parts
        - type
      properties:
        parts:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet_placed_selection_part'
        type:
          $ref: '#/components/schemas/racing.pythia.bets.selection_type'

    racing.pythia.bets.selection_type:
      type: string
      description: Only WIN is supported for now.
      enum:
        - WIN
        - FORECAST
        - REVERSE_FORECAST
        - COMBINATION_FORECAST
        - TRICAST
        - COMBINATION_TRICAST

    racing.pythia.bets.bet_placed_selection_part:
      type: object
      required:
        - odds
        - odds_method
        - is_each_way
        - event
        - market
        - outcome
        - specifiers
        - specifiers_extra
        - result
        - result_extra
      properties:
        odds:
          allOf:
            - $ref: '#/components/schemas/core.decimal_value'
          nullable: true
        odds_method:
          $ref: '#/components/schemas/racing.pythia.bets.odds_method'
        is_each_way:
          type: boolean
        event:
          type: object
          required:
            - type
            - data
          properties:
            type:
              type: string
              enum:
               - match
            data:
              $ref: '#/components/schemas/racing.pythia.match'
        market:
          $ref: '#/components/schemas/racing.pythia.market_metadata'
        outcome:
          $ref: '#/components/schemas/racing.pythia.bets.bet_placed_outcome'
        specifiers:
          type: string
        specifiers_extra:
          $ref: '#/components/schemas/racing.pythia.specifiers_extra'
        result:
          $ref: '#/components/schemas/racing.pythia.outcome_result'
        result_extra:
          $ref: '#/components/schemas/racing.pythia.outcome_result_extra'

    racing.pythia.specifiers_extra:
      type: object
      properties:
        num_places:
          description: Mandatory only for WIN_EACH_WAY and NOT_TO_PLACE markets.
          type: integer
          example: 2
        deduction:
          type: string
          description: Mandatory only for WIN_EACH_WAY market. The deduction to apply to the "place" part of each way bet
          example: 1/4

    racing.pythia.bets.bet_placed_outcome:
      type: object
      required:
        - id
        - outcome_type
        - runner_foreign_ids
      properties:
        id:
          type: integer
        outcome_type:
          $ref: '#/components/schemas/racing.pythia.outcome_type_metadata'
        runner_foreign_ids:
          type: array
          items:
            type: integer

    racing.pythia.bets.bet_selection:
      type: object
      required:
        - parts
        - selection_type
      properties:
        parts:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.bets.bet_selection_part'
        selection_type:
          $ref: '#/components/schemas/racing.pythia.bets.selection_type'

    racing.pythia.bets.bet_selection_part:
      type: object
      required:
        - event_id
        - producer_id
        - market_id
        - specifiers
        - outcome_id
        - odds
        - odds_method
        - is_each_way
      properties:
        event_id:
          type: integer
        producer_id:
          type: integer
          description: For now it's always 9
        market_id:
          type: string
        specifiers:
          type: string
        outcome_id:
          type: integer
        odds:
          description: Should be null in case of odds_method='SP'
          allOf:
            - $ref: '#/components/schemas/core.decimal_value'
          nullable: true
        odds_method:
          description: |-
            'LP' or 'BOG' or 'BP' for odds like 1.1, 'SP' for odds=null (win each way or forecast/tricast bets)
          allOf:
            - $ref: '#/components/schemas/racing.pythia.bets.odds_method'
          nullable: true
        is_each_way:
          type: boolean
          description: Could be True only for WIN_EACH_WAY market

    racing.pythia.bets.odds_method:
      type: string
      enum:
        - LP
        - SP
        - BOG
        - BP

    racing.pythia.bets.bet_type:
      type: string
      enum:
        - SINGLE
        - DOUBLE
        - TREBLE
        - ACCUMULATOR4
        - ACCUMULATOR5
        - ACCUMULATOR6
        - ACCUMULATOR7
        - ACCUMULATOR8
        - ACCUMULATOR9
        - ACCUMULATOR10
        - ACCUMULATOR11
        - ACCUMULATOR12
        - ACCUMULATOR13
        - ACCUMULATOR14
        - ACCUMULATOR15
        - ACCUMULATOR16
        - ACCUMULATOR17
        - ACCUMULATOR18
        - ACCUMULATOR19
        - ACCUMULATOR20
        - ACCUMULATOR21
        - ACCUMULATOR22
        - ACCUMULATOR23
        - ACCUMULATOR24
        - ACCUMULATOR25
        - TRIXIE
        - YANKEE
        - CANADIAN
        - HEINZ
        - SUPER_HEINZ
        - GOLIATH
        - PATENT
        - LUCKY_15
        - LUCKY_31
        - LUCKY_63

    response.racing.pythia.match:
      title: Pythia racing match response
      description: Contains a racing match along with necessary metadata like markets, outcome types, etc.
      type: object
      required:
        - match
        - markets
        - outcome_types
        - market_groups
      properties:
        match:
          $ref: '#/components/schemas/racing.pythia.match'
        markets:
          type: object
          description: Key is market id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.market_metadata'
        outcome_types:
          type: object
          description: Key is outcome id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.outcome_type_metadata'
        market_groups:
          type: object
          description: Key is group id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.marketgroup_metadata'

    response.racing.pythia.matchlist:
      title: Pythia racing match list response
      description: Contains list of racing matches along with necessary metadata like markets, outcome types, etc.
      type: object
      required:
        - matches
        - markets
        - outcome_types
        - market_groups
      properties:
        matches:
          type: array
          items:
            $ref: '#/components/schemas/racing.pythia.match'
        markets:
          type: object
          description: Key is market id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.market_metadata'
        outcome_types:
          type: object
          description: Key is outcome type id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.outcome_type_metadata'
        market_groups:
          type: object
          description: Key is group id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.marketgroup_metadata'

    response.racing.pythia.matches:
      title: Pythia racing match list response
      description: Contains list of racing matches along with necessary metadata like markets, outcome types, etc.
      type: object
      required:
        - matches
        - markets
        - outcome_types
        - market_groups
      properties:
        matches:
          type: object
          description: Key is pythia match id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.match'
        markets:
          type: object
          description: Key is market id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.market_metadata'
        outcome_types:
          type: object
          description: Key is outcome type id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.outcome_type_metadata'
        market_groups:
          type: object
          description: Key is group id
          additionalProperties:
            $ref: '#/components/schemas/racing.pythia.marketgroup_metadata'

    response.oddin.match:
      title: Oddin match response
      description: Contains a match along with necessary metadata like markets, outcomes, etc.
      type: object
      required:
        - match
        - markets
        - outcomes
        - groups
      properties:
        match:
          $ref: '#/components/schemas/oddin.match'
        markets:
          type: object
          description: Key is market id
          additionalProperties:
            $ref: '#/components/schemas/oddin.market_metadata'
        outcomes:
          type: object
          description: Key is outcome id
          additionalProperties:
            $ref: '#/components/schemas/oddin.outcome_metadata'
        groups:
          type: object
          description: Key is group id
          additionalProperties:
            $ref: '#/components/schemas/oddin.marketgroup_metadata'

    response.oddin.matchlist:
      title: Oddin match list response
      description: Contains list of matches along with necessary metadata like markets, outcomes, etc.
      type: object
      required:
        - matches
        - markets
        - outcomes
        - groups
      properties:
        matches:
          type: array
          items:
            $ref: '#/components/schemas/oddin.match'
        markets:
          type: object
          description: Key is market id
          additionalProperties:
            $ref: '#/components/schemas/oddin.market_metadata'
        outcomes:
          type: object
          description: Key is outcome id
          additionalProperties:
            $ref: '#/components/schemas/oddin.outcome_metadata'
        groups:
          type: object
          description: Key is group id
          additionalProperties:
            $ref: '#/components/schemas/oddin.marketgroup_metadata'

    response.oddin.tournamentlist:
      title: Oddin tournaments list response
      description: Contains list of tournaments along with necessary metadata like sports.
      required:
        - tournaments
        - sports
      properties:
        tournaments:
          type: array
          items:
            $ref: '#/components/schemas/oddin.tournament'
        sports:
          type: object
          description: Key is sport id
          additionalProperties:
            $ref: '#/components/schemas/oddin.sport'

    pinnacle.category:
      type: object
      required:
        - id
        - name
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
        - tags
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        country_code:
          type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          #! TODO: openapi. market ids as enum? it's static data.
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/sports.pinnacle_sportIdInt'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        tags:
          type: array
          deprecated: true
          items:
            type: string

    pinnacle.clock:
      type: object
      required:
        - is_stopped
        - event_time
        - updated_at
      properties:
        is_stopped:
          type: boolean
        event_time:
          type: string
        updated_at:
          $ref: '#/components/schemas/core.timestamp_millis'

    pinnacle.collection:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: string
          description: Internal ID
        name:
          $ref: '#/components/schemas/core.localized_dict'

    pinnacle.competitor:
      type: object
      description: Competitor of a sport event.
      required:
        - id
        - pn_id
        - is_simple
        - logo_url
        - name
      properties:
        id:
          type: number
          description: Internal ID
        pn_id:
          $ref: '#/components/schemas/pinnacle.pnId'
        is_simple:
          type: boolean
          description: Description
        logo_url:
          type: string
          description: Description
          nullable: true
        name:
          $ref: '#/components/schemas/core.localized_dict'

    pinnacle.info_dynamic_base:
      type: object
      required:
        - event_status
        - clock
      properties:
        event_status:
          type: number
          format: bm.sports.pinnacle.EVENT_STATUS
        clock:
          description: |-
            Is clock actually a required field?
            It was in frontend typings for pinnacle.
          allOf:
            - $ref: '#/components/schemas/pinnacle.clock'
          nullable: true
        markets_stats:
          allOf:
            - $ref: '#/components/schemas/pinnacle.market_stats'
          nullable: true
        extra:
          $ref: '#/components/schemas/sports.info_dynamic_extra'
    pinnacle.info_dynamic_api:
      allOf:
        - $ref: '#/components/schemas/pinnacle.info_dynamic_base'
        - type: object
          properties:
            period_scores:
              type: object
              nullable: true
              description: Key is period number
              additionalProperties:
                $ref: '#/components/schemas/pinnacle.period_score'

    pinnacle.market:
      type: object
      required:
        - id
        - sp
      properties:
        id:
          type: string
        sp:
          type: object
          description: Short for "specifiers". Key is specifiers. (defaults to '#/components/schemas/sports.missing_specifiers')
          additionalProperties:
            type: object
            required:
              - st
            properties:
              st:
                $ref: '#/components/schemas/pinnacle.market_status'
              out:
                $ref: '#/components/schemas/pinnacle.market_outcomes'

    pinnacle.market_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - group_ids
        - layout
        - sort_index
        - sp
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/pinnacle.name_per_sport'
        group_ids:
          description: |-
            possible values:
            - favorite|
            - period|${string}
            - marketGroup|${string}
          type: array
          items:
            type: string
        layout:
          allOf:
            - $ref: '#/components/schemas/sports.market_layout_type'
          nullable: true
        sort_index:
          $ref: '#/components/schemas/core.sort_index'

    pinnacle.market_outcomes:
      type: object
      description: Key is outcome id
      additionalProperties:
        $ref: '#/components/schemas/pinnacle.outcome'

    pinnacle.market_stats:
      type: object
      properties:
        pn1:
          type: object
          properties:
            '1':
              $ref: '#/components/schemas/sports.market_counter'
            '3':
              $ref: '#/components/schemas/sports.market_counter'

    pinnacle.market_status:
      type: number
      description: |-
        1 - ACTIVE
        2 - SUSPENDED
        3 - DEACTIVATED
        4 - SETTLED
        5 - CANCELLED
      enum:
        - 1
        - 2
        - 3
        - 4
        - 5

    pinnacle.marketgroup_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
        - sort_index
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/pinnacle.name_per_sport'
        sort_index:
          $ref: '#/components/schemas/core.sort_index'

    pinnacle.markets_set:
      type: string
      enum:
        - main

    pinnacle.match:
      type: object
      required:
        - id
        - pn_id
        - info_static
        - info_dynamic
        - odds
      properties:
        id:
          type: number
          description: Internal match ID
        pn_id:
          $ref: '#/components/schemas/pinnacle.pnId'
        info_static:
          type: object
          description: Static match information that should not change
          required:
            - competitor_home
            - competitor_away
            - round
            - tournament
            - category
            - sport
            - start_time
            - extra
            - is_featured
            - is_featured_by_market_id
          properties:
            competitor_home:
              $ref: '#/components/schemas/pinnacle.competitor'
            competitor_away:
              $ref: '#/components/schemas/pinnacle.competitor'
            round:
              allOf:
                - $ref: '#/components/schemas/pinnacle.round'
              nullable: true
            tournament:
              allOf:
                - $ref: '#/components/schemas/pinnacle.tournament'
              nullable: true
            category:
              allOf:
                - $ref: '#/components/schemas/pinnacle.category'
              nullable: true
            sport:
              $ref: '#/components/schemas/pinnacle.sport'
            start_time:
              $ref: '#/components/schemas/core.timestamp_millis'
            extra:
              type: object
              description: https://github.com/pinnacleapi/ax-documentation/blob/master/MarketStreamAPI.md#fixtureexttype
              required:
                - video_language
                - video_url
              properties:
                best_of_x:
                  type: number
                is_map_tieable:
                  type: boolean
                tie_break_method:
                  type: string
                  enum:
                  - Unknown
                  - ExtraMap
                video_language:
                  type: array
                  description: |-
                    Live feed languages. Matches the order of urls in videoUrl.
                    Language is a lowercase 3-character ISO 639-3 language codes.
                  items:
                    type: string
                  nullable: true
                video_url:
                  type: array
                  items:
                    type: string
                  nullable: true
            is_featured:
              type: boolean
            is_featured_by_market_id:
              type: object
              description: Key is product market ID.
              additionalProperties:
                type: boolean
        info_dynamic:
          $ref: '#/components/schemas/pinnacle.info_dynamic_api'
        odds:
          $ref: '#/components/schemas/pinnacle.odds'
        page_data_id:
          $ref: '#/components/schemas/core.page_data_id'

    pinnacle.match_counter_by_sport:
      type: object
      required:
        - by_sport_id
      properties:
        by_sport_id:
          required:
          #@ for sport_item in data.values.pinnacleSportsData:
            - #@ str(sport_item["id"])
          #@ end
          properties:
          #@yaml/text-templated-strings
          #@ for sport_item in data.values.pinnacleSportsData:
            (@= str(sport_item["id"]) @):
              $ref: '#/components/schemas/sports.match_counter'
          #@ end

    pinnacle.name_per_sport:
      type: object
      description: Key is sportradar.sport
      nullable: true
      properties:
        #@yaml/text-templated-strings
        #@ for sport_item in data.values.pinnacleSportsData:
        (@= str(sport_item["id"]) @):
          $ref: '#/components/schemas/core.localized_dict'
        #@ end

    pinnacle.odds:
      type: object
      required:
        - pn1
      properties:
        pn1:
          type: object
          description: |-
            "pn1" is id of main pinnacle feedfetcher (for now it's the only one).
            Key is pinnacle producer id.
            1 - live
            3 - prematch
          properties:
            '1':
              $ref: '#/components/schemas/pinnacle.odds_by_market'
            '3':
              $ref: '#/components/schemas/pinnacle.odds_by_market'

    pinnacle.odds_by_market:
      type: object
      description: Key is market id.
      additionalProperties:
        $ref: '#/components/schemas/pinnacle.market'

    pinnacle.outcome:
      type: object
      required:
        - id
        - st
        - o
      properties:
        id:
          type: string
        st:
          $ref: '#/components/schemas/pinnacle.outcome_status'
        o:
          type: string
          description: Short for "odds". String representation of decimal odds value.
          nullable: true

    pinnacle.outcome_metadata:
      type: object
      required:
        - id
        - name
        - name_per_sport
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        name_per_sport:
          $ref: '#/components/schemas/pinnacle.name_per_sport'

    pinnacle.outcome_status:
      type: number
      description: |-
        0 - unverified
        1 - active
        2 - suspended
        3 - deactivated
        4 - settled
      enum:
        - 0
        - 1
        - 2
        - 3
        - 4

    pinnacle.period_score_unit:
      type: object
      allOf:
        - $ref: '#/components/schemas/sports.home_away_count_tuple'
        - type: object
          required:
            - id
          properties:
            id:
              type: number
              description: It's Unit['id']

    pinnacle.period:
      type: object
      required:
        - id
        - name
        - pn_id
        - sort_index
      properties:
        id:
          type: string
        name:
          $ref: '#/components/schemas/core.localized_dict'
        pn_id:
          type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'

    pinnacle.period_score:
      type: object
      required:
        - id
        - score_by_units
      properties:
        id:
          type: number
          description: It's Period['id']
        score_by_units:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/pinnacle.period_score_unit'

    pinnacle.player:
      type: object
      description: Player within a competitor of a sport event.
      required:
        - id
        - name
        - pn_id
      properties:
        id:
          type: number
          description: Internal ID
        name:
          $ref: '#/components/schemas/core.localized_dict'
        pn_id:
          type: string

    pinnacle.pnId:
      type: number
      description: Pinnacle ID

    pinnacle.round:
      type: object
      required:
        - id
        - name
      properties:
        id:
          type: number
        name:
          allOf:
            - $ref: '#/components/schemas/core.localized_dict'
          nullable: true

    pinnacle.specifier_key:
      type: string
      enum:
        - pn_competitor
        - pn_period
        - pn_player
        - points

    pinnacle.sport:
      type: object
      required:
        - id
        - name
      properties:
        id:
          $ref: '#/components/schemas/pinnacle.sportIdInt'
        name:
          $ref: '#/components/schemas/core.localized_dict'

    pinnacle.sportIdInt:
      type: integer
      enum:
      #@ for sport_item in data.values.pinnacleSportsData:
        - #@ sport_item["id"]
      #@ end
    pinnacle.sportIdStr:
      enum:
      #@ for sport_item in data.values.pinnacleSportsData:
        - #@ str(sport_item["id"])
      #@ end

    pinnacle.tournament:
      type: object
      required:
        - id
        - name
        - category_id
        - sort_index
        - sort_index_by_market_id
        - is_top
        - is_top_by_market_id
        - sport_id
        - slug
        - logo_url
        - background_logo_url
      properties:
        id:
          type: number
        name:
          $ref: '#/components/schemas/core.localized_dict'
        category_id:
          type: string
        sort_index:
          $ref: '#/components/schemas/core.sort_index'
        sort_index_by_market_id:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/core.sort_index'
        is_top:
          type: boolean
        is_top_by_market_id:
          #! TODO: openapi. market ids as enum? it's static data.
          type: object
          additionalProperties:
            type: boolean
        sport_id:
          $ref: '#/components/schemas/sports.pinnacle_sportIdInt'
        slug:
          type: string
          nullable: true
        logo_url:
          type: string
          nullable: true
        background_logo_url:
          type: string
          nullable: true

    response.pinnacle.tournamentlist:
      title: Pinnacle tournaments list response
      description: Contains list of tournaments along with necessary metadata like categories and sports.
      required:
        - tournaments
        - categories
        - sports
      properties:
        tournaments:
          type: array
          items:
            $ref: '#/components/schemas/pinnacle.tournament'
        categories:
          type: object
          description: Key is category id
          additionalProperties:
            $ref: '#/components/schemas/pinnacle.category'
        sports:
          type: object
          description: Key is sport id
          additionalProperties:
            $ref: '#/components/schemas/pinnacle.sport'

    response.pinnacle.match:
      title: Pinnacle match response
      description: Contains a match along with necessary metadata like markets, outcomes, etc.
      type: object
      required:
        - match
        - markets
        - outcomes
        - groups
      properties:
        match:
          $ref: '#/components/schemas/pinnacle.match'
        markets:
          type: object
          description: Key is market id
        outcomes:
          type: object
          description: Key is outcome id
        groups:
          type: object
          description: Key is group id.
        periods:
          type: object
          description: Key is period id.

    response.pinnacle.matchlist:
      title: Pinnacle match list response
      description: Contains list of matches along with necessary metadata like markets, outcomes, etc.
      type: object
      required:
        - matches
        - markets
        - outcomes
        - groups
        - periods
        - units
      properties:
        matches:
          type: array
          items:
            $ref: '#/components/schemas/pinnacle.match'
        markets:
          type: object
          description: Key is market id
        outcomes:
          type: object
          description: Key is outcome id
        groups:
          type: object
          description: Key is group id
        periods:
          type: object
          description: Key is period id
        units:
          type: object
          description: Key is unit id

    response.pinnacle.category_list:
      title: Pinnacle category list response
      description: Contains list of categories along with necessary data
      type: object
      required:
        - categories
      properties:
        categories:
          type: array
          items:
            $ref: '#/components/schemas/pinnacle.category'

    response.init.a:
      type: object
      required:
        - currency
        - country
        - phone_code
        - brand_id
        - market
        - market_id
        - domain_group_id
        - license_id
        - support_chat_client_id
        - support_chat_config
        - support_chat
        - level
        - country_fallback
        - currencies_allowed
        - redirect_domain
        - country_name_by_ip
        - country_by_ip
        - is_feed_without_firebase_mode
        - countries_enabled
        - golden_race
        - environment_id
        - no_deposit_dummy_promo_campaign_id
        - no_deposit_dummy_promo_campaign_welcome_id
      properties:
        currency:
          description: Currency determined based on request params
          allOf:
            - $ref: '#/components/schemas/core.currency'
        country:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.country'
          description: Country determined based on request params
        phone_code:
          type: integer
          description: Phone code determined based on request params
        brand_id:
          $ref: '#/components/schemas/core.brandId'
        market:
          $ref: '#/components/schemas/core.market'
        market_id:
          $ref: '#/components/schemas/core.marketId'
        domain_group_id:
          description: Domain group id determined based on request params
          allOf:
            - $ref: '#/components/schemas/core.domainGroupId'
        license_id:
          description: License id determined based on request params
          allOf:
            - $ref: '#/components/schemas/core.licenseId'
        level:
          description: User level (regular, previp, vip)
          allOf:
            - $ref: '#/components/schemas/core.user_level'
        support_chat_client_id:
          $ref: '#/components/schemas/support_chat.client_id'
        support_chat_config:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/support_chat.config'
        support_chat:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/support_chat.support_chat_info'
        country_fallback:
          description: Fallback country for current domain group
          allOf:
            - $ref: '#/components/schemas/core.country'
        currencies_allowed:
          type: array
          description: Currencies allowed by payment system rules for current product market
          items:
            $ref: '#/components/schemas/core.currency'
        redirect_domain:
          type: string
          description: Domain for redirect determined by country
          nullable: true
        country_name_by_ip:
          type: string
          nullable: true
          description: Country name determined by IP address
        country_by_ip:
          type: string
          nullable: true
          description: Country code determined by IP address
        region:
          type: string
          nullable: true
          description: Region code determined by IP address
        is_feed_without_firebase_mode:
          type: boolean
          description: |-
            Whether to turn off sportradar/pinnacle feed data write to firebase
            (and use http api polling on frontend instead).
        golden_race:
          description: |-
            The same data as in `user` key but for case where user isn't logged in,
            in this case there's no key `user` in response.
          allOf:
            - $ref: '#/components/schemas/golden_race.info_signed_out'
        environment_id:
          description: Identifies backend environment (development or one of production environments)
          allOf:
            - $ref: '#/components/schemas/core.environmentId'
        no_deposit_dummy_promo_campaign_id:
          type: integer
        no_deposit_dummy_promo_campaign_welcome_id:
          type: integer
        user:
          $ref: '#/components/schemas/user.user'
        canonical_domain:
          type: string
          nullable: true
          description: Canonical domain for current domain group and language
        countries_enabled:
          $ref: '#/components/schemas/auth.countries_enabled_by_auth_action'
        hide_products:
          description: Whether to hide product for anonymous user
          allOf:
            - $ref: '#/components/schemas/response.hide_products'

    response.info.stats_short:
      type: object
      required:
        - deposit_count
        - deposit_sum
        - withdraw_count
        - withdraw_sum
        - profit_casino
        - profit_sport
        - profit_virtual_sport
      properties:
        deposit_count:
          type: integer
        deposit_sum:
          $ref: '#/components/schemas/core.money_amount'
        withdraw_count:
          type: integer
        withdraw_sum:
          $ref: '#/components/schemas/core.money_amount'
        profit_casino:
          $ref: '#/components/schemas/core.money_amount'
        profit_sport:
          $ref: '#/components/schemas/core.money_amount'
        profit_virtual_sport:
          $ref: '#/components/schemas/core.money_amount'

    response.info.stats_full:
      allOf:
        - $ref: '#/components/schemas/response.info.stats_short'
        - type: object
          required:
            - partial_deposit_info
          properties:
            partial_deposit_info:
              type: array
              description: Partial deposit info per payment system
              items:
                type: object
                properties:
                  amount_to_approve:
                    $ref: '#/components/schemas/core.money'
                  has_pending_partial_deposits:
                    type: boolean
                  payment_system:
                    type: string
                    format: bm.models.PAYMENT_SYSTEM

    response.init.app:
      type: object
      required:
        - user
      properties:
        user:
          description: User app object in case user is not anonymous. Null otherwise.
          allOf:
            - $ref: '#/components/schemas/user.user_app'
          nullable: true

    response.user.successful_deposits_payment_systems:
      type: object
      required:
        - payment_systems
      properties:
        payment_systems:
          type: array
          items:
            type: object
            required:
              - system_name
            properties:
              system_name:
                type: string
              subsystem_name:
                type: string

    contacts.contact_type:
      type: string
      enum:
        - email
        - phone
        - account_id
        - estonian_id
        - whatsapp
    contacts.contact:
      type: object
      required:
        - id
        - type
        - contact
        - contact_sha256
        - is_login
        - is_confirmed
        - is_active
        - created_at
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/contacts.contact_type'
        contact:
          type: string
          description: Contact itself - email address, phone number, account_id, etc.
        contact_sha256:
          type: string
        is_login:
          type: boolean
        is_confirmed:
          type: boolean
        is_active:
          type: boolean
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'

    response.responsible_gambling.limit_update.requests_list:
      type: object
      required:
        - requests
      properties:
        requests:
          type: array
          items:
            $ref: '#/components/schemas/responsible_gambling.limit_update.request'

    request.responsible_gambling.limit_update.request_approve:
      type: object
      required:
        - request_id
      properties:
        request_id:
          type: integer

    request.responsible_gambling.limit_update.request_cancel:
      type: object
      required:
        - request_id
      properties:
        request_id:
          type: integer

    #! Could be done via inheritance (allOf) as shown below. Due to bug in
    #! datamodel-codegen with relative imports it's not used. datamodel-codegen
    #! need to be fixed either via PR or fork.
    #!response.responsible_gambling.timeouts.timeout_with_product:
    #!  allOf:
    #!    - $ref: '#/components/schemas/responsible_gambling.timeouts.timeout'
    #!    - type: object
    #!      required:
    #!        - product
    #!      properties:
    #!        product:
    #!          $ref: '#/components/schemas/responsible_gambling.timeouts.product'
    response.responsible_gambling.timeouts.timeout_with_product:
      type: object
      required:
        - product
        - period
        - starts_at
        - ends_at
        - cool_off_ends_at
      properties:
        product:
          $ref: '#/components/schemas/responsible_gambling.timeouts.product'
        period:
          $ref: '#/components/schemas/responsible_gambling.timeouts.period'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        cool_off_ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'

    response.responsible_gambling.timeouts.active:
      type: object
      description: Active timeout per gambling product.
      properties:
        #@yaml/text-templated-strings
        #@ for product in data.values.responsible_gambling.timeouts.products:
        (@= product @):
          $ref: '#/components/schemas/responsible_gambling.timeouts.timeout'
        #@ end

    request.responsible_gambling.timeouts.set:
      type: object
      required:
        - period
        - product
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.timeouts.period'
        product:
          $ref: '#/components/schemas/responsible_gambling.timeouts.product'
    request.responsible_gambling.timeouts.set_period:
      type: object
      required:
        - period
        - product
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.timeouts.period'
        product:
          $ref: '#/components/schemas/responsible_gambling.timeouts.product'
    request.responsible_gambling.timeouts.cancel:
      type: object
      required:
        - product
      properties:
        product:
          $ref: '#/components/schemas/responsible_gambling.timeouts.product'

    request.responsible_gambling.amount_limits.set:
      type: object
      required:
        - amount
        - period
      properties:
        amount:
          $ref: '#/components/schemas/core.money'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.amount_limits.set_amount:
      type: object
      required:
        - amount
        - period
      properties:
        amount:
          $ref: '#/components/schemas/core.money'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.amount_limits.cancel:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.deposit_limits.set:
      type: object
      required:
        - amount
        - period
      properties:
        amount:
          $ref: '#/components/schemas/core.money'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        compliance_message_public_id:
          type: string
          description: The public ID of the compliance message caused the user to set a deposit limit.
          nullable: true
          format: uuid

    request.responsible_gambling.deposit_limits.set_amount:
      type: object
      required:
        - amount
        - period
      properties:
        amount:
          $ref: '#/components/schemas/core.money'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.deposit_limits.cancel:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.activity_limits.set:
      type: object
      required:
        - seconds_limit
        - period
      properties:
        seconds_limit:
          type: integer
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.activity_limits.update:
      type: object
      required:
        - seconds_limit
        - period
      properties:
        seconds_limit:
          type: integer
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    request.responsible_gambling.activity_limits.cancel:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    response.foreigns.landing_by_id:
      type: object
      required:
        - sr_matchlist
        - sr_landing_matches
      properties:
        sr_matchlist:
          $ref: '#/components/schemas/response.sportradar.matchlist'
        sr_landing_matches:
          $ref: '#/components/schemas/foreigns.sportradar.landing_matches'

    user.actionType:
      type: string
      enum:
        #@ for actionType in data.values.actionType:
        - #@ actionType
        #@ end

    user.userActions:
      type: object
      required:
        #@ for type in data.values.actionType:
        - #@ type
        #@ end
      properties:
        #@yaml/text-templated-strings
        #@ for type in data.values.actionType:
        (@= type @):
          type: object
          required:
            - is_allowed
          properties:
            is_allowed:
              type: boolean
            rejection_id:
              $ref: '#/components/schemas/core.actionRejectionId'
        #@ end

    user.user:
      type: object
      description: User object
      required:
        - id
        - name
        - login
        - level
        - is_confirmed
        - email
        - registration_date
        - balance_v2
        - currency
        - currency_current
        - brand_id
        - market
        - market_id
        - domain_group_id
        - license_id
        - notifier
        - language
        - promotion_group_type
        - country
        - has_deposits
        - has_withdrawals
        - is_welcome_bonus_applied
        - phone
        - contacts
        - extra
        - api_auth_token
        - responsible_gambling
        - support_chat_client_id
        - support_chat_config
        - is_bonus_allowed
        - favorites
        - verification_status
        - verification_restriction
        - is_exempted_from_location_limits
        - loyalty_program
        - partner_code
        - is_verified_for_estonian_license
        - is_promo_money_usage_blocked_by_unsettled_bets
        - min_stakes
        - verification_api_version
      properties:
        verification_api_version:
          description: |-
            Version of the verification API:
              old - API for sumsub
              v1 - New API supporting different verification providers
          type: string
          enum:
            - v1
            - old
        sumsub_sow_data:
          description: SOW data related to Sumsub flows handled on the frontend
          type: array
          items:
            $ref: '#/components/schemas/sumsub.sow_flow_data'
        id:
          type: string
        login:
          type: string
        name:
          type: string
          nullable: true
        level:
          $ref: '#/components/schemas/core.user_level'
        email:
          type: string
          description: Null in case user is phone-based.
          deprecated: true
          nullable: true
        is_confirmed:
          type: boolean
          description: Whether at least one of user's contacts is confirmed
        phone:
          type: string
          description: Null in case user is email-based.
          deprecated: true
          nullable: true
        api_auth_token:
          type: string
          description: JWT token for user
        api_auth_token_promo_action:
          type: string
          description: JWT token for promo action
        registration_date:
          $ref: '#/components/schemas/core.timestamp_millis'
        brand_id:
          $ref: '#/components/schemas/core.brandId'
        market:
          $ref: '#/components/schemas/core.market'
        market_id:
          $ref: '#/components/schemas/core.marketId'
        domain_group_id:
          $ref: '#/components/schemas/core.domainGroupId'
        language:
          $ref: '#/components/schemas/core.language_code'
        promotion_group_type:
          $ref: '#/components/schemas/promotion.group_type'
        currency:
          description: User currency determined at signup
          allOf:
            - $ref: '#/components/schemas/core.currency'
        currency_current:
          description: Currently active currency selected by user, either base or one of the alternatives
          allOf:
            - $ref: '#/components/schemas/core.currency'
        balance_v2:
          $ref: '#/components/schemas/user.balance_v2'
        country:
          description: User country determined at signup
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.country'
        has_deposits:
          type: boolean
        has_withdrawals:
          type: boolean
        is_promo_money_usage_blocked_by_unsettled_sport_bets:
          deprecated: true
          type: boolean
        is_promo_money_usage_blocked_by_unsettled_bets:
          type: boolean
        betting_block_promo_money_public_reward_id:
          type: string
          format: uuid
          nullable: true
        is_welcome_bonus_applied:
          type: boolean
        is_bonus_allowed:
          type: boolean
        welcome_promocode:
          type: string
          nullable: true
        support_chat_client_id:
          $ref: '#/components/schemas/support_chat.client_id'
        support_chat_config:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/support_chat.config'
        verification_status:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/user.verification_status'
        verification_restriction:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/user.verification_restriction'
        last_login_datetime:
          $ref: '#/components/schemas/core.timestamp_millis'
        previous_login_datetime:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'
        responsible_gambling:
          $ref: '#/components/schemas/responsible_gambling.user_settings.user_settings'
        favorites:
          $ref: '#/components/schemas/favorites.user_settings'
        notifier:
          type: object
          required:
            - auth_token
            - shard
          properties:
            auth_token:
              type: string
              format: password
            shard:
              type: integer
        contacts:
          type: array
          items:
            $ref: '#/components/schemas/contacts.contact'
        extra:
          type: object
          required:
            - vp
          properties:
            vp:
              type: boolean
              description: Whether user is VIP
            golden_race:
              anyOf:
              - $ref: '#/components/schemas/golden_race.info_signed_in'
              - $ref: '#/components/schemas/golden_race.info_signed_out'
              type: object
        verification_pop_up:
          type: object
          required:
            - show
            - is_mandatory
          properties:
            show:
              type: boolean
            is_mandatory:
              type: boolean
            actions:
              $ref: '#/components/schemas/user.userActions'
        actions:
          $ref: '#/components/schemas/user.userActions'
        is_exempted_from_location_limits:
          type: boolean
        loyalty_program:
          $ref: '#/components/schemas/response.loyalty_program.program_status'
        partner_code:
          type: string
          nullable: true
        is_verified_for_estonian_license:
          type: boolean
          deprecated: true
        min_stakes:
          description: Minimum stakes in current currency by product.
          type: object
          required:
            - sports
            - casino
          properties:
            sports:
              $ref: '#/components/schemas/core.money_amount'
            casino:
              $ref: '#/components/schemas/core.money_amount'
        hide_products:
          description: Whether to hide product for user
          allOf:
          - $ref: '#/components/schemas/response.hide_products'
        is_personal_data_collecting_finished:
          type: boolean
          description: Whether personal data is collected
          deprecated: true
        is_personal_data_collecting_required:
          type: boolean
          description: Whether personal data collecting popup is required to be shown
          deprecated: true
        personal_data_collecting_type:
          type: string
          deprecated: true
          enum:
            - betmaster_mx
            - betmaster_pe
            - betmaster_mz
            - cw_email
            - cw_phone
            - uk_email
        stats:
            $ref: '#/components/schemas/response.info.stats_short'
        product_group:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/response.user.product_group'
        self_excluded_for_license:
          type:
            object
          properties:
            uk:
              type: boolean
        is_registration_completed:
          type: boolean
        incomplete_questionnaire_public_ids:
          type: array
          items:
            type: string
            format: uuid
        registration_step:
          type: string
          enum:
            - account_created
            - additional_registration_data_collected
            - subscription_confirmed
        pkcs_challenges:
          #! RSA-Signature challenge (only RSA is supported for now) is generated after first signin from mobile platform and
          #! can be used later for further signins via Face ID / Touch ID if user opts to
          #! use this feature in mobile app.
          #! Frontend code should push this `pkcs_challenges` structure to native part of the application.

          #! In a sense this reuse of challenges_requested structure is not very good from the
          #! naming point of view since backend have not requested anything from the client, it
          #! just provides challenges for future use. But since the structure is the same
          #! it's worth to reuse it.
          $ref: '#/components/schemas/challenges.challenges_requested'
        license_id:
          description: License id determined based on request params
          allOf:
            - $ref: '#/components/schemas/core.licenseId'
        has_compliance_messages:
          type: boolean
        verification:
          $ref: '#/components/schemas/user.current_verification_flow'

    user.user_app:
      type: object
      description: User object for native app
      required:
        - id
        - market
        - contacts
        - api_auth_token
      properties:
        id:
          type: string
        market:
          $ref: '#/components/schemas/core.market'
        contacts:
          type: array
          items:
            $ref: '#/components/schemas/contacts.contact'
        api_auth_token:
          type: string
          description: JWT token for user
        pkcs_challenges:
          #! RSA-Signature challenge (only RSA is supported for now) is generated after first signin from mobile platform and
          #! can be used later for further signins via Face ID / Touch ID if user opts to
          #! use this feature in mobile app.
          #! Frontend code should push this `pkcs_challenges` structure to native part of the application.

          #! In a sense this reuse of challenges_requested structure is not very good from the
          #! naming point of view since backend have not requested anything from the client, it
          #! just provides challenges for future use. But since the structure is the same
          #! it's worth to reuse it.
          $ref: '#/components/schemas/challenges.challenges_requested'

    casino.game_type:
      type: string
      enum:
        #@ for type in data.values.casino_game_type:
        - #@ type
        #@ end

    casino.provider_type:
      type: string
      enum:
        #@ for type in data.values.casino_provider_type:
        - #@ type
        #@ end

    casino.game_short:
      type: object
      required:
        - categories
        - collections
        - game_type
        - id
        - slug
        - is_mobile_only
        - is_mobile_supported
        - providers
        - tags
      properties:
        id:
          type: integer
          description: Internal game id
        slug:
          type: string
        is_mobile_supported:
          type: boolean
        is_mobile_only:
          type: boolean
        is_promo_money_usage_available:
          type: boolean
        is_play_with_active_promo_wallet_available:
          type: boolean
        game_type:
          $ref: '#/components/schemas/casino.game_type'
        categories:
          type: array
          description: List of casino category ids.
          items:
            type: integer
        tags:
          type: array
          description: List of casino tag ids.
          items:
            type: integer
        collections:
          type: array
          description: List of casino collection ids.
          items:
            type: integer
        providers:
          type: array
          description: List of casino provider ids.
          items:
            type: integer

    casino.game:
      allOf:
        - $ref: '#/components/schemas/casino.game_short'
        - type: object
          required:
            - uuid
            - foreign_id
            - slug
            - system
            - is_demo_supported
            - is_portrait_view_supported
            - is_available_for_anonymous_user
            - is_private
            - is_featured
            - name
            - priority
            - thumbnail_url
            - background_url
            - logo_url
            - bet_limits
          properties:
            uuid:
              type: string
              format: uuid
            system:
              $ref: '#/components/schemas/casino.provider_type'
            foreign_id:
              type: string
              deprecated: true
              description: Foreign (provider's) game id. Should move all usages our internal casino game ID.
            is_demo_supported:
              type: boolean
            is_portrait_view_supported:
              type: boolean
            is_available_for_anonymous_user:
              type: boolean
            has_vertical_scroll:
              type: boolean
            is_promo_money_usage_available:
              type: boolean
            is_play_with_active_promo_wallet_available:
              type: boolean
            is_net_position_notification_enabled:
              type: boolean
            is_featured:
              type: boolean
            is_private:
              type: boolean
              description: |-
                If private game should be available only by direct link (and hidden in UI
                from catalog grid, search results, etc). By default all games are public.
            name:
              $ref: '#/components/schemas/core.localized_dict'
            slug:
              type: string
            priority:
              type: integer
              nullable: true
              format: bm.BAD_FIELD_DO_NOT_USE_ON_FRONTEND
              description: used only by backend to perform results sorting.
            thumbnail_url:
              type: string
            background_url:
              type: string
              nullable: true
            logo_url:
              type: string
              nullable: true
            bet_limits:
              type: object
              nullable: true

    casino.provider:
      type: object
      required:
        - id
        - slug
        - title
        - priority
        - square_thumbnail_urls_by_theme
        - full_size_thumbnail_urls_by_theme
      properties:
        id:
          type: integer
        slug:
          type: string
        title:
          $ref: '#/components/schemas/core.localized_dict'
        priority:
          type: integer
          nullable: true
          format: bm.BAD_FIELD_DO_NOT_USE_ON_FRONTEND
          description: used only by backend to perform results sorting.
        square_thumbnail_urls_by_theme:
          type: object
          required:
            - dark
            - light
          properties:
            dark:
              type: string
            light:
              type: string
        full_size_thumbnail_urls_by_theme:
          type: object
          required:
            - dark
            - light
          properties:
            dark:
              type: string
            light:
              type: string

    casino.collection:
      required:
        - id
        - slug
        - title
        - icon_url
        - extra
      properties:
        id:
          type: integer
        slug:
          type: string
        title:
          $ref: '#/components/schemas/core.localized_dict'
        icon_url:
          type: string
        background_url:
          type: string
        extra:
          type: object
          required:
            - colors
            - pictures
          properties:
            colors:
              type: object
              required:
                - accentColor
                - gradientFrom
                - gradientTo
              properties:
                accentColor:
                  type: string
                gradientFrom:
                  type: string
                gradientTo:
                  type: string
            pictures:
              type: object
              required:
                - bg
              properties:
                bg:
                  type: string
            rotator_priority_by_market:
              type: object
              additionalProperties:
                $ref: '#/components/schemas/core.sort_index_non_nullable'

    casino.category:
      required:
        - id
        - slug
        - title
        - icon_url
      properties:
        id:
          type: integer
        slug:
          type: string
        title:
          $ref: '#/components/schemas/core.localized_dict'
        icon_url:
          type: string
        extra:
          type: object

    casino.tag:
      required:
        - id
        - slug
        - title
        - color_text
        - color_background
      properties:
        id:
          type: integer
        slug:
          type: string
        title:
          $ref: '#/components/schemas/core.localized_dict'
        color_text:
          type: string
        color_background:
          type: string

    casino.last_opened_session:
      type: object
      required:
        - id
        - foreign_id
        - provider_type
        - received
        - is_demo
        - is_promo_money_play
        - url
        - session_token
      properties:
        id:
          type: integer
        system:
          type: string
        foreign_id:
          type: string
        url:
          type: string
        received:
          type: integer
        is_demo:
          type: boolean
        is_promo_money_play:
          type: boolean
        session_token:
          type: string

    casino.last_opened_session_response:
      type: object
      properties:
        game_data:
          $ref: '#/components/schemas/casino.last_opened_session'

    casino.games_selection:
      deprecated: true
      description: >-
        Should be gradually replaced with `casino.games_short_selection` for all cases except catalog.v3
      type: object
      required:
        - categories
        - collections
        - tags
        - providers
        - games
      properties:
        categories:
          type: array
          items:
            $ref: '#/components/schemas/casino.category'
        collections:
          type: array
          items:
            $ref: '#/components/schemas/casino.collection'
        tags:
          type: array
          items:
            $ref: '#/components/schemas/casino.tag'
        providers:
          type: array
          items:
            $ref: '#/components/schemas/casino.provider'
        games:
          type: array
          items:
            $ref: '#/components/schemas/casino.game'

    casino.games_short_selection:
      type: object
      required:
        - categories
        - collections
        - tags
        - providers
      properties:
        categories:
          type: array
          items:
            $ref: '#/components/schemas/casino.category'
        collections:
          type: array
          items:
            $ref: '#/components/schemas/casino.collection'
        tags:
          type: array
          items:
            $ref: '#/components/schemas/casino.tag'
        providers:
          type: array
          items:
            $ref: '#/components/schemas/casino.provider'
        games:
          type: array
          items:
            $ref: '#/components/schemas/casino.game_short'

    casino.games_full_by_id:
      type: object
      required:
        - games
      properties:
        games:
          type: object
          description: Key is game id
          additionalProperties:
            $ref: '#/components/schemas/casino.game'

    casino.pragmaticplay_bingo.mini_games:
      type: object
      required:
        - games
      properties:
        games:
          type: array
          items:
            $ref: '#/components/schemas/casino.game'


    golden_race.info_signed_in:
      type: object
      required:
        - id
        - onlineHash
        - onlineHashUpdatedAt
        - host
        - hwid
      properties:
        id:
          type: integer
        onlineHash:
          type: string
          nullable: true
        onlineHashUpdatedAt:
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'
          nullable: true
        host:
          type: string
        hwid:
          type: string

    golden_race.info_signed_out:
      type: object
      required:
        - id
        - onlineHash
        - onlineHashUpdatedAt
        - host
        - hwid
      properties:
        id:
          description: |-
            For anonymous users or users who never played GR this attr is always null.
          type: integer
          nullable: true
        onlineHash:
          description: >-
            Can't be a string, always null.
            How to enforce this via OpenAPI?
          type: string
          nullable: true
        onlineHashUpdatedAt:
          description: >-
            Always null.
          type: integer
          nullable: true
        host:
          type: string
        hwid:
          type: string

    user.balance_v2:
      type: object
      required:
        - primary
        - promo
        - promo_sport
        - promo_casino
        - promo_casino_live
        - promo_bingo
        - secondary
      properties:
        primary:
          $ref: '#/components/schemas/user.balance_v2_type'
        promo_sport:
          $ref: '#/components/schemas/user.balance_v2_type'
        promo_casino:
          $ref: '#/components/schemas/user.balance_v2_type'
        promo_casino_live:
          $ref: '#/components/schemas/user.balance_v2_type'
        promo_bingo:
          $ref: '#/components/schemas/user.balance_v2_type'
        secondary:
          $ref: '#/components/schemas/user.balance_v2_type'
        rewind_new:
          type: object
          description: Null in case user does not participate in this loyalty program
          allOf:
            - $ref: '#/components/schemas/user.balance_v2_type'
          nullable: true
      example:
        primary:
          RUB:
            RUB: '123.00'
            XBT_PN6: '0.00001'
        promo:
          RUB:
            RUB: '0.00'
            XBT_PN6: '0.00'
        promo_sport:
          RUB:
            RUB: '0.00'
            XBT_PN6: '0.00'
        promo_casino:
          RUB:
            RUB: '0.00'
            XBT_PN6: '0.00'
        promo_casino_live:
          RUB:
            RUB: '0.00'
            XBT_PN6: '0.00'
        promo_bingo:
          RUB:
            RUB: '0.00'
            XBT_PN6: '0.00'
        secondary:
          XBT_PN6:
            RUB: '0.00'
            XBT_PN6: '0.00'
          ETH_PN4:
            RUB: '0.00'
            XBT_PN6: '0.00'
            ETH_PN4: '0.00'

    user.balance_v2_type:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for currency in data.values.currencies:
          #@ if currency["is_natively_supported"] == True:
          (@= currency["name"] @):
            $ref: '#/components/schemas/user.balance_v2_per_currency'
          #@ end
        #@ end
    user.balance_v2_per_currency:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for currency in data.values.currencies:
          #@ if currency["is_natively_supported"] == True:
          (@= currency["name"] @):
            $ref: '#/components/schemas/core.money_amount'
          #@ end
        #@ end
    user.contact:
      type: object
      required:
        - id
        - type
        - contact
        - is_confirmed
        - is_login
        - is_active
        - created_at
      properties:
        id:
          type: string
          format: uuid
        type:
          $ref: '#/components/schemas/contacts.contact_type'
        contact:
          type: string
          description: Contact itself - email address, phone number or account_id
        is_confirmed:
          type: boolean
        is_login:
          type: boolean
          description: Whether this contact represents user login
        is_active:
          type: boolean
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
    user.verification_status:
      type: string
      enum:
        - verification_required
        - docs_requested
        - docs_received
        - on_verification
        - docs_re_requested
        - verification_completed
        - verification_failed
    user.verification_restriction:
      type: string
      enum:
        - none
        - withdrawals_limited
        - bets_limited
        - actions_limited
    user.current_verification_flow:
      type: object
      required:
        - active_flow_step
        - active_flow_status
        - active_flow_name
        - active_flow_type
        - active_flow_provider
      properties:
        active_flow_provider:
          type: string
          enum:
            - sumsub
        active_flow_step:
          type: string
          enum:
            - initiated
            - in_progress
            - finished
        active_flow_status:
          type: string
          enum:
            - green
            - red
            - unknown
        active_flow_name:
          type: string
        active_flow_type:
          type: string
          enum:
            - aml
            - kyc
            - cards_pop
            - rg_confirmation
            - sow
            - other

    support_chat.config:
      deprecated: true
      type: object
      required:
        - website_id
        - user_email
      properties:
        website_id:
          type: string
        ticket_center_key:
          type: string
        user_email:
          type: string
          nullable: true
    support_chat.client_id:
      deprecated: true
      description: Type of support chat system (crisp, intercom, etc).
      type: string
      enum:
        - crisp
        - ignore

    support_chat.crisp_config:
      type: object
      required:
        - website_id
        - provider
      properties:
        provider:
          type: string
          enum:
            - crisp
        website_id:
          type: string
        user_email:
          type: string
          nullable: true
          description: Null if user is anonymous
        ticket_center_key:
          type: string
          nullable: true

    support_chat.intercom_config:
      type: object
      required:
        - app_id
        - provider
      properties:
        provider:
          type: string
          enum:
            - intercom
        app_id:
          type: string
        user_hash:
          type: string
          nullable: true
          description: Null if user is anonymous

    support_chat.support_chat_info:
      oneOf:
        - $ref: '#/components/schemas/support_chat.crisp_config'
        - $ref: '#/components/schemas/support_chat.intercom_config'

    search.product:
      type: string
      enum:
        - SPORTS
        - CASINO

    search.entity:
      type: string
      enum:
        - SPORTS_MATCH
        - SPORTS_TOURNAMENT
        - CASINO_GAME

    search.filter:
      type: object
      description: All fields are optional. `products`` and `entities` are self excluding.
      properties:
        products:
          type: array
          items:
            $ref: '#/components/schemas/search.product'
        entities:
          type: array
          items:
            $ref: '#/components/schemas/search.entity'
        sports_sport_ids:
          type: array
          items:
            $ref: '#/components/schemas/sports.sport_id_with_provider'
        sports_category_ids:
          type: array
          items:
            $ref: '#/components/schemas/sports.category_id_with_provider'
        sports_providers:
          type: array
          items:
            $ref: '#/components/schemas/sports.provider'
        casino_category_ids:
          type: array
          items:
            type: integer
        casino_collection_ids:
          type: array
          items:
            type: integer
        casino_provider_ids:
          type: array
          items:
            type: integer

    search.sports_match_result_by_provider:
      type: object
      required:
        - sr
        - pn
        - od
        - py
      properties:
        sr:
          $ref: '#/components/schemas/response.sportradar.matchlist'
        pn:
          $ref: '#/components/schemas/response.pinnacle.matchlist'
        od:
          $ref: '#/components/schemas/response.oddin.matchlist'
        py:
          $ref: '#/components/schemas/response.racing.pythia.matchlist'

    search.sports_tournament_result_by_provider:
      type: object
      required:
        - sr
        - pn
        - od
      properties:
        sr:
          $ref: '#/components/schemas/response.sportradar.tournamentlist'
        pn:
          $ref: '#/components/schemas/response.pinnacle.tournamentlist'
        od:
          $ref: '#/components/schemas/response.oddin.tournamentlist'

    search.result_by_entity:
      type: object
      required:
        - SPORTS_MATCH
        - SPORTS_TOURNAMENT
        - CASINO_GAME
        - RACING_MATCH
      properties:
        SPORTS_MATCH:
          $ref: '#/components/schemas/search.sports_match_result_by_provider'
        SPORTS_TOURNAMENT:
          $ref: '#/components/schemas/search.sports_tournament_result_by_provider'
        CASINO_GAME:
          $ref: '#/components/schemas/casino.games_selection'
        RACING_MATCH:
          $ref: '#/components/schemas/search.racing_match_result_by_provider'

    search.racing_match_result_by_provider:
      type: object
      required:
        - py
      properties:
        py:
          $ref: '#/components/schemas/response.racing.pythia.search_result'

    response.racing.pythia.search_result:
      allOf:
        - $ref: '#/components/schemas/response.racing.pythia.matchlist'
        - $ref: '#/components/schemas/response.racing.pythia.search_result_extension'

    response.racing.pythia.search_result_extension:
      type: object
      required:
        - hit_type_by_match_id
      properties:
        hit_type_by_match_id:
          type: object
          description: Key is match id
          additionalProperties:
            $ref: '#/components/schemas/racing.search_hit_type'

    racing.search_hit_type:
      type: object
      description: For each found match specifies the type of hit
      required:
        - tournament
        - runner_ids
      properties:
        tournament:
          description: Whether match was found by tournament name
          type: boolean
        runner_ids:
          description: Whether match was found by runner(s) name. Null means it was not found by runner names
          type: array
          items:
            type: integer
          nullable: true

    request.search.search_request:
      type: object
      required:
        - query
        - filter
        - market
      properties:
        query:
          description: User search query
          type: string
          minLength: 2
          maxLength: 100
        filter:
          $ref: '#/components/schemas/search.filter'
        market:
          $ref: '#/components/schemas/core.market'

    response.search.search_result:
      type: object
      required:
        - result_by_entity
        - query
        - filter
      properties:
        result_by_entity:
          $ref: '#/components/schemas/search.result_by_entity'
        query:
          type: string
          description: User original search query (for debug purposes)
        filter:
          $ref: '#/components/schemas/search.filter'
          #! User original search filter (for debug purposes)

    response.search.meta:
      type: object
      required:
        - search_products
        - search_entities
        - sports_sports
        - sports_categories
        - sports_providers
        - casino_categories
        - casino_collections
        - casino_providers
      properties:
        search_products:
          type: array
          items:
            $ref: '#/components/schemas/search.product'
        search_entities:
          type: array
          items:
            $ref: '#/components/schemas/search.entity'
        sports_sports:
          type: array
          items:
            $ref: '#/components/schemas/sports.sport'
        sports_categories:
          type: array
          items:
            $ref: '#/components/schemas/sports.category'
        sports_providers:
          type: array
          items:
            $ref: '#/components/schemas/sports.provider'
        casino_categories:
          type: array
          items:
            $ref: '#/components/schemas/casino.category'
        casino_collections:
          type: array
          items:
            $ref: '#/components/schemas/casino.collection'
        casino_providers:
          type: array
          items:
            $ref: '#/components/schemas/casino.provider'

    payment.payment_systems_info:
      type: object
      required:
        - context
        - data
      properties:
        context:
          $ref: '#/components/schemas/payment.payment_systems_info_context'
        data:
          $ref: '#/components/schemas/payment.payment_systems_info_data'

    response.payment.fees.coin_network:
      type: object
      properties:
        fee_in_currency:
          type: object
          additionalProperties:
            type: object
            required:
              - amount
              - currency
            properties:
              amount:
                $ref: '#/components/schemas/core.decimal_value'
              currency:
                type: string
        received_ts:
          type: integer

    payment.payment_systems_info_context:
      type: object
      required:
        - domain_group_request
        - domain_group
        - market
        - currency
      properties:
        domain_group_request:
          type: string
        domain_group:
          type: string
        market:
          type: string
        currency:
          $ref: '#/components/schemas/core.currency'

    payment.payment_systems_info_data:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for currency in data.values.currencies:
          #@ if currency["is_natively_supported"] == True:
          (@= currency["name"] @):
            $ref: '#/components/schemas/payment.payment_system_data_for_currency'
          #@ end
        #@ end

    payment.payment_system_data_for_currency:
      type: object
      required:
        - currency
        - payment_systems
      properties:
        currency:
          $ref: '#/components/schemas/core.currency'
        payment_systems:
          type: object
          description: Key is payment system
          additionalProperties:
            $ref: '#/components/schemas/payment.payment_system_data'

    payment.payment_system_data:
      required:
        - payment_system
        - deposit_enabled
        - withdraw_enabled
        - recommended
        - available_for_market
        - verification_completed
        - topup_bonus_percent
        - minimum_deposit_for_topup_bonus
        - crypto_methods
        - limits
        - sort_index
        - hidden
      properties:
        payment_system:
          type: string
        hidden:
          type: boolean
        deposit_enabled:
          type: boolean
        withdraw_enabled:
          type: boolean
        recommended:
          type: boolean
        available_for_market:
          type: boolean
        verification_completed:
          type: boolean
        topup_bonus_percent:
          allOf:
            - $ref: '#/components/schemas/core.decimal_value'
          nullable: true
        minimum_deposit_for_topup_bonus:
          allOf:
            - $ref: '#/components/schemas/core.decimal_value'
          nullable: true
        crypto_methods:
          type: object
          nullable: true
          description: |-
            Filled in only for cryptocurrencies payment system, null otherwise.
            Specifies which crypto methods (currencies) are available in the current context.
          properties:
            #@yaml/text-templated-strings
            #@ for currency in data.values.currencies:
              #@ if currency["crypto"] == True and currency["is_natively_supported"] == True:
              (@= currency["name"] @):
                $ref: '#/components/schemas/payment.payment_system_crypto_method'
              #@ end
            #@ end
        limits:
          $ref:  '#/components/schemas/payment.payment_system_limits'
        sort_index:
          type: integer
        allowed_user_levels:
          type: array
          items:
            $ref: '#/components/schemas/core.user_level'
          nullable: true
          description: |-
            List of user levels allowed to use this payment system.
            If empty or not specified, the payment system is available to all levels.
        allowed_user_licenses:
          type: array
          items:
            type: string
          nullable: true
          description: List of allowed user licenses. If omitted, considered allowed for all.

    payment.payment_system_crypto_method:
      type: object
      required:
        - method
        - available_for_market
      properties:
        method:
          $ref: '#/components/schemas/core.currency_crypto'
        available_for_market:
          type: boolean

    payment.payment_system_limits:
      type: object
      required:
        - deposit_default
        - deposit_min
        - deposit_max
        - withdraw_min
        - withdraw_max
        - withdraw_max_daily
        - withdraw_max_weekly
        - withdraw_max_monthly
      properties:
        deposit_default:
          $ref: '#/components/schemas/core.money'
        deposit_min:
          $ref: '#/components/schemas/core.money'
        deposit_max:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.money'
        withdraw_min:
          $ref: '#/components/schemas/core.money'
        withdraw_max:
          $ref: '#/components/schemas/core.money'
        withdraw_max_daily:
          $ref: '#/components/schemas/core.money'
        withdraw_max_weekly:
          $ref: '#/components/schemas/core.money'
        withdraw_max_monthly:
          $ref: '#/components/schemas/core.money'

    crypto_address.address:
      required:
        - id
        - name
        - address
        - address_currency
        - is_confirmed
        - created_at
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          nullable: true
        address:
          type: string
          description: Public crypto address
        address_currency:
          $ref: '#/components/schemas/core.crypto_address_currency'
        is_confirmed:
          type: boolean
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'

    request.auth.crypto_address.create:
      type: object
      required:
        - address
        - address_currency
      properties:
        address:
          type: string
          maxLength: 100
          description: Public crypto address
        address_currency:
          $ref: '#/components/schemas/core.crypto_address_currency'
        name:
          type: string
          nullable: true

    response.auth.crypto_address.address_with_challenges:
      type: object
      required:
        - crypto_address
        - challenges_requested
      properties:
        crypto_address:
          $ref: '#/components/schemas/crypto_address.address'
        challenges_requested:
          $ref: '#/components/schemas/challenges.challenges_requested'

    response.auth.crypto_address.addresses_list:
      type: object
      required:
        - crypto_addresses
      properties:
        crypto_addresses:
          type: array
          items:
            $ref: '#/components/schemas/crypto_address.address'

    responsible_gambling.limit_update.request:
      type: object
      required:
        - request_id
        - type
        - payload
        - is_approved
        - ready_to_approve_after
      properties:
        request_id:
          type: integer
        type:
          type: string
          enum:
            #@ for name in data.values.responsibleGamblingUpdateLimitRequestType:
            - #@ name
            #@ end
        payload:
          oneOf:
            - $ref: '#/components/schemas/responsible_gambling.limit_update.deposit_limit_update_request_payload'
            - $ref: '#/components/schemas/responsible_gambling.limit_update.deposit_limit_cancel_request_payload'
            - $ref: '#/components/schemas/responsible_gambling.limit_update.activity_limit_update_request_payload'
            - $ref: '#/components/schemas/responsible_gambling.limit_update.activity_limit_cancel_request_payload'
            - $ref: '#/components/schemas/responsible_gambling.limit_update.wager_limit_update_request_payload'
            - $ref: '#/components/schemas/responsible_gambling.limit_update.wager_limit_cancel_request_payload'
        is_approved:
          type: boolean
        ready_to_approve_after:
          $ref: '#/components/schemas/core.timestamp_millis'

    responsible_gambling.limit_update.deposit_limit_update_request_payload:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        amount:
          $ref: '#/components/schemas/core.money'

    responsible_gambling.limit_update.deposit_limit_cancel_request_payload:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    responsible_gambling.limit_update.activity_limit_update_request_payload:
      type: object
      required:
        - period
        - seconds_limit
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        seconds_limit:
          type: integer

    responsible_gambling.limit_update.activity_limit_cancel_request_payload:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    responsible_gambling.limit_update.wager_limit_update_request_payload:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        amount:
          $ref: '#/components/schemas/core.money'

    responsible_gambling.limit_update.wager_limit_cancel_request_payload:
      type: object
      required:
        - period
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.period'

    responsible_gambling.timeouts.period:
      type: string
      enum:
        - 12h
        - 24h
        - 48h
        - 7d
        - 6w
        - 30d
        - 90d
        - 180d
        - 365d
    responsible_gambling.timeouts.product:
      type: string
      enum:
        #@ for product in data.values.responsible_gambling.timeouts.products:
        - #@ product
        #@ end
    responsible_gambling.timeouts.timeout:
      type: object
      required:
        - period
        - starts_at
        - ends_at
        - cool_off_ends_at
      properties:
        period:
          $ref: '#/components/schemas/responsible_gambling.timeouts.period'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        cool_off_ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
    responsible_gambling.timeouts.timeouts:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for product in data.values.responsible_gambling.timeouts.products:
        (@= product @):
          $ref: '#/components/schemas/responsible_gambling.timeouts.timeout'
        #@ end

    responsible_gambling.deposit_limits.deposit_limit:
      required:
        - amount
        - currency
        - period
        - starts_at
        - ends_at
        - cool_off_ends_at
        - is_exhausted
        - amount_spent
      properties:
        amount:
          $ref: '#/components/schemas/core.money_amount'
        currency:
          #! TODO why is this string?
          type: string
        amount_spent:
          $ref: '#/components/schemas/core.money_amount'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        cool_off_ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        is_exhausted:
          type: boolean
    responsible_gambling.deposit_limits.deposit_limits:
      properties:
        #@yaml/text-templated-strings
        #@ for period in data.values.responsible_gambling.periods:
        (@= period @):
          $ref: '#/components/schemas/responsible_gambling.deposit_limits.deposit_limit'
        #@ end

    responsible_gambling.loss_limit.loss_limit:
      type: object
      required:
        - id
        - amount
        - period
        - starts_at
        - ends_at
        - amount_change_request
        - cancellation_request
        - spent
      properties:
        id:
          type: string
        amount:
          $ref: '#/components/schemas/core.money_amount'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        amount_change_request:
          type: object
          nullable: true
          required:
            - new_amount
            - requested_at
          properties:
            new_amount:
              $ref: '#/components/schemas/core.money_amount'
            requested_at:
              $ref: '#/components/schemas/core.timestamp_seconds'
        cancellation_request:
          type: object
          nullable: true
          required:
            - requested_at
          properties:
            requested_at:
              $ref: '#/components/schemas/core.timestamp_seconds'
        spent:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.money_amount'

    responsible_gambling.reality_check.interval:
      type: string
      enum:
        - 60m
        - 90m
        - 120m
    responsible_gambling.reality_check.reality_check:
      type: object
      properties:
        interval:
          $ref: '#/components/schemas/responsible_gambling.reality_check.interval'
        session:
          type: object
          required:
            - starts_at
            - ends_at
          properties:
            starts_at:
              $ref: '#/components/schemas/core.timestamp_seconds'
            ends_at:
              $ref: '#/components/schemas/core.timestamp_seconds'
            bets_amount_sum:
              $ref: '#/components/schemas/core.money_amount'
            total_ggr:
              $ref: '#/components/schemas/core.money_amount'
            currency:
              type: string

    responsible_gambling.period:
      type: string
      enum:
        #@ for period in data.values.responsible_gambling.periods:
        - #@ period
        #@ end

    responsible_gambling.amount_limits:
      required:
        - amount
        - currency
        - period
        - starts_at
        - ends_at
        - cool_off_ends_at
        - is_exhausted
        - amount_spent
      properties:
        amount:
          $ref: '#/components/schemas/core.money_amount'
        currency:
          #! TODO why is this string?
          type: string
        amount_spent:
          $ref: '#/components/schemas/core.money_amount'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        cool_off_ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        is_exhausted:
          type: boolean

    response.responsible_gambling.amount_limits:
      properties:
        #@yaml/text-templated-strings
        #@ for period in data.values.responsible_gambling.periods:
        (@= period @):
          $ref: '#/components/schemas/responsible_gambling.amount_limits'
        #@ end

    response.responsible_gambling.activity_limits.activity_limit:
      required:
        - seconds_limit
        - seconds_spent
        - seconds_spent_at
        - period
        - starts_at
        - ends_at
        - cool_off_ends_at
        - is_exhausted
      properties:
        seconds_limit:
          type: integer
        seconds_spent:
          type: integer
        seconds_spent_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        period:
          $ref: '#/components/schemas/responsible_gambling.period'
        starts_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        cool_off_ends_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        is_exhausted:
          type: boolean

    response.responsible_gambling.activity_limits.activity_limits:
      properties:
        #@yaml/text-templated-strings
        #@ for period in data.values.responsible_gambling.periods:
        (@= period @):
          $ref: '#/components/schemas/response.responsible_gambling.activity_limits.activity_limit'
        #@ end

    responsible_gambling.user_settings.user_settings:
      type: object
      required:
        - timeouts
        - reality_check
        - loss_limits
      properties:
        timeouts:
          $ref: '#/components/schemas/responsible_gambling.timeouts.timeouts'
        reality_check:
          $ref: '#/components/schemas/responsible_gambling.reality_check.reality_check'
        loss_limits:
          type: array
          items:
            $ref: '#/components/schemas/responsible_gambling.loss_limit.loss_limit'
        deposit_limits:
          $ref: '#/components/schemas/responsible_gambling.deposit_limits.deposit_limits'
        system_deposit_limits:
          $ref: '#/components/schemas/response.responsible_gambling.amount_limits'
        activity_limits:
          $ref: '#/components/schemas/response.responsible_gambling.activity_limits.activity_limits'
        wager_limits:
          $ref: '#/components/schemas/response.responsible_gambling.amount_limits'

    response.compliance-message.unresolved-message-list:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/compliance_message.compliance_message'

    compliance_message.compliance_message:
      type: object
      required:
        - public_id
        - is_read
        - type
        - is_resolvable
        - output
        - previous_message_resolved_at
      properties:
        public_id:
          type: string
          format: uuid
        type:
          type: string
          enum:
            - uk_continuous_play_flow.reality_check_on_180_min
            - uk_continuous_play_flow.reality_check_on_210_min
            - uk_continuous_play_flow.reality_check_on_240_min
            - expired_self_exclusion_flow.notify_about_expired_self_exclusion
            - deposit_sum_flow_to_make_deposit_limit.deposit_sum_500_in_24_hours
            - deposit_sum_flow_to_make_deposit_limit.deposit_sum_1500_in_24_hours
            - deposit_sum_flow_to_make_deposit_limit.deposit_sum_2000_in_24_hours
            - deposit_sum_flow_to_make_deposit_limit.deposit_sum_2200_in_24_hours
            - deposit_count_flow_to_make_deposit_limit.deposit_count_5_in_24_hours
            - deposit_count_flow_to_make_deposit_limit.deposit_count_10_and_sum_1500_in_24_hours
            - deposit_count_flow_to_make_deposit_limit.deposit_count_15_in_24_hours
            - net_loss_flow_to_make_deposit_limit.net_loss_1000_in_24_hours
            - net_loss_flow_to_make_deposit_limit.net_loss_1500_in_24_hours
            - net_loss_flow_to_make_deposit_limit.net_loss_2000_in_24_hours
            - transactions_review_reminder_flow.remind_to_review_transactions
            - loss_complaint_flow_low_score.questionnaire_submitted_low_score
            - loss_complaint_flow_high_score.questionnaire_submitted_high_score
        output:
          type: array
          items:
            type: string
            enum:
              - popup
              - live_chat
        is_read:
          type: boolean
        is_resolvable:
          type: boolean
        is_appealable:
          type: boolean
        has_appeal:
          type: boolean
        previous_message_resolved_at:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'

    rewards.offline_reward:
      type: object
      required:
        - uuid
        - applied
        - applied_at
      properties:
        uuid:
          type: string
          format: uuid
        applied:
          type: boolean
        applied_at:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'

    rewards.reward:
      type: object
      required:
        - campaign_id
        - public_reward_id
        - reward_type
        - created_at
        - accepted
        - accepted_at
        - applied
        - applied_at
        - expired
        - expires_at
        - title
        - just_accepted_text
        - accepted_text
        - applied_text
        - freebet_data
        - freespin_data
        - casino_freebet_data
        - cashback_data
        - promo_money_data
        - promo_to_real_money_data
      properties:
        campaign_id:
          type: integer
          nullable: true
        public_reward_id:
          type: string
          format: uuid
        reward_type:
          type: string
          enum:
            - FREEBET
            - CASINO_FREEBET
            - FREESPIN
            - CASHBACK
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        accepted:
          type: boolean
        accepted_at:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'
        applied:
          type: boolean
        applied_at:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/core.timestamp_millis'
        expired:
          type: boolean
        expires_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        title:
          type: string
        just_accepted_text:
          type: string
        accepted_text:
          type: string
        applied_text:
          type: string
        freebet_data:
          type: object
          nullable: true
          required:
            - amount
            - sport_ids
            - tournament_ids
            - match_ids
            - min_odds
            - max_odds
            - bet_type
            - producer_type
            - uof_sport_ids
            - uof_matches
          properties:
            amount:
              $ref: '#/components/schemas/core.money_amount'
            sport_ids:
              nullable: true
              type: array
              items:
                type: string
            tournament_ids:
              nullable: true
              type: array
              items:
                type: string
            match_ids:
              nullable: true
              type: array
              items:
                type: string
            min_odds:
              nullable: true
              allOf:
                - $ref: '#/components/schemas/core.decimal_value'
            max_odds:
              nullable: true
              allOf:
                - $ref: '#/components/schemas/core.decimal_value'
            bet_type:
              type: string
              enum:
                - SINGLE
                - EXPRESS
            producer_type:
              nullable: true
              type: string
            uof_sport_ids:
              nullable: true
              type: array
              items:
                type: string
            uof_matches:
              nullable: true
              type: array
              items:
                type: object
        freespin_data:
          type: object
          nullable: true
          required:
            - currency
            - casino_provider
            - quantity
            - quantity_used
            - game_name
            - game_foreign_system_id
            - game_uuid
          properties:
            currency:
              type: string
              nullable: true
            casino_provider:
              type: string
            quantity:
              type: integer
            quantity_used:
              type: integer
            game_name:
              type: string
            game_id:
              type: integer
            game_foreign_system_id:
              type: string
            game_uuid:
              type: string
        casino_freebet_data:
          type: object
          nullable: true
          required:
            - casino_provider
            - game_name
            - game_id
            - game_uuid
          properties:
            casino_provider:
              type: string
            game_name:
              type: string
            game_id:
              type: integer
            game_uuid:
              type: string
        cashback_data:
          type: object
          nullable: true
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/core.money_amount'
        promo_money_data:
          type: object
          nullable: true
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/core.money_amount'
        promo_to_real_money_data:
          type: object
          nullable: true
          required:
            - amount
          properties:
            amount:
              $ref: '#/components/schemas/core.money_amount'

    favorites.favorite_type:
      type: string
      enum:
        #@ for type in data.values.favorites.types:
        - #@ type
        #@ end
    favorites.favorite_casino_game:
      oneOf:
        #! Its super important that the least strict shape is always the last one.
        #! Code, generated for python, will try these models in declared order, and
        #! the first that matches wins.
        - $ref: '#/components/schemas/favorites.favorite_casino_game_obsolete'
        - $ref: '#/components/schemas/favorites.favorite_casino_game_new'
    favorites.favorite_casino_game_new:
      type: object
      required:
        - id
      properties:
        id:
          type: integer
    favorites.favorite_casino_game_obsolete:
      type: object
      required:
        - id
        - system
      properties:
        id:
          anyOf:
            - type: integer
            - type: string
        system:
          type: string
    favorites.favorite_sport:
      oneOf:
        - $ref: '#/components/schemas/favorites.favorite_sport_sportradar'
        - $ref: '#/components/schemas/favorites.favorite_sport_pinnacle'
        - $ref: '#/components/schemas/favorites.favorite_sport_oddin'
    favorites.favorite_sport_sportradar:
      type: object
      required:
        - sport_id
        - provider
      properties:
        sport_id:
          $ref: '#/components/schemas/sportradar.sportId'
        provider:
          $ref: '#/components/schemas/sports.provider_sr'
    favorites.favorite_sport_pinnacle:
      type: object
      required:
        - sport_id
        - provider
      properties:
        sport_id:
          $ref: '#/components/schemas/pinnacle.sportIdInt'
        provider:
          $ref: '#/components/schemas/sports.provider_pn'
    favorites.favorite_sport_oddin:
      type: object
      required:
        - sport_id
        - provider
      properties:
        sport_id:
          $ref: '#/components/schemas/oddin.sportId'
        provider:
          $ref: '#/components/schemas/sports.provider_od'
    favorites.favorite_sport_market:
      oneOf:
      - $ref: '#/components/schemas/favorites.favorite_sport_market_sportradar'
      - $ref: '#/components/schemas/favorites.favorite_sport_market_pinnacle'
      - $ref: '#/components/schemas/favorites.favorite_sport_market_oddin'
    favorites.favorite_sport_market_sportradar:
      type: object
      required:
        - sport_id
        - provider
        - market_id
      properties:
        sport_id:
          $ref: '#/components/schemas/sportradar.sportId'
        provider:
          $ref: '#/components/schemas/sports.provider_sr'
        market_id:
          type: string
    favorites.favorite_sport_market_pinnacle:
      type: object
      required:
        - sport_id
        - provider
        - market_id
      properties:
        sport_id:
          $ref: '#/components/schemas/pinnacle.sportIdInt'
        provider:
          $ref: '#/components/schemas/sports.provider_pn'
        market_id:
          type: string
    favorites.favorite_sport_market_oddin:
      type: object
      required:
        - sport_id
        - provider
        - market_id
      properties:
        sport_id:
          $ref: '#/components/schemas/oddin.sportId'
        provider:
          $ref: '#/components/schemas/sports.provider_od'
        market_id:
          type: string
    favorites.favorite_match:
      oneOf:
      - $ref: '#/components/schemas/favorites.favorite_match_sportradar'
      - $ref: '#/components/schemas/favorites.favorite_match_pinnacle'
      - $ref: '#/components/schemas/favorites.favorite_match_oddin'
    favorites.favorite_match_sportradar:
      type: object
      required:
        - provider
        - match_id
      properties:
        provider:
          $ref: '#/components/schemas/sports.provider_sr'
        match_id:
          type: integer
    favorites.favorite_match_pinnacle:
      type: object
      required:
        - provider
        - match_id
      properties:
        provider:
          $ref: '#/components/schemas/sports.provider_pn'
        match_id:
          type: integer
    favorites.favorite_match_oddin:
      type: object
      required:
        - provider
        - match_id
      properties:
        provider:
          $ref: '#/components/schemas/sports.provider_od'
        match_id:
          type: integer

    favorites.user_settings:
      type: object
      required:
        #@ for type in data.values.favorites.types:
        - #@ type
        #@ end
      properties:
        casino_game:
          $ref: '#/components/schemas/favorites.casino_game'
        sport:
          $ref: '#/components/schemas/favorites.sport'
        sport_market:
          $ref: '#/components/schemas/favorites.sport_market'
        match:
          $ref: '#/components/schemas/favorites.match'


    #! Due to the bug in datamodel-codegen in some cases __init__.py file is
    #! not generated in request/auth folder. this hack makes sure it is
    #! generated.
    request.auth.email.py__init__placeholder:
      type: object
    response.auth.email.py__init__placeholder:
      type: object

    response.casino.auth.py__init__placeholder:
      type: object

    casino.winners_live_stream.item:
      type: object
      required:
        - win
        - user
        - game
      properties:
        win:
          type: object
          required:
            - amount
            - currency
          properties:
            amount:
              $ref: '#/components/schemas/core.money_amount'
            currency:
              $ref: '#/components/schemas/core.currency'
        user:
          type: object
          required:
            - obfuscated_login
          properties:
            obfuscated_login:
              type: string
        game:
          $ref: '#/components/schemas/casino.game'

    response.casino.winners_live_stream.winners_live_stream_v2:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/casino.winners_live_stream.item'

    response.challenges.pkcs.public_key:
      type: object
      required:
        - public_key
      properties:
        public_key:
          $ref: '#/components/schemas/challenges.pkcs.public_key'

    response.challenges.skid.auth.initiated_session:
      type: object
      required:
        - code
        - verificator_type
      properties:
        code:
          type: string
          description: Session code to show in UI
        verificator_type:
          $ref: '#/components/schemas/challenges.skid.verificator_type'

    response.challenges.skid.auth.session_status:
      type: object
      required:
        - status
      properties:
        status:
          $ref: '#/components/schemas/challenges.skid.verification_status'
        error_code:
          $ref: '#/components/schemas/challenges.skid.verification_error_code'

    request.challenges.pkcs.register_public_key:
      type: object
      required:
        - key_type
        - key_material_base64
      properties:
        key_type:
          type: string
          enum:
            - RSA
        key_material_base64:
          type: string

    request.challenges.totp.create_device:
      type: object
      required:
        - name
      properties:
        name:
          type: string
          nullable: true

    response.challenges.totp.device_with_challenges:
      type: object
      required:
        - device
        - challenges_requested
      properties:
        device:
          $ref: '#/components/schemas/challenges.totp.device'
        challenges_requested:
          $ref: '#/components/schemas/challenges.challenges_requested'

    response.challenges.totp.confirmed_devices:
      type: object
      required:
        - devices
      properties:
        devices:
          type: array
          items:
            $ref: '#/components/schemas/challenges.totp.device'

    request.challenges.totp.update_device:
      type: object
      description: all fields are optional, only specified fields will be updated
      properties:
        name:
          type: string
        is_active:
          type: boolean

    response.challenges.challenges_required_error.error:
      allOf:
        - $ref: '#/components/schemas/core._http_error_base'
        - type: object
          required:
            - code
            - reason_data
          properties:
            code:
              type: integer
              enum:
                - 4001
              description: internal error code
            reason_data:
              type: object
              required:
                - challenges_requested
              properties:
                challenges_requested:
                  $ref: '#/components/schemas/challenges.challenges_requested'

    response.challenges.challenges_incorrect_answers_error.error:
      allOf:
        - $ref: '#/components/schemas/core._http_error_base'
        - type: object
          required:
            - code
          properties:
            code:
              type: integer
              enum:
                - 4002
              description: |-
                Challenges answers are invalid.
                Request could be repeated with new answers.

    response.challenges.challenges_are_invalid_error.error:
      allOf:
        - $ref: '#/components/schemas/core._http_error_base'
        - type: object
          required:
            - code
          properties:
            code:
              type: integer
              enum:
                - 4003
              description: |-
                Challenges themselves are invalid - expires, attempts exhausted,
                invalid challenges token, etc.
                Request with the same challenges token should not be repeated.
                New challenges should be requested.

    request.auth.contacts.create:
      type: object
      required:
        - type
        - contact
      properties:
        type:
          $ref: '#/components/schemas/contacts.contact_type'
        contact:
          type: string

    response.auth.contacts.contacts_list:
      type: object
      required:
        - contacts
      properties:
        contacts:
          type: array
          items:
            $ref: '#/components/schemas/contacts.contact'

    response.auth.contacts.contact_with_challenges:
      type: object
      required:
        - contact
        - challenges_requested
      properties:
        contact:
          $ref: '#/components/schemas/contacts.contact'
        challenges_requested:
          $ref: '#/components/schemas/challenges.challenges_requested'

    request.auth.contacts.update:
      type: object
      required:
        - is_active
      properties:
        is_active:
          type: boolean

    request.auth.billing_addresses.create_and_deactivate:
      type: object
      required:
        - billing_address
        - payment_system
      properties:
        billing_address:
          $ref: '#/components/schemas/request.auth.billing_addresses.billing_address'
        payment_system:
          type: string
        based_on_id:
          type: string
          format: uuid
          description: |-
            Billing addresses are immutable. Editing the old one means creation of the
            new one with deactivation of the previous one.
            Since frontend always knows what particular instance is being edited it should
            fill in this field based on old_instance.id (see id property in response.auth.billing_address component).
            The only validation on backend is that this id is owned by the same user.

    request.auth.billing_addresses.billing_address:
      type: object
      required:
        - first_name
        - last_name
        - country
        - city
        - postcode
        - address
        - email
        - phone
      properties:
        first_name:
          type: string
          maxLength: 64
        last_name:
          type: string
          maxLength: 64
        country:
          type: string
          maxLength: 64
        state:
          type: string
          maxLength: 64
          description: state, province, region, etc
        city:
          type: string
          maxLength: 64
        postcode:
          type: string
          maxLength: 32
        address:
          type: string
          maxLength: 256
        email:
          type: string
          format: email
        phone:
          type: string
          minLength: 7
          maxLength: 16
        sex:
          $ref: '#/components/schemas/core.sex'
        date_of_birth:
          type: string
          description: format

    request.auth.billing_address._update:
      type: object
      required:
        - first_name
        - last_name
        - country
        - city
        - postcode
        - address
        - email
        - phone
      properties:
        first_name:
          type: string
          maxLength: 64
        last_name:
          type: string
          maxLength: 64
        country:
          type: string
          maxLength: 64
        state:
          type: string
          maxLength: 64
          description: state, province, region, etc
        city:
          type: string
          maxLength: 64
        postcode:
          type: string
          maxLength: 32
        address:
          type: string
          maxLength: 256
        email:
          type: string
          #! format: email
        phone:
          type: string
          minLength: 7
          maxLength: 16
        sex:
          $ref: '#/components/schemas/core.sex'
        date_of_birth:
          type: string

    response.auth.billing_addresses:
      type: array
      items:
        $ref: '#/components/schemas/response.auth.billing_address'

    response.auth.billing_addresses_v3:
      type: object
      required:
        - billing_addresses
        - require_new
        - payment_system
      properties:
        billing_addresses:
          type: array
          items:
            $ref: '#/components/schemas/response.auth.billing_address'
        require_new:
          type: boolean
        payment_system:
          type: string

    response.auth.billing_address_suggestions:
      type: object
      required:
        - first_name
        - last_name
        - country
        - city
        - postcode
        - address
        - email
        - phone
        - sex
        - date_of_birth
      properties:
        first_name:
          type: string
          nullable: true
        last_name:
          type: string
          nullable: true
        country:
          type: string
          nullable: true
        city:
          type: string
          nullable: true
        postcode:
          type: string
          nullable: true
        address:
          type: string
          nullable: true
        email:
          type: string
          nullable: true
        phone:
          type: string
          nullable: true
        sex:
          allOf:
            - $ref: '#/components/schemas/core.sex'
          nullable: true
        date_of_birth:
          type: string
          nullable: true

    response.auth.billing_address:
      type: object
      required:
        - id
        - first_name
        - last_name
        - country
        - city
        - postcode
        - address
        - email
        - phone
        - created_at
        - sex
        - state
        - date_of_birth
      properties:
        id:
          type: string
          #! format: uuid
        first_name:
          type: string
          maxLength: 64
        last_name:
          type: string
          maxLength: 64
        country:
          type: string
          maxLength: 64
        city:
          type: string
          maxLength: 64
        postcode:
          type: string
          maxLength: 32
        address:
          type: string
          maxLength: 256
        email:
          type: string
        phone:
          type: string
        created_at:
          $ref: '#/components/schemas/core.timestamp_seconds'
        state:
          type: string
          maxLength: 64
          nullable: true
          description: state, province, region, etc
        sex:
          allOf:
            - $ref: '#/components/schemas/core.sex'
          nullable: true
        date_of_birth:
          type: string
          nullable: true

    auth.marketing_param:
      type: string
      nullable: true

    auth.marketing:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for m in data.values.marketing_param:
        (@= m @):
          $ref: '#/components/schemas/auth.marketing_param'
        #@ end

    auth.device_id_ios:
      type: object
      properties:
        ios_ifv:
          type: string
          maxLength: 50
        ios_ifa:
          type: string
          maxLength: 50
        yametrica_client_id:
          type: string
          maxLength: 50
      additionalProperties: false
    auth.device_id_android:
      type: object
      properties:
        android_id:
          type: string
          maxLength: 50
        google_aid:
          type: string
          maxLength: 50
        yametrica_client_id:
          type: string
          maxLength: 50
      additionalProperties: false
    auth.device_id:
      anyOf:
        - $ref: '#/components/schemas/auth.device_id_ios'
        - $ref: '#/components/schemas/auth.device_id_android'

    auth.promotion_code:
      type: string
      maxLength: 200

    auth.oauth.flow:
      type: object
      required:
        - id
        - status
        - auth_url
      properties:
        id:
          type: string
        status:
          type: string
          enum:
            - awaiting_redirect
            - code_processing
            - awaiting_registration
            - completed
            - error
        auth_url:
          type: string
          description: Redirect user to this url to start OAuth flow. Not null only if status is "awaiting_redirect".
          nullable: true

    promotion.group_type:
      type: string
      enum:
        #@ for group_type in data.values.promotion.group_types:
        - #@ group_type
        #@ end
    subscription.channel:
      type: string
      enum:
        - email
        - sms
        - phone
        - push
    subscription.subscription_product:
      type: string
      enum:
        - sport
        - casino
        - bingo
    auth.countries_enabled_by_auth_type:
      type: object
      required:
        - email
        - phone
      properties:
        email:
          type: array
          items:
            $ref: '#/components/schemas/core.country'
        phone:
          type: array
          items:
            $ref: '#/components/schemas/core.country'

    auth.countries_enabled_by_auth_action:
      type: object
      required:
        - signup
        - signin
      properties:
        signup:
          $ref: '#/components/schemas/auth.countries_enabled_by_auth_type'
        signin:
          $ref: '#/components/schemas/auth.countries_enabled_by_auth_type'

    auth.nickname:
      type: string
      minLength: 1
      maxLength: 100

    auth.responsible_gambling.deposit_limit:
      type: object
      required:
        - amount
      properties:
        amount:
          $ref: '#/components/schemas/core.money'

    auth.responsible_gambling.deposit_limits:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for period in data.values.responsible_gambling.periods:
        (@= period @):
          $ref: '#/components/schemas/auth.responsible_gambling.deposit_limit'
        #@ end

    request.loyalty_program.switch:
      type: object
      required:
        - program_type
      properties:
        program_type:
          $ref: '#/components/schemas/core.loyalty_program_type'

    request.loyalty_program.cancel_switch:
      type: object
      required:
        - program_type
      properties:
        program_type:
          $ref: '#/components/schemas/core.loyalty_program_type'

    response.loyalty_program.program_status:
      type: object
      required:
        - current_program_type
        - current_program_active_period_from
      properties:
        current_program_type:
          $ref: '#/components/schemas/core.loyalty_program_type'
        current_program_active_period_from:
          $ref: '#/components/schemas/core.timestamp_millis'
        current_program_active_period_to:
          $ref: '#/components/schemas/core.timestamp_millis'
        next_program_type:
          $ref: '#/components/schemas/core.loyalty_program_type'
        next_program_active_period_from:
          $ref: '#/components/schemas/core.timestamp_millis'
        next_program_active_period_to:
          $ref: '#/components/schemas/core.timestamp_millis'

    request.auth.register._default:
      type: object
      required:
        - currency
      properties:
        is_multistep_registration:
          type: boolean
          description: Should become required field soon
        currency:
          $ref: '#/components/schemas/core.currency'
        country:
          type: string
          maxLength: 64
        language:
          $ref: '#/components/schemas/core.language_code'
        g-recaptcha-response:
          type: string  #! TODO: g-recaptcha-response should be required
        marketing:
          $ref: '#/components/schemas/auth.marketing'
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        promotion_code:
          $ref: '#/components/schemas/auth.promotion_code'
        referral_code:
          type: string
          maxLength: 100
        referral_code_v2:
          type: string
          maxLength: 500
        ma_token:
          type: string
          maxLength: 500
          format: password
        promotion_group_type:
          $ref: '#/components/schemas/promotion.group_type'
        partner_code:
          type: string
        agreed_to_subscribe:
          type: boolean
          default: true
        nickname:
          $ref: '#/components/schemas/auth.nickname'
        responsible_gambling:
          type: object
          properties:
            deposit_limits:
              $ref: '#/components/schemas/auth.responsible_gambling.deposit_limits'

    request.auth.register_v2.account_id:
      allOf:
        - $ref: '#/components/schemas/request.auth.register._default'
        - type: object
          properties:
            email:
              type: string
              description: Optional email (if user first tried to register with email it can be passed here)
              #! format: email
            phone:
              type: string
              description: Optional phone (if user first tried to register with phone it can be passed here)
            country:
              type: string
              maxLength: 64
            market:
              type: string
            personal_data_v2:
              $ref: '#/components/schemas/auth.personal_data.personal_data_v2'

    auth.personal_data.betmaster_peru_full:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_pe_full
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_pe_base'
        - type: object
          required:
            - region
            - state
            - district
            - address
            - is_not_pep
          properties:
            region:
              description: Region of Peru, ISO 3166-2.
              type: string
              maxLength: 64
            state:
              type: string
              maxLength: 64
            district:
              type: string
              maxLength: 64
            address:
              type: string
              maxLength: 256
            is_not_pep:
              type: boolean
      additionalProperties: false

    auth.personal_data.betmaster_peru_additional:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_pe_additional
        - type: object
          required:
            - region
            - state
            - district
            - address
            - is_not_pep
            - shape_id
          properties:
            region:
              description: Region of Peru, ISO 3166-2.
              type: string
              maxLength: 64
            state:
              type: string
              maxLength: 64
            district:
              type: string
              maxLength: 64
            address:
              type: string
              maxLength: 256
            is_not_pep:
              type: boolean
      additionalProperties: false

    auth.personal_data.betmaster_co_full:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_co_full
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - type: object
          required:
            - sex
            - first_name
            - last_name
            - region
            - city
            - address
            - post_code
          properties:
            sex:
              $ref: '#/components/schemas/core.sex'
            first_name:
              type: string
              maxLength: 64
            middle_name:
              type: string
              maxLength: 64
            last_name:
              description: First surname
              type: string
              maxLength: 64
            second_last_name:
              description: Second surname
              type: string
              maxLength: 64
            region:
              description: Department of residence, ISO 3166-2.
              type: string
              maxLength: 64
            city:
              description: Municipality of residence
              type: string
              maxLength: 64
            address:
              description: Residential address
              type: string
              maxLength: 256
            post_code:
              type: string
              maxLength: 32
      additionalProperties: false

    auth.personal_data.betmaster_mz:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_mz
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - type: object
          required:
            - email
            - sex
            - first_name
            - last_name
            - date_of_birth
            - region
            - city
            - address
            - post_code
            - is_not_pep
          properties:
            email:
              type: string
              format: email
            sex:
              $ref: '#/components/schemas/core.sex'
            first_name:
              type: string
              maxLength: 64
            last_name:
              description: First surname
              type: string
              maxLength: 64
            date_of_birth:
              type: string
            region:
              description: Department of residence, ISO 3166-2.
              type: string
              maxLength: 64
            city:
              description: Municipality of residence
              type: string
              maxLength: 64
            address:
              description: Residential address
              type: string
              maxLength: 256
            post_code:
              type: string
              maxLength: 32
            is_not_pep:
              type: boolean
      additionalProperties: false

    request.auth.user_additional_registration_data_personal_data:
      description: |-
        1. For some reason openapi linter raises error when this is inlined in request.auth.user_additional_registration_data below.

        2. betmaster_peru_full is for those who completely skipped personal data in the first phase of the registration.
        betmaster_peru_additional is f or those who provided some personal data in the first phase of the registration
        and now need to provide additional of the data in the second registration phase.

        3. Pay attention to the fact that
          betmaster_peru_full
          and betmaster_peru_additional
          and personal_data.uk
        are not available in auth.personal_data.personal_data_v2 (used in registration requests), because
        these licenses support only multistep registration flow where additional registration data (including personal data)
        is provided on the second registration step.

      oneOf:
        - $ref: '#/components/schemas/auth.personal_data.betmaster_co_full'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_mx_v2'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_peru_full'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_peru_additional'
        - $ref: '#/components/schemas/auth.personal_data.uk'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_mz'
        - $ref: '#/components/schemas/auth.personal_data.default_v2'
        #! - $ref: '#/components/schemas/auth.personal_data.betmaster_iom_v2'
        #! - $ref: '#/components/schemas/auth.personal_data.identity_documents_only_v2'
      discriminator: shape_id

    request.auth.user_additional_registration_data:
      type: object
      required:
        - personal_data
      properties:
        personal_data:
          $ref: '#/components/schemas/request.auth.user_additional_registration_data_personal_data'
        email:
          type: string
          #! format: email
        phone:
          type: string
        country:
          type: string

    auth.personal_data.personal_data_v2:
      oneOf:
        - $ref: '#/components/schemas/auth.personal_data.date_of_birth_only'
        - $ref: '#/components/schemas/auth.personal_data.default_v2'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_mx_v2'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_iom_v2'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_pe_v2'
        - $ref: '#/components/schemas/auth.personal_data.identity_documents_only_v2'
      discriminator: shape_id

    request.auth.register_v2.estonian_id:
      allOf:
        - $ref: '#/components/schemas/request.auth.register._default'
        - type: object
          required:
            - estonian_id
            - auth_flow
            - email
          properties:
            estonian_id:
              $ref: '#/components/schemas/auth.estonian_id'
            auth_flow:
              $ref: '#/components/schemas/auth.estonian_auth_flow'
            email:
              type: string
              #! format: email
            phone:
              description: Required for "mobile_id" auth flow, optional for "smart_id" flow.
              type: string
            market:
              type: string
            personal_data_v2:
              $ref: '#/components/schemas/auth.personal_data.personal_data_v2'

    request.auth.register_v2.email:
      allOf:
        - $ref: '#/components/schemas/request.auth.register._default'
        - type: object
          required:
            - email
            - password
            - country
          properties:
            email:
              type: string
              #! format: email
            password:
              type: string
              format: password
            country:
              type: string
            phone:
              type: string
            market:
              type: string
            personal_data_v2:
              $ref: '#/components/schemas/auth.personal_data.personal_data_v2'

    response.auth.register_v2:
      type: object
      required:
        - user
      properties:
        user:
          $ref: '#/components/schemas/user.user'
        credentials:
          type: object
          description: Credentials for the user registered via account_id
          properties:
            account_id:
              type: string
            password:
              type: string
        challenges_requested:
          $ref: '#/components/schemas/challenges.challenges_requested'

    request.auth.register_v2.phone:
      allOf:
        - $ref: '#/components/schemas/request.auth.register._default'
        - type: object
          required:
            - phone
          properties:
            phone:
              type: string
            email:
              type: string
              #! format: email
            market:
              type: string
            personal_data_v2:
              $ref: '#/components/schemas/auth.personal_data.personal_data_v2'

    auth.personal_data.peruvian_dni:
      type: object
      required:
        - id_type
        - number
      properties:
        id_type:
          type: string
          enum:
            - dni
        number:
          type: string
          pattern: '^\d{8}-\d$'

    auth.personal_data.peruvian_ce:
      type: object
      required:
        - id_type
        - number
      properties:
        id_type:
          type: string
          enum:
            - ce
        number:
          type: string
          pattern: '^\w{0,12}$'

    auth.personal_data.peruvian_passport:
      type: object
      required:
        - id_type
        - number
      properties:
        id_type:
          type: string
          enum:
            - passport
        number:
          type: string
          pattern: '^\w{0,12}$'

    auth.personal_data.peruvian_id:
      oneOf:
        - $ref: '#/components/schemas/auth.personal_data.peruvian_dni'
        - $ref: '#/components/schemas/auth.personal_data.peruvian_ce'
        - $ref: '#/components/schemas/auth.personal_data.peruvian_passport'
      discriminator: id_type

    auth.personal_data.colombian_document_base:
      type: object
      required:
        - issue_date
        - issue_place
      properties:
        issue_date:
          type: string
          description: Date of issue in %d.%m.%Y format.
        issue_place:
          type: string

    auth.personal_data.colombian_citizenship_card:
      allOf:
        - type: object
          required:
            - id_type
            - number
          properties:
            id_type:
              type: string
              enum:
                - citizenship_card
            number:
              type: string
              pattern: '^\d{5,10}$'
        - $ref: '#/components/schemas/auth.personal_data.colombian_document_base'
      additionalProperties: false

    auth.personal_data.colombian_foreigner_id:
      allOf:
        - type: object
          required:
            - id_type
            - number
          properties:
            id_type:
              type: string
              enum:
                - foreigner_id
            number:
              type: string
              pattern: '^[1-9]\d{4,9}$'
        - $ref: '#/components/schemas/auth.personal_data.colombian_document_base'
      additionalProperties: false

    auth.personal_data.colombian_id:
      oneOf:
        - $ref: '#/components/schemas/auth.personal_data.colombian_citizenship_card'
        - $ref: '#/components/schemas/auth.personal_data.colombian_foreigner_id'
      discriminator: id_type

    auth.personal_data.mozambican_nid:
      type: object
      required:
        - nin
        - id_type
        - number
      properties:
        nin:
          type: string
          pattern: '^\d{9}$'
        id_type:
          type: string
          enum:
            - nid
        number:
          type: string
          pattern: '^(?=.*\d)(?![ \-/])[A-Za-z0-9 \-/]{6,20}(?<![ \-/])$'

    auth.personal_data.mozambican_driver_license:
      type: object
      required:
        - nin
        - id_type
        - number
      properties:
        nin:
          type: string
          pattern: '^\d{9}$'
        id_type:
          type: string
          enum:
            - driver_license
        number:
          type: string
          pattern: '^(?=.*\d)(?![ \-/])[A-Za-z0-9 \-/]{6,20}(?<![ \-/])$'

    auth.personal_data.mozambican_passport:
      type: object
      required:
        - nin
        - id_type
        - number
      properties:
        nin:
          type: string
          pattern: '^\d{9}$'
        id_type:
          type: string
          enum:
            - passport
        number:
          type: string
          pattern: '^(?=.*\d)(?![ \-/])[A-Za-z0-9 \-/]{6,20}(?<![ \-/])$'

    auth.personal_data.mozambican_id:
      oneOf:
        - $ref: '#/components/schemas/auth.personal_data.mozambican_nid'
        - $ref: '#/components/schemas/auth.personal_data.mozambican_driver_license'
        - $ref: '#/components/schemas/auth.personal_data.mozambican_passport'
      discriminator: id_type

    auth.personal_data.identity_documents:
      type: object
      properties:
        identity_documents:
          type: object
          properties:
            brazilian_cpf:
              type: object
              properties:
                number:
                  type: string
                  pattern: '^\d{11}$'
            swedish_id:
              type: object
              properties:
                number:
                  type: string
                  pattern: '^\d{12}$'
            danish_cpr:
              type: object
              properties:
                number:
                  type: string
                  pattern: '^\d{6}$|^\d{10}$'
            estonian_id:
              type: object
              properties:
                number:
                  type: string
                  pattern: '^[3-6]\d{10}$'
            peruvian_id:
              $ref: '#/components/schemas/auth.personal_data.peruvian_id'
            colombian_id:
              $ref: '#/components/schemas/auth.personal_data.colombian_id'
            mozambican_id:
              $ref: '#/components/schemas/auth.personal_data.mozambican_id'

    auth.estonian_id:
      type: string
      pattern: '^[3-6]\d{10}$'

    auth.estonian_auth_flow:
      description: integration agnostic Estonian verification flow. For now we have only SKID integration, but could be extended in the future
      type: string
      enum:
        - smart_id
        - mobile_id

    auth.personal_data.identity_documents_only_v2:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - identity_documents_only
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'

    auth.personal_data.betmaster_mx_v2:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_mx
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - type: object
          required:
            - first_name
            - last_name
            - date_of_birth
          properties:
            first_name:
              type:
                string
              maxLength: 64
            last_name:
              type:
                string
              maxLength: 64
            date_of_birth:
              type: string
            sex:
              $ref: '#/components/schemas/core.sex'
            second_last_name:
              type: string
              maxLength: 64
      additionalProperties: false

    auth.personal_data.uk:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - uk
        - $ref: '#/components/schemas/auth.personal_data.base_default_model'
        - type: object
          required:
            - house_number
          properties:
            house_number:
              type: string
      additionalProperties: false

    auth.personal_data.betmaster_iom_v2:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_iom
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - type: object
          required:
            - first_name
            - last_name
            - post_code
            - city
            - address
            - date_of_birth
          properties:
            first_name:
              type: string
              maxLength: 64
            last_name:
              type: string
              maxLength: 64
            post_code:
              type: string
              maxLength: 32
            city:
              type: string
              maxLength: 64
            address:
              type: string
              maxLength: 256
            date_of_birth:
              type: string
            sex:
              $ref: '#/components/schemas/core.sex'
          additionalProperties: false

    auth.personal_data.betmaster_pe_base:
      type: object
      description: Do not use it directly, only for inheritance
      required:
        - first_name
        - last_name
        - date_of_birth
        - nationality
      properties:
        first_name:
          type: string
          maxLength: 64
        last_name:
          type: string
          maxLength: 64
        date_of_birth:
          type: string
        nationality:
          type: string
          maxLength: 64
      additionalProperties: false

    auth.personal_data.betmaster_pe_v2:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - betmaster_pe
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - $ref: '#/components/schemas/auth.personal_data.betmaster_pe_base'

    auth.personal_data.base_default_model:
      description: Base personal data model without shape, do not use it directly
      allOf:
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
        - type: object
          required:
            - first_name
            - last_name
            - post_code
            - city
            - address
            - date_of_birth
          properties:
            first_name:
              type: string
              maxLength: 64
            last_name:
              type: string
              maxLength: 64
            post_code:
              type: string
              maxLength: 32
            city:
              type: string
              maxLength: 64
            address:
              type: string
              maxLength: 256
            date_of_birth:
              type: string
            sex:
              $ref: '#/components/schemas/core.sex'

    auth.personal_data.default_v2:
      allOf:
        - type: object
          required:
            - shape_id
          properties:
            shape_id:
              type: string
              enum:
                - default
        - $ref: '#/components/schemas/auth.personal_data.base_default_model'
      additionalProperties: false

    auth.personal_data.date_of_birth_only:
      allOf:
        - type: object
          required:
            - shape_id
            - date_of_birth
          properties:
            shape_id:
              type: string
              enum:
                - date_of_birth_only
            date_of_birth:
              type: string
              description: Date of birth in %d.%m.%Y format.
        - $ref: '#/components/schemas/auth.personal_data.identity_documents'
      additionalProperties: false

    response.auth.signin_app:
      type: object
      required:
        - user
      properties:
        user:
          $ref: '#/components/schemas/user.user_app'

    response.auth.signin:
      type: object
      required:
        - user
      properties:
        user:
          $ref: '#/components/schemas/user.user'

    request.auth.update_info:
      type: object
      properties:
        language:
          $ref: '#/components/schemas/core.language_code'
        currency_current:
          $ref: '#/components/schemas/core.currency'
    response.auth.info:
      $ref: '#/components/schemas/user.user'

    request.auth.unsubscribe_from_sms:
      description: Request to unsubscribe from SMS and Email messages (email moved from v1 to v2)
      type: object
      required:
        - token
      properties:
        token:
          type: string
          minLength: 7
          maxLength: 7
          format: password
    response.auth.unsubscribe_from_sms:
      description: Response to unsubscribe request from SMS and Email messages (email moved from v1 to v2)
      type: object
      required:
        - unsubscribed
      properties:
        unsubscribed:
          type: boolean

    response.auth.oauth.flow:
      type: object
      required:
        - flow
      properties:
        flow:
          $ref: '#/components/schemas/auth.oauth.flow'

    response.auth.oauth.flow_and_maybe_user:
      type: object
      description: Logged in user is present only if flow.status is "completed"
      required:
        - flow
      properties:
        flow:
          $ref: '#/components/schemas/auth.oauth.flow'
        user:
          $ref: '#/components/schemas/user.user'

    request.auth.oauth.exchange_code:
      type: object
      required:
        - flow_id
        - auth_response
      properties:
        flow_id:
          type: string
        auth_response:
          type: string
          description: Redirect url from OAuth provider (as is)

    request.auth.oauth.finalize:
      type: object
      required:
        - flow_id
      properties:
        flow_id:
          type: string

    request.auth.oauth.register:
      allOf:
        - type: object
          required:
            - flow_id
          properties:
            flow_id:
              type: string
            market:
              type: string
        - $ref: '#/components/schemas/request.auth.register._default'

    request.auth.pkcs.signin:
      type: object
      properties:
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        user_timezone:
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
          type: string
        marketing:
          $ref: '#/components/schemas/auth.marketing'

    request.auth.email.signin:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
        password:
          $ref: '#/components/schemas/auth.password'
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        user_timezone:
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
          type: string
        marketing:
          $ref: '#/components/schemas/auth.marketing'

    request.auth.estonian_id.signin:
      type: object
      required:
        - estonian_id
        - auth_flow
      properties:
        estonian_id:
          $ref: '#/components/schemas/auth.estonian_id'
        auth_flow:
          $ref: '#/components/schemas/auth.estonian_auth_flow'
        phone:
          type: string
          description: Required for "mobile_id" auth flow, optional for "smart_id" flow.
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        user_timezone:
          type: string
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
        marketing:
          $ref: '#/components/schemas/auth.marketing'

    request.auth.account_id.signin:
      type: object
      required:
        - account_id
        - password
      properties:
        account_id:
          type: string
        password:
          $ref: '#/components/schemas/auth.password'
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        user_timezone:
          type: string
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
        marketing:
          $ref: '#/components/schemas/auth.marketing'

    request.auth.email.confirm:
      type: object
      required:
        - id
      properties:
        id:
          type: string
          format: uuid
        token:
          deprecated: true
          type: string
          description: when confirmation is performed via long token
          format: password
        code:
          type: string
          description: confirmation is performed via short code
        device_id:
          $ref: '#/components/schemas/auth.device_id'

    request.auth.email.password.change:
      type: object
      required:
        - password
        - new_password
      properties:
        password:
          type: string
          minLength: 1
          maxLength: 200
          format: password
        new_password:
          $ref: '#/components/schemas/auth.password'

    request.auth.email.password.reset_v2:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          #! format: email
        #! new_password is required only when request is sent with challenges answer headers
        new_password:
          $ref: '#/components/schemas/auth.password'

    request.auth.phone.signin:
      type: object
      required:
        - phone
      properties:
        phone:
          type: string
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        user_timezone:
          type: string
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
        marketing:
          $ref: '#/components/schemas/auth.marketing'

    request.auth.crypto_address.signin:
      type: object
      required:
        - address
        - address_currency
      properties:
        address:
          type: string
          maxLength: 100
          description: Public crypto address
        address_currency:
          $ref: '#/components/schemas/core.crypto_address_currency'
        device_id:
          $ref: '#/components/schemas/auth.device_id'
        user_timezone:
          type: string
          description: IANA timezone identifier e.g. 'Africa/Douala', 'Europe/Oslo'
        marketing:
          $ref: '#/components/schemas/auth.marketing'

    request.auth.promotion_group_type.set:
      type: object
      required:
        - promotion_group_type
      properties:
        promotion_group_type:
          $ref: '#/components/schemas/promotion.group_type'

    request.auth.subscription.create:
      type: object
      required:
        - channels
        - subscription_products
      properties:
        channels:
          type: array
          items:
            $ref: '#/components/schemas/subscription.channel'
        subscription_products:
          type: array
          items:
            $ref: '#/components/schemas/subscription.subscription_product'

    request.auth.signout:
      type: object
      properties:
        all:
          type: boolean
          default: false

    request.auth.deactivate:
      type: object
      properties:
        reason:
          type: string
          description: The reason of deactivation (self-exclusion)
          maxLength: 2000
        block_tag:
          type: string
          enum:
            - take_a_break
            - not_happy_with_product
            - lack_of_interesting_promotions
            - dont_feel_lucky
            - gambling_issue
            - lack_of_personal_bonuses
            - other
        period:
          type: string
          enum:
            - months_3
            - months_6
            - months_12
            - months_24
            - months_60

    response.auth.deactivate:
      type: object
      required:
        - deactivated
      properties:
        deactivated:
          type: boolean

    foreigns.sportradar.landing_matches:
      type: array
      items:
        $ref: '#/components/schemas/foreigns.sportradar.landing_match'
    foreigns.sportradar.landing_match:
      type: object
      required:
        - match_id
      properties:
        match_id:
          type: integer
        competitor_home_player_image_url:
          type: string
          nullable: true
        competitor_home_logo_image_url:
          type: string
          nullable: true
        competitor_home_bg_image_url:
          type: string
          nullable: true
        competitor_home_icon4_image_url:
          type: string
          nullable: true
        competitor_home_icon5_image_url:
          type: string
          nullable: true
        competitor_home_icon6_image_url:
          type: string
          nullable: true
        competitor_away_player_image_url:
          type: string
          nullable: true
        competitor_away_logo_image_url:
          type: string
          nullable: true
        competitor_away_bg_image_url:
          type: string
          nullable: true
        competitor_away_icon4_image_url:
          type: string
          nullable: true
        competitor_away_icon5_image_url:
          type: string
          nullable: true
        competitor_away_icon6_image_url:
          type: string
          nullable: true

    response.auth.generate_auth_token:
      type: object
      required:
        - token
        - exp
      properties:
        token:
          type: string
          format: password
        exp:
          $ref: '#/components/schemas/core.timestamp_millis'

    response.auth.session:
      type: object
      required:
      - created_at
      - id
      - ip
      - status
      properties:
        closed_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        id:
          type: integer
        ip:
          type: string
        status:
          type: string
          enum: ["open", "close", "failure"]
        user_agent:
          type: string
        country:
          type: string
        os:
          type: string

    response.auth.session_list:
      type: object
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/response.auth.session'
        paginator:
          type: object
          properties:
            has_more:
              type: boolean
            next_page_offset_id:
              type: integer

    response.auth.bets_unsettled:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/sports.bet'

    response.auth.bets_unsettled_counter:
      type: object
      required:
        - count
      properties:
        count:
          type: integer

    favorites.casino_game:
      type: array
      items:
        $ref: '#/components/schemas/favorites.favorite_casino_game'

    favorites.sport:
      type: array
      items:
        $ref: '#/components/schemas/favorites.favorite_sport'

    favorites.sport_market:
      type: array
      items:
        $ref: '#/components/schemas/favorites.favorite_sport_market'

    favorites.match:
      type: array
      items:
        $ref: '#/components/schemas/favorites.favorite_match'

    request.casino.auth.anonymous.get_request_token:
      type: object
      required:
        - game_id
        - system
        - return_url
        - language
        - currency
      properties:
        game_id:
          oneOf:
            - type: string
            - type: integer
        system:
          type: string
          description: Casino provider system.
        return_url:
          type: string
        language:
          $ref: '#/components/schemas/core.language_code'
        currency:
          type: string
        mobile:
          type: boolean
          default: false
    response.casino.auth.anonymous.get_request_token:
      type: object
      required:
        - request_token
      properties:
        request_token:
          type: string
          format: password
    request.casino.auth.demo.request_launch_url:
      type: object
      required:
        - game_id
        - return_url
        - language
      properties:
        game_id:
          type: integer
        return_url:
          type: string
        language:
          $ref: '#/components/schemas/core.language_code'
        mobile:
          type: boolean
          default: false
    request.casino.auth.request_launch_url_v2:
      type: object
      required:
        - game_id
        - return_url
      properties:
        game_id:
          type: integer
        return_url:
          type: string
        language:
          $ref: '#/components/schemas/core.language_code'
        currency:
          type: string
        mobile:
          type: boolean
          default: false
        signin_event_id:
          type: integer
    response.casino.auth.request_launch_url_v2:
      type: object
      required:
        - time
        - launch_id
      properties:
        time:
          type: integer
        launch_id:
          type: string
          format: uuid
    response.casino.auth.anonymous.get_demo_game_url:
      type: object
      required:
        - game_url
      properties:
        game_url:
          type: string
          nullable: true
          description: |-
            Null value if request for casino.auth.anonymous.get_request_token
            still in processing, request could be retried later.

    response.marketing.offer:
      $ref: '#/components/schemas/marketing.offer'
    response.marketing.offers.list:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/marketing.offer'

    response.marketing.offers.multistage_offers:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/marketing.multistage_offer'

    response.marketing.offers.regular_bonus_offers:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/marketing.regular_bonus_offer'


    messaging.channel:
      type: string
      enum:
        - PULL_TECHNICAL

    messaging.message.base:
      type: object
      required:
        - created_at
        - is_read
        - message_id
        - channel
      properties:
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        is_read:
          type: boolean
        message_id:
          type: string
        channel:
          $ref: '#/components/schemas/messaging.channel'

    messaging.message.body.base:
      type: object
      required:
        - user_id
        - user_currency
      properties:
        user_id:
          type: string
        user_currency:
          $ref: '#/components/schemas/core.currency'

    messaging.message.deposit:
      allOf:
        - $ref: '#/components/schemas/messaging.message.base'
        - type: object
          required:
            - body
            - event_type
          properties:
            event_type:
              type: string
              enum:
                - DEPOSIT_INITIATED
                - DEPOSIT_SUCCEEDED
                - DEPOSIT_FAILED
            body:
              allOf:
                - $ref: '#/components/schemas/messaging.message.body.base'
                - type: object
                  required:
                    - is_first
                    - amount
                    - payment_system
                    - transaction_uuid
                    - registration_date
                    - days_since_registration
                  properties:
                    is_first:
                      type: boolean
                    amount:
                      type: object
                      required:
                        - value
                        - currency
                      properties:
                        value:
                          type: string
                        currency:
                          $ref: '#/components/schemas/core.currency'
                    payment_system:
                      type: string
                      format: bm.models.PAYMENT_SYSTEM
                    transaction_uuid:
                      type: string
                    welcome_promo_code:
                      type: string
                    registration_date:
                      type: integer
                    days_since_registration:
                      type: integer

    messaging.message.withdraw:
      allOf:
        - $ref: '#/components/schemas/messaging.message.base'
        - type: object
          required:
            - body
            - event_type
          properties:
            event_type:
              type: string
              enum:
                - WITHDRAWAL_INITIATED
                - WITHDRAWAL_SUCCEEDED
                - WITHDRAWAL_FAILED
            body:
              allOf:
                - $ref: '#/components/schemas/messaging.message.body.base'
                - type: object
                  required:
                    - is_first
                    - amount
                    - payment_system
                    - transaction_uuid
                  properties:
                    is_first:
                      type: boolean
                    amount:
                      type: object
                      required:
                        - value
                        - currency
                      properties:
                        value:
                          type: string
                        currency:
                          $ref: '#/components/schemas/core.currency'
                    payment_system:
                      type: string
                      format: bm.models.PAYMENT_SYSTEM
                    transaction_uuid:
                      type: string
                    welcome_promo_code:
                      type: string

    messaging.message.user.registration.status.changed:
      allOf:
        - $ref: '#/components/schemas/messaging.message.base'
        - type: object
          required:
            - body
            - event_type
          properties:
            event_type:
              type: string
              enum:
                - USER_REGISTRATION_STATUS_CHANGED
            body:
              allOf:
                - $ref: '#/components/schemas/messaging.message.body.base'
                - type: object
                  required:
                    - type
                    - status
                    - promotion_group_type
                  properties:
                    type:
                      type: string
                      enum:
                        - email
                        - phone
                    status:
                      type: string
                      enum:
                        - STARTED
                        - CONFIRMED
                    promotion_group_type:
                      $ref: '#/components/schemas/promotion.group_type'

    messaging.message.user.signed_in:
      allOf:
        - $ref: '#/components/schemas/messaging.message.base'
        - type: object
          required:
            - body
            - event_type
          properties:
            event_type:
              type: string
              enum:
                - USER_SIGNED_IN
            body:
              $ref: '#/components/schemas/messaging.message.body.base'

    messaging.message:
      oneOf:
        - $ref: '#/components/schemas/messaging.message.deposit'
        - $ref: '#/components/schemas/messaging.message.withdraw'
        - $ref: '#/components/schemas/messaging.message.user.registration.status.changed'
        - $ref: '#/components/schemas/messaging.message.user.signed_in'

    response.messaging.message.page:
      type: object
      required:
        - data
        - paginator
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/messaging.message'
        paginator:
          type: object
          required:
            - has_more
          properties:
            has_more:
              type: boolean
            next_page_offset_id:
              type: number

    request.messaging.message.read:
      type: object
      required:
        - message_id
      properties:
        message_id:
          type: string

    response.agreements.list:
      type: array
      items:
        $ref: '#/components/schemas/agreements.agreement'
    response.agreements.detail:
      $ref: '#/components/schemas/agreements.agreement'

    request.payment.cryptocurrencies.deposit:
      type: object
      required:
        - amount
      properties:
        billing_address_id:
          type: string
          format: uuid
        amount:
          type: object
          required:
            - foreign
          properties:
            face:
              type: object
              required:
                - currency
              properties:
                currency:
                  $ref: '#/components/schemas/core.currency'
            foreign:
              type: object
              required:
                - currency
              properties:
                currency:
                  $ref: '#/components/schemas/core.currency_crypto'

    response.payment.currencies.currency_secondary:
      type: array
      items:
        type: object
        required:
          - currency
          - enabled
        properties:
          currency:
            $ref: '#/components/schemas/core.currency'
          balance:
            $ref: '#/components/schemas/user.balance_v2_type'
          enabled:
            type: boolean

    response.payment.payment_system.status:
      type: object
      required:
        - transaction
      properties:
        transaction:
          $ref: '#/components/schemas/payment.payment_system.status'

    response.payment.v2.cardpay_openbanking.deposit.bank:
      type: object
      required:
        - bank_code
        - bank_name
      properties:
        bank_code:
          type: string
        bank_name:
          type: string

    response.payment.v2.cardpay_openbanking.deposit.extra_data:
      type: object
      required:
        - banks_list
      properties:
        banks_list:
          type: array
          items:
            $ref: '#/components/schemas/response.payment.v2.cardpay_openbanking.deposit.bank'

    response.payment.v2.cards.deposit.brazilian_cpf:
      type: object
      required:
        - must_present
      properties:
        must_present:
          type: boolean

    response.payment.v2.cards.deposit.mexican_curp:
      type: object
      required:
        - must_present
      properties:
        value:
          type: string
          pattern: ^[a-zA-Z]{4}\d{6}[hmHM][a-zA-Z]{5}\w{2}$
          description: |-
            If the value is null, let the user enter it.
            If the value is set, the user is not allowed to change it.
        must_present:
          type: boolean

    response.payment.v2.cards.deposit.extra_data:
      type: object
      required:
        - extra_fields
      properties:
        extra_fields:
          type: object
          required:
            - brazilian_cpf
            - mexican_curp
          properties:
            brazilian_cpf:
              $ref: '#/components/schemas/response.payment.v2.cards.deposit.brazilian_cpf'
            mexican_curp:
              $ref: '#/components/schemas/response.payment.v2.cards.deposit.mexican_curp'
            is_credit_card:
              type: boolean

    payment.v2.card_linking.card_linking_status:
      type: string
      enum:
        - pending
        - processing
        - success
        - failed
      description: LinkedCard status

    request.payment.v2.card_linking.create:
      type: object
      required:
        - card
        - currency
        - amount
      properties:
        card:
          type: object
          required:
            - num
            - expires
            - holder
            - cvv
          properties:
            num:
              type: string
              description: Card number
            expires:
              type: string
              description: Expiry date (MM/YY format)
            holder:
              type: string
              description: Card holder name
            cvv:
              type: string
              description: CVV code

    response.payment.v2.card_linking.status:
      type: object
      required:
        - uuid
        - status
        - amount
        - currency
        - created_at
      properties:
        uuid:
          type: string
          format: uuid
          description: LinkedCard UUID
        status:
          $ref: '#/components/schemas/payment.v2.card_linking.card_linking_status'
        amount:
          type: string
          description: Pre-authorization amount
        currency:
          type: string
          description: Currency code
        created_at:
          type: string
          format: date-time
          description: Creation timestamp
        form_data:
          type: object
          properties:
            action_url:
              type: string
              format: url
            method:
              type: string
              enum: [ 'get', 'post' ]
            fields:
              type: object
            status:
              type: string
              enum:
                - form_submit
                - redirect

    response.payment.v2.card_linking.list:
      type: object
      required:
        - linked_cards
      properties:
        linked_cards:
          type: array
          items:
            type: object
            required:
              - uuid
              - status
              - amount
              - currency
              - created_at
              - updated_at
            properties:
              uuid:
                type: string
                format: uuid
                description: LinkedCard UUID
              status:
                $ref: '#/components/schemas/payment.v2.card_linking.card_linking_status'
              amount:
                type: string
                description: Pre-authorization amount
              currency:
                type: string
                description: Currency code
              created_at:
                type: string
                format: date-time
                description: Creation timestamp
              updated_at:
                type: string
                format: date-time
                description: Last update timestamp

    response.payment.v2.card_linking.latest:
      type: object
      required:
        - uuid
        - status
        - amount
        - currency
        - has_withdrawals
      properties:
        uuid:
          type: string
          format: uuid
          description: LinkedCard UUID
        status:
          $ref: '#/components/schemas/payment.v2.card_linking.card_linking_status'
        amount:
          type: string
          description: Pre-authorization amount
        currency:
          type: string
          description: Currency code
        has_withdrawals:
          type: boolean
          description: Whether the card has successful withdrawals

    casino.history_item_game:
      type: object
      required:
        - id
        - name
        - game_type
      properties:
        id:
          type: integer
        name:
          type: string
        game_type:
          $ref: '#/components/schemas/casino.game_type'

    casino.history_item_action:
      type: object
      required:
        - id
        - created_at
        - amount
      properties:
        id:
          type: string
        created_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        amount:
          $ref: '#/components/schemas/core.money'

    casino.history_item:
      type: object
      required:
        - game
        - bet
        - win
        - tax_amount
        - is_bonus
      properties:
        game:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/casino.history_item_game'
        bet:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/casino.history_item_action'
        win:
          nullable: true
          allOf:
            - $ref: '#/components/schemas/casino.history_item_action'
        tax_amount:
          $ref: '#/components/schemas/core.money_amount'
        is_bonus:
          type: boolean

    payment.payment_system.status:
      type: object
      required:
        - id
        - status
        - system
      properties:
        id:
          type: string
          format: uuid
        status:
          type: string
          enum:
            - approved
            - void
            - declined
            - failure
            - pending
            - redirect
            - form_submit
        system:
          type: string
          format: bm.models.PAYMENT_SYSTEM
        subsystem:
          type: string
          format: bm.models.PaymentSubsystem
        url:
          type: string
        decline_code:
          type: string
          format: bm.models.TRANSACTION_DECLINE_CODE
          nullable: true
        decline_reason:
          type: string
          nullable: true
        iframe_id:
          type: string
          description: For Flykk
        reference:
          type: string
          nullable: true
          description: For ConektaOxxo
        form_data:
          type: object
          properties:
            action_url:
              type: 'string'
              format: urls
            method:
              type: 'string'
              enum:
              - get
              - post
            fields:
              type: object
        error:
          $ref: '#/components/schemas/core.http_error'

    response.payment.cryptocurrencies.deposit:
      type: object
      required:
        - currency
      properties:
        currency:
          $ref: '#/components/schemas/core.currency_crypto'
        address:
          type: string
          nullable: true
        tag:
          type: string
          nullable: true

    response.rewards.offline.reward_offline_details:
      $ref: '#/components/schemas/rewards.offline_reward'

    response.rewards.offline.reward_offline_apply:
      $ref: '#/components/schemas/rewards.offline_reward'

    response.rewards.list:
      type: array
      items:
        $ref: '#/components/schemas/rewards.reward'

    response.stats.user_ggr:
      type: object
      required:
        - ggr_for_last_year
        - ggr_since_last_login
      properties:
        ggr_for_last_year:
          $ref: '#/components/schemas/core.money_amount'
        ggr_since_last_login:
          $ref: '#/components/schemas/core.money_amount'

    response.promotion.codes:
      type: object
      required:
        - items
      properties:
        items:
          type: array
          items:
            $ref: '#/components/schemas/promotion.code'

    promotion.code:
      type: object
      required:
        - title
        - code
        - promotion_group_type
      properties:
        title:
          type: string
        form_title:
          type: string
        image_url:
          type: string
        code:
          type: string
        legal:
          deprecated: true
          type: string
        policy:
          deprecated: true
          type: string
        promotion_group_type:
          $ref: '#/components/schemas/promotion.group_type'
        bound_offer:
          $ref: '#/components/schemas/marketing.offer'

    response.promotion.user_deposit_promo_campaign_id:
      type: object
      required:
        - deposit_promo_campaign_id
      properties:
        deposit_promo_campaign_id:
          type: integer
          nullable: true

    request.promotion.set_user_deposit_promo_campaign_id:
      type: object
      required:
        - deposit_promo_campaign_id
      properties:
        deposit_promo_campaign_id:
          type: integer
          nullable: true

    response.user.betting_block_promo_money_public_reward_id:
      type: object
      required:
        - betting_block_promo_money_public_reward_id
      properties:
        betting_block_promo_money_public_reward_id:
          type: string
          format: uuid
          nullable: true

    request.sports.betting.cashout:
      type: object
      required:
        - cashout_context
      properties:
        cashout_context:
          $ref: '#/components/schemas/sports.cashout_context'

    response.sports.betting.cashout:
      type: object
      required:
        - bet
        - balance_v2
      properties:
        bet:
          $ref: '#/components/schemas/sports.bet'
        balance_v2:
          $ref: '#/components/schemas/user.balance_v2'

    response.sports.betting.cashout_request_status:
      type: object
      required:
        - countdown_seconds
      properties:
        countdown_seconds:
          type: integer

    response.sports.betting.cashout_context_error.error:
      allOf:
        - $ref: '#/components/schemas/core._http_error_base'
        - type: object
          required:
            - code
            - reason_data
          properties:
            code:
              type: integer
              enum:
                - 509
              description: internal api error code
            reason_data:
              type: object
              required:
                - cashout_context
              properties:
                cashout_context:
                  $ref: '#/components/schemas/sports.cashout_context'

    response.casino.live_games_info:
      type: object
      description: Contains live information.
      required:
        - games
      properties:
        games:
          type: object
          description: 'Format: {<game_foreign_id1>: {...}, <game_foreign_id2: {...}>, ...}.'
          additionalProperties:
            type: object
            required:
              - seats_taken
              - game_foreign_id
              - bet_limits
            properties:
              seats_taken:
                type: integer
                description: Number of players.
              game_foreign_id:
                type: string
                description: Game foreign ID.
              bet_limits:
                type: object
                nullable: true

    response.casino.live_games_info_v2:
      type: object
      description: Contains live information.
      required:
        - games
      properties:
        games:
          type: object
          description: 'Format: {<game_id1>: {...}, <game_id2: {...}>, ...}.'
          additionalProperties:
            type: object
            required:
              - seats_taken
              - game_foreign_id
              - bet_limits
            properties:
              seats_taken:
                type: integer
                description: Number of players.
              game_foreign_id:
                type: string
                description: Game foreign ID.
              bet_limits:
                type: object
                nullable: true

    response.casino.live_games_info_v3:
      type: object
      description: Contains live information.
      required:
        - games
      properties:
        games:
          type: object
          description: 'Format: {<game_id1>: {...}, <game_id2: {...}>, ...}.'
          additionalProperties:
            type: object
            required:
              - seats_taken
              - game_foreign_id
              - bet_limits
            properties:
              seats_taken:
                type: integer
                description: Number of players.
              game_foreign_id:
                type: string
                description: Game foreign ID.
              bet_limits:
                type: object
                nullable: true

    response.casino.bingo_rooms_info:
      type: object
      description: Contains bingo rooms information.
      required:
        - active_room_list
        - upcoming_room_list
      properties:
        active_room_list:
          type: array
          items:
            $ref: '#/components/schemas/casino.bingo_room_info'
        upcoming_room_list:
          type: array
          items:
            $ref: '#/components/schemas/casino.bingo_room_info'

    casino.bingo_room_info:
      type: object
      description: Contains bingo rooms information.
      required:
        - room_id
        - next_game_start
        - players_in_room
        - card_cost
        - bingo_type
      properties:
        room_id:
          type: integer
        room_name:
          type: string
          nullable: true
        next_game_start:
          type: integer
        players_in_room:
          type: integer
        amount:
          type: number
          nullable: true
        prize:
          type: number
          nullable: true
        card_cost:
          type: array
          items:
            type: number
        bingo_type:
          type: integer

    response.seo_data.seo_page_data:
      type: object
      description: Contains page title, content, description
      required:
        - title
        - content
        - description
      properties:
        title:
          $ref: '#/components/schemas/core.localized_dict'
        content:
          $ref: '#/components/schemas/core.localized_dict'
        description:
          $ref: '#/components/schemas/core.localized_dict'

    sumsub.sow_flow_data:
      type: object
      required:
        - name
        - updated_at
        - status
        - step
        - initiator
      properties:
        name:
          type: string
          enum:
            - SOW-level-IOM
            - SOW-level-mga
            - SOW_EE
            - sow_cw
            - sow_iom
            - sow_mga
            - sow_rg_mga
            - sow_sof_questionnaire_cw
            - sow_sof_questionnaire_iom
            - sow_sof_questionnaire_mga
            - sow_sof_questionnaire_rg_mga
            - sow_uk
            - test-SOW-level-IOM
            - test-SOW-level-mga
            - test-SOW_EE
            - test-sow_cw
            - test-sow_iom
            - test-sow_mga
            - test-sow_rg_mga
            - test-sow_sof_questionnaire_cw
            - test-sow_sof_questionnaire_iom
            - test-sow_sof_questionnaire_mga
            - test-sow_sof_questionnaire_rg_mga
            - test-sow_uk
        updated_at:
          $ref: '#/components/schemas/core.timestamp_millis'
        status:
          type: string
          enum:
            - RED
            - GREEN
            - UNKNOWN
        step:
          type: string
          enum:
            - initiated
            - in_progress
            - finished
        initiator:
          type: string
          enum:
            - USER
            - SYSTEM

    response.sumsub.websdk.params:
      type: object
      required:
        - token
        - is_production
      properties:
        token:
          type: string
          format: password
        is_production:
          type: boolean

    response.challenges.any_error.error:
      anyOf:
        - $ref: '#/components/schemas/core.http_error'
        - $ref: '#/components/schemas/response.challenges.challenges_required_error.error'
        - $ref: '#/components/schemas/response.challenges.challenges_incorrect_answers_error.error'
        - $ref: '#/components/schemas/response.challenges.challenges_are_invalid_error.error'

    isikukood_verification.verificationStatus:
      type: string
      enum:
        #@ for name in data.values.verificationStatus:
        - #@ name
        #@ end

    isikukood_verification.verificationErrorCode:
      type: string
      enum:
        #@ for name in data.values.verificationErrorCode:
        - #@ name
        #@ end

    response.eesti.isikukood_verification.status:
      type: object
      required:
        - status
      properties:
        status:
          $ref: '#/components/schemas/isikukood_verification.verificationStatus'
        error_code:
          $ref: '#/components/schemas/isikukood_verification.verificationErrorCode'

    response.smartid.isikukood_verification.status:
      type: object
      required:
        - status
      properties:
        status:
          $ref: '#/components/schemas/isikukood_verification.verificationStatus'
        error_code:
          $ref: '#/components/schemas/isikukood_verification.verificationErrorCode'

    request.eesti.isikukood_verification.init:
      type: object
      required:
        - isikukood
      properties:
        isikukood:
          type: string
          pattern: '^\d{11}$'
        phone:
          type: string
          nullable: true
        verificator_type:
          type: string
          enum:
            - SMART_ID
            - MOBILE_ID

    request.compliance_message.appeal:
      type: object
      required:
        - content
      properties:
        content:
          type: string
          maxLength: 2000
    request.compliance_message.resolve:
      type: object
      required:
        - action
      properties:
        action:
          type: string
          maxLength: 512
          enum:
            - 'take a break'
            - "i'm ok"
            - "i'm in control"
            - 'contact support'
            - confirm
            - close
            - timeout
            - rg_page_opened
        repeat_in_days:
          type: integer
          minimum: 1
          maximum: 180
          description: Number of days to repeat the compliance message if applicable.

    questionnaires.question_answer:
      type: object
      required:
        - public_id
        - text
      properties:
        public_id:
          type: string
          format: uuid
        text:
          type: string

    questionnaires.question:
      type: object
      required:
        - public_id
        - text
        - answers
        - position
      properties:
        public_id:
          type: string
          format: uuid
        text:
          type: string
        answers:
          type: array
          items:
            $ref: '#/components/schemas/questionnaires.question_answer'
        user_answer_public_id:
          type: string
          nullable: true
          format: uuid
        position:
          type: integer

    response.questionnaires.error:
      type: object
      required:
        - message
      properties:
        message:
          type: string

    response.questionnaires.question:
      type: object
      required:
        - questions_count
        - questionnaire_status
        - questionnaire_type
        - questionnaire_public_id
      properties:
        question:
          $ref: '#/components/schemas/questionnaires.question'
        questions_count:
          type: integer
        questionnaire_status:
          type: string
          enum:
            - in_progress
            - submitted
            - not_started
        questionnaire_type:
          type: string
          enum:
            - gambling_behavior
        questionnaire_public_id:
          type: string
          format: uuid

    request.questionnaires.answer:
      type: object
      required:
        - answer_public_id
      properties:
        answer_public_id:
          type: string
          format: uuid
        question_to_get:
          type: string
          nullable: true
          enum:
            - next
            - previous
          description: Return next or previous question if set.

    verification.jumio_verification_method:
      type: object
      required:
        - provider
        - verification_url
      properties:
        provider:
          type: string
          enum:
            - jumio
        verification_url:
          type: string
          format: uri

    verification.verification_data:
      required:
        - provider
        - user_transaction_public_id
        - verification_method
      properties:
        provider:
          type: string
          enum:
            - jumio
        user_transaction_public_id:
          type: string
          format: uuid
        verification_method:
          oneOf:
           - $ref: '#/components/schemas/verification.jumio_verification_method'

    response.verification.v1.active_verification:
      type: object
      description: Active verification data if exists
      properties:
        data:
          $ref: '#/components/schemas/verification.verification_data'

    response.eesti.isikukood_verification.init:
      type: object
      required:
        - code
      properties:
        code:
          type: number

    response.hide_products:
      type: object
      properties:
        #@yaml/text-templated-strings
        #@ for product in data.values.coreProduct:
          (@= product @):
            type: boolean
        #@ end

    response.user.product_group:
      type: string
      enum:
        #@ for name in data.values.productGroup:
        - #@ name
        #@ end

    #! Autogenerated definitions

    _: #@ template.replace(partner_program_components())
    _: #@ template.replace(payment_components())
    _: #@ template.replace(promotion_components())
    _: #@ template.replace(extra_spec_definitions())
