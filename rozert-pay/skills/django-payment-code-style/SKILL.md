---
name: django-payment-code-style
description: Использовать для изменений Python/Django-кода в rozert-pay, где нужно соблюдать проектный стиль, fail-fast-поведение, правила логирования и ограничения моделей.
---

# Стиль Django Payment Кода

Используй этот навык для задач реализации или ревью, где нужно строго соблюдать проектные стандарты кодирования.

## Порядок работы

1. Прочитать гайд по стилю: `docs/agents/engineering-style-guide.md`.
2. Держать бизнес-логику в модулях `services`.
3. Держать модели/serializers/views/admin тонкими и явными.
4. Проверять правила именования, читаемости и явного доступа к атрибутам.
5. Проверять структуру логирования и маскирование чувствительных данных.
6. Проверять fail-fast поведение и обработку исключений.
7. Обновлять тесты при изменении поведения.
8. Обновлять admin-конфигурацию при изменении моделей.
9. Запускать проверки:
   - таргетные тесты;
   - `make mypy` для типизированного кода;
   - `make lint` и `make pylint`, когда изменения затрагивают стиль в широком объеме.

## Жесткие ограничения

- Без немого проглатывания исключений.
- Без динамического доступа к атрибутам в прикладном коде без строгого инфраструктурного обоснования.
- Без сырых чувствительных данных в логах.
